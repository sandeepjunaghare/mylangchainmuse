/* eslint-disable */
var Sw=Object.defineProperty;var n=(t,e)=>Sw(t,"name",{value:e,configurable:!0});var L=(t,e)=>{for(var i in e)Sw(t,i,{get:e[i],enumerable:!0})};function Ew(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(Ew,"__rest");function Pw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(Pw,"__setFunctionName");function b(t,e,i,o){function r(s){return s instanceof i?s:new i(function(l){l(s)})}return n(r,"adopt"),new(i||(i=Promise))(function(s,l){function p(m){try{h(o.next(m))}catch(y){l(y)}}n(p,"fulfilled");function f(m){try{h(o.throw(m))}catch(y){l(y)}}n(f,"rejected");function h(m){m.done?s(m.value):r(m.value).then(p,f)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(b,"__awaiter");function Cw(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Cw,"__values");function Io(t){return this instanceof Io?(this.v=t,this):new Io(t)}n(Io,"__await");function Nw(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,s=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(x){o[x]&&(r[x]=function(T){return new Promise(function(k,C){s.push([x,T,k,C])>1||p(x,T)})})}function p(x,T){try{f(o[x](T))}catch(k){y(s[0][3],k)}}function f(x){x.value instanceof Io?Promise.resolve(x.value.v).then(h,m):y(s[0][2],x)}function h(x){p("next",x)}function m(x){p("throw",x)}function y(x,T){x(T),s.shift(),s.length&&p(s[0][0],s[0][1])}}n(Nw,"__asyncGenerator");function Aw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Cw=="function"?Cw(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(s){i[s]=t[s]&&function(l){return new Promise(function(p,f){l=t[s](l),r(p,f,l.done,l.value)})}}function r(s,l,p,f){Promise.resolve(f).then(function(h){s({value:h,done:p})},l)}}n(Aw,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function I(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(I,"__classPrivateFieldSet");var Xy={};L(Xy,{ChannelError:()=>zr,InnertubeError:()=>v,MissingParamError:()=>Ln,OAuthError:()=>mi,ParsingError:()=>It,Platform:()=>D,PlayerError:()=>Gt,SessionError:()=>ys,base64ToU8:()=>yb,concatMemos:()=>Ob,debugFetch:()=>SP,deepCompare:()=>f_,escapeStringRegexp:()=>Gb,generateRandomString:()=>Nt,generateSidAuth:()=>qy,getRandomUserAgent:()=>No,getStringBetweenStrings:()=>Ue,hasKeys:()=>kP,isTextRun:()=>ot,streamToIterable:()=>zy,throwIfMissing:()=>ie,timeToSeconds:()=>je,u8ToBase64:()=>ct});var Gy={};L(Gy,{Maybe:()=>So,Memo:()=>Oi,SuperParsedResult:()=>Zt,YTNode:()=>a,observe:()=>se});var Vi,ge=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(ge,"Log");Vi=ge;ge.YTJS_TAG="YOUTUBEJS";ge.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};ge.log_map_={[ge.Level.ERROR]:(...t)=>console.error(...t),[ge.Level.WARNING]:(...t)=>console.warn(...t),[ge.Level.INFO]:(...t)=>console.info(...t),[ge.Level.DEBUG]:(...t)=>console.debug(...t)};ge.log_level_=[ge.Level.WARNING];ge.one_time_warnings_issued_=new Set;ge.warnOnce=(t,...e)=>{Vi.one_time_warnings_issued_.has(t)||(Vi.doLog(ge.Level.WARNING,t,e),Vi.one_time_warnings_issued_.add(t))};ge.warn=(t,...e)=>Vi.doLog(ge.Level.WARNING,t,e);ge.error=(t,...e)=>Vi.doLog(ge.Level.ERROR,t,e);ge.info=(t,...e)=>Vi.doLog(ge.Level.INFO,t,e);ge.debug=(t,...e)=>Vi.doLog(ge.Level.DEBUG,t,e);var Y=ge;var Hy,Rw,Le,Jy,fe,Qt,gi,ko,Mw=Symbol("ObservedArray.isObserved"),a=class{constructor(){Hy.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,Hy,"m",Rw).call(this,i))}as(...e){if(!this.is(...e))throw new It(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new It(`Missing key ${e}`);return new So(this[e])}};n(a,"YTNode");Hy=new WeakSet,Rw=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var So=class{constructor(e){Le.add(this),Jy.set(this,"Maybe"),fe.set(this,void 0),I(this,fe,e,"f")}get typeof(){return typeof d(this,fe,"f")}string(){return d(this,Le,"m",gi).call(this,"string")}isString(){return d(this,Le,"m",Qt).call(this,"string")}number(){return d(this,Le,"m",gi).call(this,"number")}isNumber(){return d(this,Le,"m",Qt).call(this,"number")}bigint(){return d(this,Le,"m",gi).call(this,"bigint")}isBigint(){return d(this,Le,"m",Qt).call(this,"bigint")}boolean(){return d(this,Le,"m",gi).call(this,"boolean")}isBoolean(){return d(this,Le,"m",Qt).call(this,"boolean")}symbol(){return d(this,Le,"m",gi).call(this,"symbol")}isSymbol(){return d(this,Le,"m",Qt).call(this,"symbol")}undefined(){return d(this,Le,"m",gi).call(this,"undefined")}isUndefined(){return d(this,Le,"m",Qt).call(this,"undefined")}null(){if(d(this,fe,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}isNull(){return d(this,fe,"f")===null}object(){return d(this,Le,"m",gi).call(this,"object")}isObject(){return d(this,Le,"m",Qt).call(this,"object")}function(){return d(this,Le,"m",gi).call(this,"function")}isFunction(){return d(this,Le,"m",Qt).call(this,"function")}array(){if(!Array.isArray(d(this,fe,"f")))throw new TypeError(`Expected array, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new So(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,fe,"f"))}node(){if(!(d(this,fe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${d(this,fe,"f").constructor.name}`);return d(this,fe,"f")}isNode(){return d(this,fe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}isObserved(){var e;return(e=d(this,fe,"f"))===null||e===void 0?void 0:e[Mw]}parsed(){if(!(d(this,fe,"f")instanceof Zt))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,fe,"f")}`);return d(this,fe,"f")}isParsed(){return d(this,fe,"f")instanceof Zt}any(){return Y.warn(d(this,Jy,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,fe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,fe,"f").constructor.name}`);return d(this,fe,"f")}isInstanceof(e){return d(this,fe,"f")instanceof e}};n(So,"Maybe");Jy=new WeakMap,fe=new WeakMap,Le=new WeakSet,Qt=n(function(e){return typeof d(this,fe,"f")===e},"_Maybe_checkPrimative"),gi=n(function(e){if(!d(this,Le,"m",Qt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,fe,"f")},"_Maybe_assertPrimative");var Zt=class{constructor(e){ko.set(this,void 0),I(this,ko,e,"f")}get is_null(){return d(this,ko,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,ko,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,ko,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,ko,"f")}};n(Zt,"SuperParsedResult");ko=new WeakMap;function se(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((s,l)=>{let p=f_(o,s);return p&&r&&e.splice(l,1),p}):i==Mw?!0:i=="getAll"?(o,r)=>e.filter((s,l)=>{let p=f_(o,s);return p&&r&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>se(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>se(e.map(r=>{if(r.is(...o))return r;throw new It(`Expected node of any type ${o.map(s=>s.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(se,"observe");var Oi=class extends Map{getType(...e){return e=e.flat(),se(e.flatMap(i=>this.get(i.type)||[]))}};n(Oi,"Memo");var Jb={};L(Jb,{Author:()=>M,ChildElement:()=>Qv,EmojiRun:()=>Di,Format:()=>Kg,Text:()=>u,TextRun:()=>Li,Thumbnail:()=>w,VideoDetails:()=>so});var q={};L(q,{CLIENTS:()=>de,INNERTUBE_HEADERS_BASE:()=>vC,OAUTH:()=>_C,STREAM_HEADERS:()=>xi,URLS:()=>ut});var ut=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),_C=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),de=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),xi=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),vC=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var c={};L(c,{addRuntimeParser:()=>Nb,applyCommentsMutations:()=>o1,applyMutations:()=>i1,getDynamicParsers:()=>TE,getParserByName:()=>Ph,hasParser:()=>Gg,parse:()=>qe,parseActions:()=>t1,parseArray:()=>Ke,parseC:()=>e1,parseFormats:()=>Rb,parseItem:()=>ae,parseLC:()=>Ab,parseRR:()=>qg,parseResponse:()=>IE,sanitizeClassName:()=>Ah,setParserErrorHandler:()=>bE,shouldIgnore:()=>ZS});var Wo={};L(Wo,{AboutChannel:()=>k_,AboutChannelView:()=>I_,AccountChannel:()=>S_,AccountItemSection:()=>E_,AccountItemSectionHeader:()=>C_,AccountSectionList:()=>P_,AddBannerToLiveChatCommand:()=>FI,AddChatItemAction:()=>I0,AddLiveChatTickerItemAction:()=>YI,Alert:()=>or,AlertWithButton:()=>D_,AnalyticsMainAppKeyMetrics:()=>$w,AnalyticsRoot:()=>Kw,AnalyticsShortsCarouselCard:()=>qw,AnalyticsVideo:()=>B_,AnalyticsVodCarouselCard:()=>Xw,AnchoredSection:()=>Ug,AppendContinuationItemsAction:()=>Ro,AttributionView:()=>F_,AudioOnlyPlayability:()=>Y_,AuthorCommentBadge:()=>Pv,AutomixPreviewVideo:()=>Bi,AvatarView:()=>U_,BackstageImage:()=>j_,BackstagePost:()=>Fi,BackstagePostThread:()=>eT,BrowseFeedActions:()=>H_,BrowserMediaSession:()=>tT,Button:()=>S,ButtonView:()=>Mo,C4TabbedHeader:()=>Wi,CallToActionButton:()=>iT,Card:()=>oT,CardCollection:()=>vv,CarouselHeader:()=>gv,CarouselItem:()=>nT,CarouselLockup:()=>pv,Channel:()=>xv,ChannelAboutFullMetadata:()=>nl,ChannelAgeGate:()=>rT,ChannelExternalLinkView:()=>T_,ChannelFeaturedContent:()=>sT,ChannelHeaderLinks:()=>J_,ChannelHeaderLinksView:()=>G_,ChannelMetadata:()=>yv,ChannelMobileHeader:()=>aT,ChannelOptions:()=>bv,ChannelOwnerEmptyState:()=>uT,ChannelSubMenu:()=>pl,ChannelTagline:()=>hv,ChannelThumbnailWithLink:()=>lT,ChannelVideoPlayer:()=>cT,Chapter:()=>wv,ChildVideo:()=>dT,ChipCloud:()=>_t,ChipCloudChip:()=>xe,ClipAdState:()=>K_,ClipCreation:()=>q_,ClipCreationScrubber:()=>$_,ClipCreationTextInput:()=>z_,ClipSection:()=>X_,CollaboratorInfoCardContent:()=>pT,CollageHeroImage:()=>fT,CollectionThumbnailView:()=>Cv,Command:()=>mT,Comment:()=>vr,CommentActionButtons:()=>nr,CommentDialog:()=>uI,CommentReplies:()=>Dv,CommentReplyDialog:()=>fr,CommentSimplebox:()=>Yv,CommentThread:()=>Uv,CommentView:()=>$i,CommentsEntryPointHeader:()=>Fv,CommentsEntryPointTeaser:()=>Bv,CommentsHeader:()=>zi,CommentsSimplebox:()=>Lv,CompactChannel:()=>lI,CompactLink:()=>gr,CompactMix:()=>cI,CompactMovie:()=>dI,CompactPlaylist:()=>pI,CompactStation:()=>fI,CompactVideo:()=>cr,ConfirmDialog:()=>mI,ContentMetadataView:()=>br,ContentPreviewImageView:()=>ur,ContinuationItem:()=>he,ConversationBar:()=>hI,CopyLink:()=>jv,CreatePlaylistDialog:()=>x_,CreatorHeart:()=>W_,CtaGoToCreatorStudio:()=>Qw,DataModelSection:()=>L_,DecoratedAvatarView:()=>Wv,DecoratedPlayerBar:()=>zv,DefaultPromoPanel:()=>_I,DescriptionPreviewView:()=>$v,DidYouMean:()=>Kv,DimChatItemAction:()=>UI,DislikeButtonView:()=>qv,DownloadButton:()=>vI,Dropdown:()=>tr,DropdownItem:()=>g_,DynamicTextView:()=>Xv,Element:()=>Tr,EmergencyOnebox:()=>gI,EmojiPicker:()=>Ov,EmojiPickerCategory:()=>xI,EmojiPickerCategoryButton:()=>yI,EmojiPickerUpsellCategory:()=>bI,EndScreenPlaylist:()=>e0,EndScreenVideo:()=>t0,Endscreen:()=>Zv,EndscreenElement:()=>wI,EngagementPanelSectionList:()=>ji,EngagementPanelTitleHeader:()=>Q_,ExpandableMetadata:()=>rv,ExpandableTab:()=>Ir,ExpandableVideoDescriptionBody:()=>iv,ExpandedShelfContents:()=>TI,Factoid:()=>Ui,FancyDismissibleDialog:()=>II,FeedFilterChipBar:()=>bi,FeedNudge:()=>kI,FeedTabbedHeader:()=>i0,FlexibleActionsView:()=>o0,GameCard:()=>ov,GameDetails:()=>SI,Grid:()=>Uo,GridChannel:()=>n0,GridHeader:()=>CI,GridMix:()=>EI,GridMovie:()=>PI,GridPlaylist:()=>r0,GridShow:()=>NI,GridVideo:()=>u0,GuideCollapsibleEntry:()=>AI,GuideCollapsibleSectionEntry:()=>RI,GuideDownloadsEntry:()=>MI,GuideEntry:()=>jo,GuideSection:()=>kr,GuideSubscriptionsSection:()=>l0,HashtagHeader:()=>c0,HashtagTile:()=>VI,HeatMarker:()=>Hv,Heatmap:()=>Jv,HeroPlaylistThumbnail:()=>OI,HighlightsCarousel:()=>Xc,HistorySuggestion:()=>DI,HorizontalCardList:()=>Yi,HorizontalList:()=>nv,HorizontalMovieList:()=>LI,IconLink:()=>p0,ImageBannerView:()=>f0,IncludingResultsFor:()=>BI,InfoPanelContainer:()=>h0,InfoPanelContent:()=>m0,InfoRow:()=>dv,InteractiveTabbedHeader:()=>_0,ItemSection:()=>ye,ItemSectionHeader:()=>Sr,ItemSectionTab:()=>v0,ItemSectionTabbedHeader:()=>Cr,KidsBlocklistPicker:()=>US,KidsBlocklistPickerItem:()=>Yr,KidsCategoriesHeader:()=>jg,KidsCategoryTab:()=>Ur,KidsHomeScreen:()=>Wg,LikeButton:()=>x0,LikeButtonView:()=>y0,LiveChat:()=>b0,LiveChatActionPanel:()=>S0,LiveChatAuthorBadge:()=>pk,LiveChatAutoModMessage:()=>jI,LiveChatBanner:()=>T0,LiveChatBannerHeader:()=>w0,LiveChatBannerPoll:()=>WI,LiveChatDialog:()=>fk,LiveChatHeader:()=>R0,LiveChatItemList:()=>M0,LiveChatMembershipItem:()=>HI,LiveChatMessageInput:()=>mk,LiveChatPaidMessage:()=>JI,LiveChatPaidSticker:()=>GI,LiveChatParticipant:()=>V0,LiveChatParticipantsList:()=>O0,LiveChatPlaceholderItem:()=>zI,LiveChatProductItem:()=>$I,LiveChatRestrictedParticipation:()=>KI,LiveChatTextMessage:()=>qI,LiveChatTickerPaidMessageItem:()=>k0,LiveChatTickerPaidStickerItem:()=>XI,LiveChatTickerSponsorItem:()=>QI,LiveChatViewerEngagementMessage:()=>ZI,LockupMetadataView:()=>D0,LockupView:()=>L0,MacroMarkersInfoItem:()=>Z_,MacroMarkersList:()=>ev,MacroMarkersListItem:()=>sr,MarkChatItemAsDeletedAction:()=>tk,MarkChatItemsByAuthorAsDeletedAction:()=>ik,Menu:()=>j,MenuNavigationItem:()=>B0,MenuPopup:()=>hk,MenuServiceItem:()=>Ki,MenuServiceItemDownload:()=>_k,MerchandiseItem:()=>xk,MerchandiseShelf:()=>j0,Message:()=>$e,MetadataBadge:()=>lt,MetadataRow:()=>yk,MetadataRowContainer:()=>W0,MetadataRowHeader:()=>bk,MetadataScreen:()=>wk,MicroformatData:()=>ii,Mix:()=>Tk,ModalWithTitleAndButton:()=>Ik,Movie:()=>kk,MovingThumbnail:()=>Sk,MultiMarkersPlayerBar:()=>Gv,MultiPageMenu:()=>vk,MultiPageMenuNotificationSection:()=>gk,MusicCardShelf:()=>z0,MusicCardShelfHeaderBasic:()=>H0,MusicCarouselShelf:()=>Me,MusicCarouselShelfBasicHeader:()=>$0,MusicDescriptionShelf:()=>Jo,MusicDetailHeader:()=>Go,MusicDownloadStateBadge:()=>Dk,MusicEditablePlaylistDetailHeader:()=>Q0,MusicElementHeader:()=>zp,MusicHeader:()=>Xi,MusicImmersiveHeader:()=>Z0,MusicInlineBadge:()=>J0,MusicItemThumbnailOverlay:()=>oi,MusicLargeCardItemCarousel:()=>Lk,MusicMenuItemDivider:()=>F0,MusicMultiRowListItem:()=>K0,MusicMultiSelectMenu:()=>Y0,MusicMultiSelectMenuItem:()=>Ft,MusicNavigationButton:()=>Er,MusicPlayButton:()=>G0,MusicPlaylistShelf:()=>zo,MusicQueue:()=>Ar,MusicResponsiveListItem:()=>qi,MusicResponsiveListItemFixedColumn:()=>q0,MusicResponsiveListItemFlexColumn:()=>X0,MusicShelf:()=>Te,MusicSideAlignedItem:()=>tg,MusicSortFilterButton:()=>uf,MusicTastebuilderShelf:()=>og,MusicTastebuilderShelfThumbnail:()=>ig,MusicThumbnail:()=>St,MusicTwoRowItem:()=>Nr,MusicVisualHeader:()=>ng,NavigationEndpoint:()=>g,Notification:()=>rg,OpenPopupAction:()=>y_,PageHeader:()=>ri,PageHeaderView:()=>sg,PageIntroduction:()=>ag,PdgCommentChip:()=>Nv,PivotButton:()=>ug,PlayerAnnotationsExpanded:()=>lg,PlayerCaptionsTracklist:()=>cg,PlayerControlsOverlay:()=>Bk,PlayerErrorMessage:()=>Fk,PlayerLegacyDesktopYpcOffer:()=>Yk,PlayerLegacyDesktopYpcTrailer:()=>kf,PlayerLiveStoryboardSpec:()=>fg,PlayerMicroformat:()=>Ct,PlayerOverflow:()=>dg,PlayerOverlay:()=>Qi,PlayerOverlayAutoplay:()=>mg,PlayerStoryboardSpec:()=>Eo,Playlist:()=>ti,PlaylistCustomThumbnail:()=>xr,PlaylistHeader:()=>_g,PlaylistInfoCardContent:()=>Uk,PlaylistMetadata:()=>vg,PlaylistPanel:()=>ni,PlaylistPanelVideo:()=>wi,PlaylistPanelVideoWrapper:()=>eg,PlaylistSidebar:()=>jk,PlaylistSidebarPrimaryInfo:()=>gg,PlaylistSidebarSecondaryInfo:()=>xg,PlaylistVideo:()=>Rr,PlaylistVideoList:()=>Wk,PlaylistVideoThumbnail:()=>yr,Poll:()=>Hk,PollHeader:()=>ek,Post:()=>yg,PostMultiImage:()=>Jk,ProductList:()=>tv,ProductListHeader:()=>Gk,ProductListItem:()=>zk,ProfileColumn:()=>$k,ProfileColumnStats:()=>Kk,ProfileColumnStatsEntry:()=>qk,ProfileColumnUserInfo:()=>Xk,Quiz:()=>Qk,RecognitionShelf:()=>Zk,ReelItem:()=>Mr,ReelPlayerHeader:()=>bg,ReelPlayerOverlay:()=>eS,ReelShelf:()=>pr,RelatedChipCloud:()=>wg,RemoveBannerForLiveChatCommand:()=>ok,RemoveChatItemAction:()=>nk,RemoveChatItemByAuthorAction:()=>rk,ReplaceChatItemAction:()=>sk,ReplayChatItemAction:()=>ak,RichGrid:()=>Zi,RichItem:()=>tS,RichListHeader:()=>iS,RichMetadata:()=>nm,RichMetadataRow:()=>sm,RichSection:()=>oS,RichShelf:()=>Tg,SearchBox:()=>nS,SearchFilter:()=>Ig,SearchFilterGroup:()=>Vr,SearchFilterOptionsDialog:()=>rS,SearchHeader:()=>kg,SearchRefinementCard:()=>Vo,SearchSubMenu:()=>Sg,SearchSuggestion:()=>d0,SearchSuggestionsSection:()=>Cg,SecondarySearchContainer:()=>sS,SectionList:()=>X,SegmentedLikeDislikeButton:()=>$o,SegmentedLikeDislikeButtonView:()=>Ko,SettingBoolean:()=>aS,SettingsCheckbox:()=>Eg,SettingsOptions:()=>Dr,SettingsSidebar:()=>Pg,SettingsSwitch:()=>Or,SharedPost:()=>Ng,Shelf:()=>Lr,ShowCustomThumbnail:()=>s0,ShowLiveChatActionPanelAction:()=>uk,ShowLiveChatDialogAction:()=>lk,ShowLiveChatTooltipCommand:()=>ck,ShowingResultsFor:()=>Ag,SimpleCardContent:()=>uS,SimpleCardTeaser:()=>lS,SimpleMenuHeader:()=>U0,SimpleTextSection:()=>cS,SingleActionEmergencySupport:()=>dS,SingleColumnBrowseResults:()=>si,SingleColumnMusicWatchNextResults:()=>pS,SingleHeroImage:()=>fS,SlimOwner:()=>mS,SlimVideoMetadata:()=>Rg,SortFilterHeader:()=>g0,SortFilterSubMenu:()=>Lt,SponsorCommentBadge:()=>Av,StatRow:()=>Zw,StructuredDescriptionContent:()=>Do,StructuredDescriptionPlaylistLockup:()=>fv,SubFeedOption:()=>Mg,SubFeedSelector:()=>hS,SubscribeButton:()=>ze,SubscriptionNotificationToggleButton:()=>_v,Tab:()=>be,Tabbed:()=>_S,TabbedSearchResults:()=>Vg,TextHeader:()=>vS,ThumbnailBadgeView:()=>Iv,ThumbnailHoverOverlayView:()=>Tv,ThumbnailLandscapePortrait:()=>gS,ThumbnailOverlayBadgeView:()=>kv,ThumbnailOverlayBottomPanel:()=>a0,ThumbnailOverlayEndorsement:()=>xS,ThumbnailOverlayHoverText:()=>yS,ThumbnailOverlayInlineUnplayable:()=>bS,ThumbnailOverlayLoadingPreview:()=>wS,ThumbnailOverlayNowPlaying:()=>TS,ThumbnailOverlayPinking:()=>IS,ThumbnailOverlayPlaybackStatus:()=>kS,ThumbnailOverlayResumePlayback:()=>SS,ThumbnailOverlaySidePanel:()=>CS,ThumbnailOverlayTimeStatus:()=>Oo,ThumbnailOverlayToggleButton:()=>ES,ThumbnailView:()=>Sv,TimedMarkerDecoration:()=>PS,TitleAndButtonListHeader:()=>NS,ToggleButton:()=>Be,ToggleButtonView:()=>wr,ToggleMenuServiceItem:()=>AS,Tooltip:()=>RS,TopicChannelDetails:()=>MS,Transcript:()=>ir,TranscriptFooter:()=>N_,TranscriptSearchBox:()=>A_,TranscriptSearchPanel:()=>O_,TranscriptSectionHeader:()=>R_,TranscriptSegment:()=>M_,TranscriptSegmentList:()=>V_,TwoColumnBrowseResults:()=>ai,TwoColumnSearchResults:()=>Og,TwoColumnWatchNextResults:()=>Br,UniversalWatchCard:()=>Lg,UpdateDateTextAction:()=>C0,UpdateDescriptionAction:()=>E0,UpdateEngagementPanelAction:()=>zw,UpdateLiveChatPollAction:()=>dk,UpdateTitleAction:()=>P0,UpdateToggleButtonTextAction:()=>N0,UpdateViewershipAction:()=>A0,UploadTimeFactoid:()=>av,UpsellDialog:()=>VS,VerticalList:()=>OS,VerticalWatchCardList:()=>DS,Video:()=>ar,VideoAttributeView:()=>lr,VideoCard:()=>sv,VideoDescriptionCourseSection:()=>mv,VideoDescriptionHeader:()=>lv,VideoDescriptionInfocardsSection:()=>cv,VideoDescriptionMusicSection:()=>dr,VideoDescriptionTranscriptSection:()=>Wu,VideoInfoCardContent:()=>LS,VideoOwner:()=>Fr,VideoPrimaryInfo:()=>Bg,VideoSecondaryInfo:()=>hh,ViewCountFactoid:()=>uv,WatchCardCompactVideo:()=>Fg,WatchCardHeroVideo:()=>BS,WatchCardRichHeader:()=>FS,WatchCardSectionSequence:()=>YS,WatchNextEndScreen:()=>hg,WatchNextTabbedResults:()=>Yg,YpcTrailer:()=>pg});var Co,m_=class{constructor(e,i){Co.set(this,void 0),I(this,Co,new D.shim.Cache(e,i),"f")}get cache_dir(){return d(this,Co,"f").cache_dir}get(e){return d(this,Co,"f").get(e)}set(e,i){return d(this,Co,"f").set(e,i)}remove(e){return d(this,Co,"f").remove(e)}};n(m_,"UniversalCache");Co=new WeakMap;var gC=m_;var Zn,h_=class extends EventTarget{constructor(){super(),Zn.set(this,new Map)}emit(e,...i){let o=new D.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof D.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");d(this,Zn,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof D.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");d(this,Zn,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,Zn,"f").get(i);o&&(this.removeEventListener(e,o),d(this,Zn,"f").delete(i))}};n(h_,"EventEmitterLike");Zn=new WeakMap;var ca=h_;var Po={};L(Po,{chooseFormat:()=>Jw,download:()=>WC,toDash:()=>Hw});var xC={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Vw(t){return t.replace(/([&"<>'])/g,(e,i)=>xC[i])}n(Vw,"escapeXMLString");function yC(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(yC,"normalizeTag");function me(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?bC(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:yC(t),props:Object.assign(Object.assign({},e),{children:o})}}n(me,"createElement");function bC(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(bC,"createTextElement");function Ow(t){return b(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return Vw(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${Vw(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>Ow(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(Ow,"renderElementToString");function Dw(t){return b(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Ow(yield t)}`})}n(Dw,"renderToString");function Lw(t){return t.children}n(Lw,"Fragment");var da=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,s)=>{let[l,p,f,h,m,y,x,T]=r.split("#");o.searchParams.set("sigh",T);let k=Math.ceil(parseInt(f,10)/(parseInt(h,10)*parseInt(m,10)));return{type:"vod",template_url:o.toString().replace("$L",s).replace("$N",x),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(y,10),columns:parseInt(h,10),rows:parseInt(m,10),storyboard_count:k}})}};n(da,"PlayerStoryboardSpec");da.type="PlayerStoryboardSpec";var Eo=da;var TC="StreamingInfo";function IC(t,e){var i,o,r;let s=new Map,l=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let f=p.mime_type.split(";")[0],h=(i=Ue(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],m=p.color_info?Object.values(p.color_info).join("-"):"",y=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",x=`${f}-${h}-${m}-${y}`;s.has(x)||s.set(x,[]),(r=s.get(x))===null||r===void 0||r.push(p)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:l}}n(IC,"getFormatGroupings");function Fw(t,e){if(t.length>1&&new Set(t.map(i=>Ue(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Ue(t[0].mime_type,'codecs="','"')}n(Fw,"hoistCodecsIfPossible");function Yw(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(Yw,"hoistNumberAttributeIfPossible");function kC(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(kC,"hoistAudioChannelsIfPossible");function SC(t,e){var i;return b(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:xi,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),s=yield o.text(),l=(i=Ue(s,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!l)throw new v("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of l){let h=f.trim();if(h.length===0)continue;let m,y=Ue(h,"(r=",")");y&&(m=parseInt(y)),p.push({duration:parseInt(h),repeat_count:m})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(SC,"getOTFSegmentTemplate");function Uw(t,e){return b(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:xi,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new v("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(Uw,"getPostLiveDvrInfo");function CC(t,e,i,o,r,s){return b(this,void 0,void 0,function*(){if(!t.item){let l=new URL(e.decipher(r));l.searchParams.set("cpn",s||"");let p=i(l).toString();t.item=yield Uw(p,o)}return t.item.duration})}n(CC,"getPostLiveDvrDuration");function jw(t,e,i,o,r,s){let l=new URL(t.decipher(o));l.searchParams.set("cpn",r||"");let p=e(l).toString();if(t.is_type_otf){if(!i)throw new v("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return SC(p,i)}}}if(s){if(!i)throw new v("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let h=t.target_duration_dec;if(typeof h!="number")throw new v("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return b(this,void 0,void 0,function*(){return s.item||(s.item=yield Uw(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:h*1e3,repeat_count:s.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new v("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(jw,"getSegmentInfo");function EC(t,e,i,o,r,s,l){return new URL(t.decipher(r)).searchParams.set("cpn",s||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Ue(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:jw(t,i,o,r,s,l)}}n(EC,"getAudioRepresentation");function PC(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(PC,"getTrackRole");function NC(t,e,i,o,r,s){var l;let p=t[0],{audio_track:f}=p,h=[];return{mime_type:p.mime_type.split(";")[0],language:(l=p.language)!==null&&l!==void 0?l:void 0,codecs:Fw(t,h),audio_sample_rate:Yw(t,"audio_sample_rate",h),track_name:f==null?void 0:f.display_name,track_role:PC(p),channels:kC(t,h),representations:t.map(y=>EC(y,h,e,i,o,r,s))}}n(NC,"getAudioSet");var AC={BT709:"1",BT2020:"9"},Bw={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},RC={BT709:"1",BT2020_NCL:"14"};function MC(t){var e;let i=t.color_info,o,r,s;if(i){if(i.primaries&&(o=AC[i.primaries]),i.transfer_characteristics&&(r=Bw[i.transfer_characteristics]),i.matrix_coefficients&&(s=RC[i.matrix_coefficients],!s)){let p=new URL(t.url),f=JSON.parse(JSON.stringify(t));f.url="REDACTED",f.signature_cipher="REDACTED",f.cipher="REDACTED",Y.warn(TC,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${D.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,f)}}else!((e=Ue(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=Bw.BT709);return{primaries:o,transfer_characteristics:r,matrix_coefficients:s}}n(MC,"getColorInfo");function VC(t,e,i,o,r,s,l){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Ue(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:jw(t,e,r,o,s,l)}}n(VC,"getVideoRepresentation");function OC(t,e,i,o,r,s){let l=t[0],p=MC(l),f=[];return{mime_type:l.mime_type.split(";")[0],color_info:p,codecs:Fw(t,f),fps:Yw(t,"fps",f),representations:t.map(m=>VC(m,e,f,i,o,r,s))}}n(OC,"getVideoSet");function DC(t){var e;let i=new Map,o=t.is(Eo)?t.boards:[t.board];for(let r of o){let s=new URL(r.template_url).pathname.split(".").pop(),l=`image/${s==="jpg"?"jpeg":s}`;i.has(l)||i.set(l,[]),(e=i.get(l))===null||e===void 0||e.push(r)}return i}n(DC,"getStoryboardInfo");function LC(t,e,i,o,r){return b(this,void 0,void 0,function*(){let s=e.template_url,l=i(new URL(s.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(l,{method:"HEAD",headers:xi});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(LC,"getStoryboardMimeType");function BC(t,e,i){return b(this,void 0,void 0,function*(){let o=e.template_url,r=[],s=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let h=0;h<s;h++){let m=new URL(o.replace("$M",h.toString())),y=h===0&&i.response?i.response:t.session.http.fetch_function(m,{method:"HEAD",headers:xi});h===0&&(i.response=y),r.push(y)}let l=yield Promise.all(r),p=[];for(let h of l)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(BC,"getStoryboardBitrate");function FC(t,e,i,o,r){let s=i.template_url,l=new URL(s.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return BC(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:p,template_url:o(l).toString(),getURL(h){return l.toString().replace("$Number$",h.toString())}}}n(FC,"getImageRepresentation");function YC(t,e,i,o){let r=DC(i),s={};return Array.from(r.entries()).map(([l,p])=>({probable_mime_type:l,getMimeType(){return LC(e,p[0],o,l,s)},representations:p.map(f=>FC(t,e,f,o,s))}))}n(YC,"getImageSets");function __(t,e=!1,i=f=>f,o,r,s,l,p){if(!t)throw new v("Streaming data not available");let f=o?t.adaptive_formats.filter(O=>!o(O)):t.adaptive_formats,h,m;if(e){if(m={},!l)throw new v("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");h=n(()=>m?CC(m,f[0],i,l,s,r):Promise.resolve(0),"getDuration")}else{let O=f[0].approx_duration_ms/1e3;h=n(()=>Promise.resolve(O),"getDuration")}let{groups:y,has_multiple_audio_tracks:x}=IC(f,e),{video_groups:T,audio_groups:k}=y.reduce((O,ue)=>ue[0].has_audio?(x&&!ue[0].audio_track||O.audio_groups.push(ue),O):(O.video_groups.push(ue),O),{video_groups:[],audio_groups:[]}),C=k.map(O=>NC(O,i,l,s,r,m)),A=T.map(O=>OC(O,i,s,l,r,m)),F=[];if(p&&l){let O;if(p.is(Eo))O=f[0].approx_duration_ms/1e3;else{let ue=f[0].target_duration_dec;if(typeof ue!="number")throw new v("Format is missing target_duration_dec",{format:f[0]});O=ue}F=YC(O,l,p,i)}return{getDuration:h,audio_sets:C,video_sets:A,image_sets:F}}n(__,"getStreamingInfo");function UC({info:t}){return b(this,void 0,void 0,function*(){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=yield t.getSegmentTemplate();return me("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},me("segment-timeline",null,e.timeline.map(i=>me("s",{d:i.duration,r:i.repeat_count}))))})}n(UC,"OTFPostLiveDvrSegmentInfo");function Ww({info:t}){return t.is_oft||t.is_post_live_dvr?me(UC,{info:t}):me(Lw,null,me("base-url",null,t.base_url),me("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},me("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(Ww,"SegmentInfo");function jC({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:r,player:s,actions:l,storyboards:p}){return b(this,void 0,void 0,function*(){let{getDuration:f,audio_sets:h,video_sets:m,image_sets:y}=__(t,e,i,o,r,s,l,p);return me("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield f()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},me("period",null,h.map((x,T)=>me("adaptation-set",{id:T,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:x.language,codecs:x.codecs,audioSamplingRate:x.audio_sample_rate,contentType:"audio"},x.track_role&&me("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:x.track_role}),x.track_name&&me("label",{id:T},x.track_name),x.channels&&me("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:x.channels}),x.representations.map(k=>me("representation",{id:k.uid,bandwidth:k.bitrate,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate},k.channels&&me("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),me(Ww,{info:k.segment_info}))))),m.map((x,T)=>me("adaptation-set",{id:T+h.length,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:x.codecs,maxPlayoutRate:"1",frameRate:x.fps,contentType:"video"},x.color_info.primaries&&me("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:x.color_info.primaries}),x.color_info.transfer_characteristics&&me("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:x.color_info.transfer_characteristics}),x.color_info.matrix_coefficients&&me("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:x.color_info.matrix_coefficients}),x.representations.map(k=>me("representation",{id:k.uid,bandwidth:k.bitrate,width:k.width,height:k.height,codecs:k.codecs,frameRate:k.fps},me(Ww,{info:k.segment_info}))))),y.map((x,T)=>b(this,void 0,void 0,function*(){return me("adaptation-set",{id:T+h.length+m.length,mimeType:yield x.getMimeType(),contentType:"image"},x.representations.map(k=>b(this,void 0,void 0,function*(){return me("representation",{id:`thumbnails_${k.thumbnail_width}x${k.thumbnail_height}`,bandwidth:yield k.getBitrate(),width:k.sheet_width,height:k.sheet_height},me("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${k.columns}x${k.rows}`}),me("segment-template",{media:k.template_url,duration:k.template_duration,startNumber:"0"}))})))}))))})}n(jC,"DashManifest");function Hw(t,e=!1,i=f=>f,o,r,s,l,p){if(!t)throw new v("Streaming data not available");return Dw(me(jC,{streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:r,player:s,actions:l,storyboards:p}))}n(Hw,"toDash");function WC(t,e,i,o,r,s){return b(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new v("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new v("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new v("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=Jw(l,o),f=p.decipher(r);if(l.type==="video+audio"&&!t.range){let C=yield e.session.http.fetch_function(`${f}&cpn=${s}`,{method:"GET",headers:xi,redirect:"follow"});if(!C.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:C});let A=C.body;if(!A)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:C});return A}let h=1048576*10,m=t.range?t.range.start:0,y=t.range?t.range.end:h,x=!1,T;return new D.shim.ReadableStream({start(){},pull:C=>b(this,void 0,void 0,function*(){if(x){C.close();return}return(y>=(p.content_length?p.content_length:0)||t.range)&&(x=!0),new Promise((A,F)=>b(this,void 0,void 0,function*(){var Q,O,ue,ve;try{T=new AbortController;let $=yield e.session.http.fetch_function(`${f}&cpn=${s}&range=${m}-${y||""}`,{method:"GET",headers:Object.assign({},xi),signal:T.signal}),z=$.body;if(!z)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:$});try{for(var ke=!0,Pe=Aw(zy(z)),De;De=yield Pe.next(),Q=De.done,!Q;ke=!0){ve=De.value,ke=!1;let Z=ve;C.enqueue(Z)}}catch(Z){O={error:Z}}finally{try{!ke&&!Q&&(ue=Pe.return)&&(yield ue.call(Pe))}finally{if(O)throw O.error}}m=y+1,y+=h,A()}catch($){F($)}}))}),cancel(C){return b(this,void 0,void 0,function*(){T.abort(C)})}},{highWaterMark:1,size(C){return C.byteLength}})})}n(WC,"download");function Jw(t,e){if(!e)throw new v("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,s=t.language||"original",l=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(l),h=l!=="best",m=i.filter(y=>o&&!y.has_audio||r&&!y.has_video||t.format!=="any"&&!y.mime_type.includes(t.format||"mp4")||!f&&y.quality_label!==l?!1:(p<y.width&&(p=y.width),!0));if(!m.length)throw new v("No matching formats found",{options:t});if(f&&r&&(m=m.filter(y=>y.width===p)),o&&!r){let y=m.filter(x=>s!=="original"?!x.has_video&&!x.has_text&&x.language===s:!x.has_video&&!x.has_text&&x.is_original);y.length>0&&(m=y)}return h?m.sort((y,x)=>y.bitrate-x.bitrate):m.sort((y,x)=>x.bitrate-y.bitrate),m[0]}n(Jw,"chooseFormat");var $y,ei,er,pa,Gw,v_=class{constructor(e,i,o){$y.add(this),ei.set(this,void 0),er.set(this,void 0),pa.set(this,void 0),I(this,ei,e,"f"),I(this,er,i,"f"),I(this,pa,o||D.shim.fetch,"f")}get fetch_function(){return d(this,pa,"f")}fetch(e,i){return b(this,void 0,void 0,function*(){let o=ut.API.PRODUCTION_1+d(this,ei,"f").api_version,r=(i==null?void 0:i.baseURL)||o,s=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),l=(i==null?void 0:i.headers)||(e instanceof D.shim.Request?e.headers:new D.shim.Headers)||new D.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof D.shim.Request?e.body:void 0),f=new D.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,ei,"f").context.client.visitorData||""),f.set("X-Origin",s.origin),f.set("X-Youtube-Client-Version",d(this,ei,"f").context.client.clientVersion||""),D.shim.server&&(f.set("User-Agent",No("desktop")),f.set("origin",s.origin)),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");let h=f.get("Content-Type"),m=p,y=!1,x=r===o||r===ut.YT_UPLOAD;if(h==="application/json"&&x&&typeof p=="string"){let C=JSON.parse(p),A=Object.assign(Object.assign({},C),{context:JSON.parse(JSON.stringify(d(this,ei,"f").context))});d(this,$y,"m",Gw).call(this,A.context,A.client),f.set("x-youtube-client-version",A.context.client.clientVersion),delete A.client,D.shim.server&&(A.context.client.clientName==="ANDROID"||A.context.client.clientName==="ANDROID_MUSIC"?(f.set("User-Agent",de.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2")):A.context.client.clientName==="iOS"&&f.set("User-Agent",de.iOS.USER_AGENT)),y=A.context.client.clientName==="WEB_KIDS",m=JSON.stringify(A)}else h==="application/x-protobuf"&&D.shim.server&&(f.set("User-Agent",de.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2"),f.delete("X-Youtube-Client-Version"),f.delete("X-Origin"));if(d(this,ei,"f").logged_in&&x&&!y){let C=d(this,ei,"f").oauth;if(C.validateCredentials()&&(yield C.refreshIfRequired(),f.set("authorization",`Bearer ${C.credentials.access_token}`)),d(this,er,"f")){let A=Ue(d(this,er,"f"),"PAPISID=",";");A&&(f.set("authorization",yield qy(A)),f.set("x-goog-authuser",d(this,ei,"f").account_index.toString())),f.set("cookie",d(this,er,"f"))}}let T=new D.shim.Request(s,e instanceof D.shim.Request?e:i),k=yield d(this,pa,"f").call(this,T,Object.assign({body:m,headers:f,redirect:e instanceof D.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},D.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(k.ok)return k;throw new v(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};n(v_,"HTTPClient");ei=new WeakMap,er=new WeakMap,pa=new WeakMap,$y=new WeakSet,Gw=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=de.ANDROID.SDK_VERSION,e.client.userAgent=de.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=de.iOS.DEVICE_MODEL,e.client.clientVersion=de.iOS.VERSION,e.client.clientName=de.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=de.YTMUSIC.VERSION,e.client.clientName=de.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=de.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=de.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=de.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=de.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=de.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=de.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=de.TV_EMBEDDED.NAME,e.client.clientVersion=de.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ut.YT_BASE};break;case"YTKIDS":e.client.clientVersion=de.WEB_KIDS.VERSION,e.client.clientName=de.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Ky=v_;var fa=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(fa,"Button");fa.type="Button";var S=fa;var ma=class extends a{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(ma,"DropdownItem");ma.type="DropdownItem";var g_=ma;var ha=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,g_)}};n(ha,"Dropdown");ha.type="Dropdown";var tr=ha;var _a=class extends a{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,tr),this.create_button=c.parseItem(e.cancelButton,S),this.cancel_button=c.parseItem(e.cancelButton,S)}};n(_a,"CreatePlaylistDialog");_a.type="CreatePlaylistDialog";var x_=_a;var va=class extends a{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(va,"OpenPopupAction");va.type="OpenPopupAction";var y_=va;var Ao=class extends a{constructor(e){var i,o,r,s,l,p,f,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new y_(e.openPopupAction));let m=Object.keys(e||{}).find(y=>y.endsWith("Endpoint")||y.endsWith("Command"));this.payload=m?Reflect.get(e,m):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=c.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Ao(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((s=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||s===void 0)&&s.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):m&&(this.metadata.api_url=this.getEndpoint(m)),!((h=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,x_))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Ao,"NavigationEndpoint");Ao.type="NavigationEndpoint";var g=Ao;var w=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new w(o)).sort((o,r)=>r.width-o.width):[]}};n(w,"Thumbnail");var Di=class{constructor(e){var i,o,r,s,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((s=e.emoji)===null||s===void 0?void 0:s.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=b_(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Di,"EmojiRun");var Li=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=b_(this.text),r=`<span style="white-space: pre-wrap;">${e.map(s=>`<${s}>`).join("")+i+e.map(s=>`</${s}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:s}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${s}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let s=this.endpoint.toURL();if(s)return`<a href="${s}">${r}</a>`}return r}};n(Li,"TextRun");function b_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(b_,"escape");var ga="Text",u=class{constructor(e){var i,o,r,s;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Di(l):new Li(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(s=(r=this.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.endpoint)}static fromAttributed(e){var i,o,r;let{content:s,styleRuns:l,commandRuns:p,attachmentRuns:f}=e,h=[{text:s,startIndex:0}];if(l||p||f){if(l)for(let m of l)if(m.italic||m.strikethrough==="LINE_STYLE_SINGLE"||m.weightLabel==="FONT_WEIGHT_MEDIUM"||m.weightLabel==="FONT_WEIGHT_BOLD"){let y=Qy(h,m);if(!y){Y.warn(ga,"Unable to find matching run for style run. Skipping...",{style_run:m,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}w_(h,y,m,{bold:m.weightLabel==="FONT_WEIGHT_MEDIUM"||m.weightLabel==="FONT_WEIGHT_BOLD",italics:m.italic,strikethrough:m.strikethrough==="LINE_STYLE_SINGLE"})}else Y.debug(ga,"Skipping style run as it is doesn't have any information that we parse.",{style_run:m,input_data:e});if(p)for(let m of p)if(m.onTap){let y=Qy(h,m);if(!y){Y.warn(ga,"Unable to find matching run for command run. Skipping...",{command_run:m,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}w_(h,y,m,{navigationEndpoint:m.onTap})}else Y.debug(ga,'Skipping command run as it is missing the "doTap" property.',{command_run:m,input_data:e});if(f)for(let m of f){let y=Qy(h,m);if(!y){Y.warn(ga,"Unable to find matching run for attachment run. Skipping...",{attachment_run:m,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}if(m.length===0)y.attachment=m;else{let x=m.startIndex-y.startIndex,T=y.text.substring(x,x+m.length),k=/^:[^:]+:$/.test(T);if(((r=(o=(i=m.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||r===void 0?void 0:r.image)&&(k||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(T))){let C={image:m.element.type.imageType.image,isCustomEmoji:k,shortcuts:k?[T]:void 0};w_(h,y,m,{emoji:C})}else w_(h,y,m,{attachment:m})}}}return new u({runs:h})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");function Qy(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(Qy,"findMatchingRun");function w_(t,e,i,o){let r=t.indexOf(e),s=[],l=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&s.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,l)})),s.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(l,l+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&s.push(Object.assign(Object.assign({},e),{text:e.text.substring(l+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...s)}n(w_,"insertSubRun");var xa=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=w.fromResponse(e.favicon)}};n(xa,"ChannelExternalLinkView");xa.type="ChannelExternalLinkView";var T_=xa;var ya=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new g(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,T_):this.links=[]}};n(ya,"AboutChannelView");ya.type="AboutChannelView";var I_=ya;var ba=class extends a{constructor(e){super(),this.metadata=c.parseItem(e.metadata,I_),this.share_channel=c.parseItem(e.shareChannel,S)}};n(ba,"AboutChannel");ba.type="AboutChannel";var k_=ba;var wa=class extends a{constructor(e){super(),this.title=new u(e.title),this.endpoint=new g(e.navigationEndpoint)}};n(wa,"AccountChannel");wa.type="AccountChannel";var S_=wa;var Ta=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Ta,"AccountItemSectionHeader");Ta.type="AccountItemSectionHeader";var C_=Ta;var Ia=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Ia,"AccountItem");Ia.type="AccountItem";var ka=class extends a{constructor(e){super(),this.contents=se(e.contents.map(i=>new Ia(i.accountItem))),this.header=c.parseItem(e.header,C_)}};n(ka,"AccountItemSection");ka.type="AccountItemSection";var E_=ka;var Sa=class extends a{constructor(e){super(),this.contents=c.parseItem(e.contents[0],E_),this.footers=c.parseItem(e.footers[0],S_)}};n(Sa,"AccountSectionList");Sa.type="AccountSectionList";var P_=Sa;var Ca=class extends a{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n(Ca,"AppendContinuationItemsAction");Ca.type="AppendContinuationItemsAction";var Ro=Ca;var Ea=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Ea,"SortFilterSubMenu");Ea.type="SortFilterSubMenu";var Lt=Ea;var Pa=class extends a{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,Lt)}};n(Pa,"TranscriptFooter");Pa.type="TranscriptFooter";var N_=Pa;var Na=class extends a{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,S),this.endpoint=new g(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,S)}};n(Na,"TranscriptSearchBox");Na.type="TranscriptSearchBox";var A_=Na;var Aa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(Aa,"TranscriptSectionHeader");Aa.type="TranscriptSectionHeader";var R_=Aa;var Ra=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(Ra,"TranscriptSegment");Ra.type="TranscriptSegment";var M_=Ra;var Ma=class extends a{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[M_,R_]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Ma,"TranscriptSegmentList");Ma.type="TranscriptSegmentList";var V_=Ma;var Va=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,A_),this.body=c.parseItem(e.body,V_),this.footer=c.parseItem(e.footer,N_),this.target_id=e.targetId}};n(Va,"TranscriptSearchPanel");Va.type="TranscriptSearchPanel";var O_=Va;var Oa=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,O_)}};n(Oa,"Transcript");Oa.type="Transcript";var ir=Oa;var Da=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,ir)}};n(Da,"UpdateEngagementPanelAction");Da.type="UpdateEngagementPanelAction";var zw=Da;var La=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(La,"Alert");La.type="Alert";var or=La;var Ba=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,S)}};n(Ba,"AlertWithButton");Ba.type="AlertWithButton";var D_=Ba;var Fa=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(Fa,"DataModelSection");Fa.type="DataModelSection";var L_=Fa;var Ya=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new L_(o))}};n(Ya,"AnalyticsMainAppKeyMetrics");Ya.type="AnalyticsMainAppKeyMetrics";var $w=Ya;var Ua=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Ua,"AnalyticsRoot");Ua.type="AnalyticsRoot";var Kw=Ua;var ja=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};n(ja,"AnalyticsShortsCarouselCard");ja.type="AnalyticsShortsCarouselCard";var qw=ja;var Wa=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Wa,"AnalyticsVideo");Wa.type="AnalyticsVideo";var B_=Wa;var Ha=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new B_(i)))}};n(Ha,"AnalyticsVodCarouselCard");Ha.type="AnalyticsVodCarouselCard";var Xw=Ha;var Ja=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(Ja,"CtaGoToCreatorStudio");Ja.type="CtaGoToCreatorStudio";var Qw=Ja;var Ga=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(Ga,"StatRow");Ga.type="StatRow";var Zw=Ga;var za=class extends a{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};n(za,"AttributionView");za.type="AttributionView";var F_=za;var $a=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n($a,"AudioOnlyPlayability");$a.type="AudioOnlyPlayability";var Y_=$a;var Ka=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(Ka,"AutomixPreviewVideo");Ka.type="AutomixPreviewVideo";var Bi=Ka;var qa=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(qa,"AvatarView");qa.type="AvatarView";var U_=qa;var Xa=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new g(e.command)}};n(Xa,"BackstageImage");Xa.type="BackstageImage";var j_=Xa;var Qa=class extends a{constructor(e){var i,o,r,s,l,p,f,h,m;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let y=((s=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label)||((p=(l=e==null?void 0:e.accessibilityData)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(y.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((m=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||m===void 0)&&m.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(Qa,"ToggleButton");Qa.type="ToggleButton";var Be=Qa;var Za=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(Za,"CreatorHeart");Za.type="CreatorHeart";var W_=Za;var eu=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Be),this.dislike_button=c.parseItem(e.dislikeButton,Be),this.reply_button=c.parseItem(e.replyButton,S),this.creator_heart=c.parseItem(e.creatorHeart,W_)}};n(eu,"CommentActionButtons");eu.type="CommentActionButtons";var nr=eu;var tu=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(tu,"Menu");tu.type="Menu";var j=tu;var iu=class extends a{constructor(e){super(),this.id=e.postId,this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,j)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,nr)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,S)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(iu,"BackstagePost");iu.type="BackstagePost";var Fi=iu;var ou=class extends a{constructor(e){super(),this.post=c.parseItem(e.post)}};n(ou,"BackstagePostThread");ou.type="BackstagePostThread";var eT=ou;var nu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(nu,"BrowseFeedActions");nu.type="BrowseFeedActions";var H_=nu;var ru=class extends a{constructor(e){super(),this.album=new u(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};n(ru,"BrowserMediaSession");ru.type="BrowserMediaSession";var tT=ru;var su=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new g(e.onTap)}};n(su,"ButtonView");su.type="ButtonView";var Mo=su;var rr=class extends a{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new u(e.title)}};n(rr,"HeaderLink");rr.type="HeaderLink";var au=class extends a{constructor(e){var i,o;super(),this.primary=se(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new rr(r)))||[]),this.secondary=se(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new rr(r)))||[])}};n(au,"ChannelHeaderLinks");au.type="ChannelHeaderLinks";var J_=au;var uu=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(uu,"ChannelHeaderLinksView");uu.type="ChannelHeaderLinksView";var G_=uu;var lu=class extends a{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(lu,"ClipCreationTextInput");lu.type="ClipCreationTextInput";var z_=lu;var cu=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(s=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label,this.duration_label=(p=(l=e.durationAccessibility)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label}};n(cu,"ClipCreationScrubber");cu.type="ClipCreationScrubber";var $_=cu;var du=class extends a{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(du,"ClipAdState");du.type="ClipAdState";var K_=du;var pu=class extends a{constructor(e){super(),this.user_avatar=w.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[z_]),this.scrubber=c.parseItem(e.scrubber,[$_]),this.save_button=c.parseItem(e.saveButton,[S]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[S]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[K_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(pu,"ClipCreation");pu.type="ClipCreation";var q_=pu;var fu=class extends a{constructor(e){super(),this.contents=c.parse(e.contents,!0,[q_])}};n(fu,"ClipSection");fu.type="ClipSection";var X_=fu;var mu=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,S)),this.endpoint=new g(e.continuationEndpoint)}};n(mu,"ContinuationItem");mu.type="ContinuationItem";var he=mu;var hu=class extends a{constructor(e){super(),this.title=new u(e.title),this.visibility_button=c.parseItem(e.visibilityButton,S)}};n(hu,"EngagementPanelTitleHeader");hu.type="EngagementPanelTitleHeader";var Q_=hu;var _u=class extends a{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=c.parseItem(e.menu,j)}};n(_u,"MacroMarkersInfoItem");_u.type="MacroMarkersInfoItem";var Z_=_u;var vu=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(vu,"MacroMarkersListItem");vu.type="MacroMarkersListItem";var sr=vu;var gu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,[Z_,sr]),this.sync_button_label=new u(e.syncButtonLabel)}};n(gu,"MacroMarkersList");gu.type="MacroMarkersList";var ev=gu;var xu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(xu,"ProductList");xu.type="ProductList";var tv=xu;var yu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(yu,"SectionList");yu.type="SectionList";var X=yu;var bu=class extends a{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(bu,"ExpandableVideoDescriptionBody");bu.type="ExpandableVideoDescriptionBody";var iv=bu;var wu=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new u(e.query).toString()}};n(wu,"SearchRefinementCard");wu.type="SearchRefinementCard";var Vo=wu;var Tu=class extends a{constructor(e){super(),this.game=c.parseItem(e.game)}};n(Tu,"GameCard");Tu.type="GameCard";var ov=Tu;var Iu=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Iu,"HorizontalList");Iu.type="HorizontalList";var nv=Iu;var ku=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[Yi,nv]),this.expand_button=c.parseItem(e.expandButton,S),this.collapse_button=c.parseItem(e.collapseButton,S)}};n(ku,"ExpandableMetadata");ku.type="ExpandableMetadata";var rv=ku;var Su=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Su,"MetadataBadge");Su.type="MetadataBadge";var lt=Su;var Cu=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(Cu,"ThumbnailOverlayTimeStatus");Cu.type="ThumbnailOverlayTimeStatus";var Oo=Cu;var Eu=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,rv),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new M(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=c.parseArray(e.badges,lt),this.endpoint=new g(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(s).toString(),seconds:je(e.lengthText?new u(e.lengthText).toString():new u(s).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,j),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Oo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Eu,"Video");Eu.type="Video";var ar=Eu;var Pu=class extends ar{constructor(e){super(e)}};n(Pu,"VideoCard");Pu.type="VideoCard";var sv=Pu;var Nu=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(Nu,"ContentPreviewImageView");Nu.type="ContentPreviewImageView";var ur=Nu;var Au=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=w.fromResponse(e.image):this.image=c.parseItem(e.image,ur),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new g(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(Au,"VideoAttributeView");Au.type="VideoAttributeView";var lr=Au;var Ru=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards,[lr,Vo,sr,ov,sv]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,S),this.next_button=c.parseItem(e.nextButton,S)}};n(Ru,"HorizontalCardList");Ru.type="HorizontalCardList";var Yi=Ru;var Mu=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(Mu,"Factoid");Mu.type="Factoid";var Ui=Mu;var Vu=class extends a{constructor(e){super(),this.factoid=c.parseItem(e.factoid,Ui)}};n(Vu,"UploadTimeFactoid");Vu.type="UploadTimeFactoid";var av=Vu;var Ou=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[Ui]),this.view_count_type=e.viewCountType}};n(Ou,"ViewCountFactoid");Ou.type="ViewCountFactoid";var uv=Ou;var Du=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new g(e.channelNavigationEndpoint),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=c.parseArray(e.factoid,[Ui,uv,av])}};n(Du,"VideoDescriptionHeader");Du.type="VideoDescriptionHeader";var lv=Du;var Lu=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,S),this.creator_about_button=c.parseItem(e.creatorAboutButton,S),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=w.fromResponse(e.channelAvatar),this.channel_endpoint=new g(e.channelEndpoint)}};n(Lu,"VideoDescriptionInfocardsSection");Lu.type="VideoDescriptionInfocardsSection";var cv=Lu;var Bu=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Bu,"InfoRow");Bu.type="InfoRow";var dv=Bu;var Fu=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new M(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=c.parseArray(e.badges,lt),this.duration={text:new u(e.lengthText).toString(),seconds:je(new u(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=c.parseItem(e.menu,j)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Fu,"CompactVideo");Fu.type="CompactVideo";var cr=Fu;var Yu=class extends a{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,dv),this.video_lockup=c.parseItem(e.videoLockup,cr)}};n(Yu,"CarouselLockup");Yu.type="CarouselLockup";var pv=Yu;var Uu=class extends a{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,pv),this.section_title=new u(e.sectionTitle)}};n(Uu,"VideoDescriptionMusicSection");Uu.type="VideoDescriptionMusicSection";var dr=Uu;var ju=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,S)}};n(ju,"VideoDescriptionTranscriptSection");ju.type="VideoDescriptionTranscriptSection";var Wu=ju;var Hu=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Hu,"StructuredDescriptionPlaylistLockup");Hu.type="StructuredDescriptionPlaylistLockup";var fv=Hu;var Ju=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[fv])}};n(Ju,"VideoDescriptionCourseSection");Ju.type="VideoDescriptionCourseSection";var mv=Ju;var Gu=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};n(Gu,"ReelShelf");Gu.type="ReelShelf";var pr=Gu;var zu=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[lv,iv,dr,cv,mv,Wu,Wu,Yi,pr])}};n(zu,"StructuredDescriptionContent");zu.type="StructuredDescriptionContent";var Do=zu;var $u=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,Q_),this.content=c.parseItem(e.content,[lr,X,he,X_,Do,ev,tv]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n($u,"EngagementPanelSectionList");$u.type="EngagementPanelSectionList";var ji=$u;var Ku=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ji),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new g(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(Ku,"ChannelTagline");Ku.type="ChannelTagline";var hv=Ku;var qu=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(qu,"SubscriptionNotificationToggleButton");qu.type="SubscriptionNotificationToggleButton";var _v=qu;var Xu=class extends a{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,_v),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(Xu,"SubscribeButton");Xu.type="SubscribeButton";var ze=Xu;var Qu=class extends a{constructor(e){super(),this.author=new M({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=w.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=w.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,S)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[ze,S])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[J_,G_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,hv))}};n(Qu,"C4TabbedHeader");Qu.type="C4TabbedHeader";var Wi=Qu;var Zu=class extends a{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Zu,"CallToActionButton");Zu.type="CallToActionButton";var iT=Zu;var el=class extends a{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(el,"Card");el.type="Card";var oT=el;var tl=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(tl,"CardCollection");tl.type="CardCollection";var vv=tl;var il=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(il,"CarouselHeader");il.type="CarouselHeader";var gv=il;var ol=class extends a{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(ol,"CarouselItem");ol.type="CarouselItem";var nT=ol;var Hi=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[ze,S]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return Y.warnOnce(Hi.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return Y.warnOnce(Hi.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(Hi,"Channel");Hi.type="Channel";var xv=Hi;var Ji=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new g(r.navigationEndpoint),icon:w.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=c.parseArray(e.actionButtons,S)}get views(){return Y.warnOnce(Ji.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return Y.warnOnce(Ji.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(Ji,"ChannelAboutFullMetadata");Ji.type="ChannelAboutFullMetadata";var nl=Ji;var rl=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,S),this.secondary_text=new u(e.secondaryText)}};n(rl,"ChannelAgeGate");rl.type="ChannelAgeGate";var rT=rl;var sl=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items)}};n(sl,"ChannelFeaturedContent");sl.type="ChannelFeaturedContent";var sT=sl;var al=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(al,"ChannelMetadata");al.type="ChannelMetadata";var yv=al;var ul=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(ul,"ChannelMobileHeader");ul.type="ChannelMobileHeader";var aT=ul;var ll=class extends a{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(ll,"ChannelOptions");ll.type="ChannelOptions";var bv=ll;var cl=class extends a{constructor(e){super(),this.illustration=w.fromResponse(e.illustration),this.description=new u(e.description)}};n(cl,"ChannelOwnerEmptyState");cl.type="ChannelOwnerEmptyState";var uT=cl;var dl=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(dl,"ChannelSubMenu");dl.type="ChannelSubMenu";var pl=dl;var fl=class extends a{constructor(e){var i,o;super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(fl,"ChannelThumbnailWithLink");fl.type="ChannelThumbnailWithLink";var lT=fl;var Gi=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return Y.warnOnce(Gi.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return Y.warnOnce(Gi.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(Gi,"ChannelVideoPlayer");Gi.type="ChannelVideoPlayer";var cT=Gi;var ml=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};n(ml,"Chapter");ml.type="Chapter";var wv=ml;var hl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:je(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};n(hl,"ChildVideo");hl.type="ChildVideo";var dT=hl;var _l=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(_l,"ChipCloudChip");_l.type="ChipCloudChip";var xe=_l;var vl=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,xe),this.next_button=c.parseItem(e.nextButton,S),this.previous_button=c.parseItem(e.previousButton,S),this.horizontal_scrollable=e.horizontalScrollable}};n(vl,"ChipCloud");vl.type="ChipCloud";var _t=vl;var gl=class extends a{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};n(gl,"CollaboratorInfoCardContent");gl.type="CollaboratorInfoCardContent";var pT=gl;var xl=class extends a{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};n(xl,"CollageHeroImage");xl.type="CollageHeroImage";var fT=xl;var yl=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};n(yl,"ThumbnailHoverOverlayView");yl.type="ThumbnailHoverOverlayView";var Tv=yl;var bl=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(bl,"ThumbnailBadgeView");bl.type="ThumbnailBadgeView";var Iv=bl;var wl=class extends a{constructor(e){super(),this.badges=c.parseArray(e.thumbnailBadges,Iv),this.position=e.position}};n(wl,"ThumbnailOverlayBadgeView");wl.type="ThumbnailOverlayBadgeView";var kv=wl;var Tl=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.overlays=c.parseArray(e.overlays,[kv,Tv]),this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(Tl,"ThumbnailView");Tl.type="ThumbnailView";var Sv=Tl;var Il=class extends a{constructor(e){super(),this.primary_thumbnail=c.parseItem(e.primaryThumbnail,Sv),this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme}}};n(Il,"CollectionThumbnailView");Il.type="CollectionThumbnailView";var Cv=Il;var kl=class extends a{constructor(e){super(),this.endpoint=new g(e)}};n(kl,"Command");kl.type="Command";var mT=kl;var Ev,Sl=class extends a{constructor(e){super(),Ev.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,Ev,e,"f")}get orig_badge(){return d(this,Ev,"f")}};n(Sl,"AuthorCommentBadge");Ev=new WeakMap;Sl.type="AuthorCommentBadge";var Pv=Sl;var Cl=class extends a{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Cl,"CommentReplyDialog");Cl.type="CommentReplyDialog";var fr=Cl;var El=class extends a{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(El,"PdgCommentChip");El.type="PdgCommentChip";var Nv=El;var Pl=class extends a{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Pl,"SponsorCommentBadge");Pl.type="SponsorCommentBadge";var Av=Pl;var kt={};L(kt,{decodeVisitorData:()=>ab,encodeChannelAnalyticsParams:()=>ub,encodeCommentActionParams:()=>Lo,encodeCommentParams:()=>fb,encodeCommentsSectionParams:()=>pb,encodeCustomThumbnailPayload:()=>_b,encodeHashtag:()=>vb,encodeMessageParams:()=>db,encodeMusicSearchFilters:()=>cb,encodeNotificationPref:()=>mb,encodeReelSequence:()=>gb,encodeSearchFilters:()=>lb,encodeShortsParam:()=>xb,encodeVideoMetadataPayload:()=>hb,encodeVisitorData:()=>sb});var P;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(P||(P={}));var W=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Mv(Zy(this),Rv).toString(!1);let r=[],s=new W(i,o);for(;GC(s,HC);){let[l,p]=JC(s);r.push(p),s=l}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new W(0);if(e.length<10)return i<0?Mv(Zy(new W(-i)),Rv):new W(i);let r=new W,s=Rv;for(let l of e.split("").reverse())parseInt(l)&&(r=Mv(r,hT(new W(parseInt(l)),s))),s=hT(s,new W(10));return o?Mv(Zy(r),Rv):r}};n(W,"Long");var HC=new W(0),Rv=new W(1);function Vv(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Vv,"makeChunk");function Mv(t,e){let[i,o,r,s]=Vv(t),[l,p,f,h]=Vv(e),m=0,y=0,x=0,T=0;return T+=i+l,x+=T>>>16,T&=65535,x+=o+p,y+=x>>>16,x&=65535,y+=r+f,m+=y>>>16,y&=65535,m+=s+h,m&=65535,new W(x<<16|T,m<<16|y)}n(Mv,"add");function hT(t,e){let[i,o,r,s]=Vv(t),[l,p,f,h]=Vv(e),m=0,y=0,x=0,T=0;return T+=i*l,x+=T>>>16,T&=65535,x+=i*p+o*l,y+=x>>>16,x&=65535,y+=i*f+r*l+o*p,m+=y>>>16,y&=65535,m+=i*h+o*f+r*p+s*l,m&=65535,new W(x<<16|T,m<<16|y)}n(hT,"mul");function JC(t){let[e,i]=t;return[new W((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(JC,"divByTen");function GC(t,e){let[i,o]=t,[r,s]=e;return o!==s?o-s:i-r}n(GC,"compare");function Zy(t){let[e,i]=t;return new W(~e,~i)}n(Zy,"negate");function mr(t){let e=[],r=typeof t=="number"?new W(t):t;for(;r[0]||r[1];){let[s,l]=r,p=s&127,f=l>>>7,h=s>>>7|(l&127)<<32-7;r=new W(h,f);let m=r[0]||r[1]?p|128:p;e.push(m)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(mr,"encode");function hr(t){let e=new W(0),i=0;for(;;){let o=t.getUint8(i);if(e=zC(e,$C(new W(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(hr,"decode");function zC(t,e){return new W(t[0]|e[0],t[1]|e[1])}n(zC,"or");function $C(t,e){return e===0?t:e>=32?new W(0,t[0]<<e-32):new W(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n($C,"leftshift");function N(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(mr(i<<3|o.type)),o.type){case P.Varint:e.push(mr(o.value));break;case P.Fixed64:{let r=new Uint8Array(8),s=new DataView(r.buffer);s.setUint32(0,o.value[0],!0),s.setUint32(4,o.value[1],!0),e.push(r);break}case P.LengthDelimited:e.push(mr(o.value.byteLength)),e.push(o.value);break;case P.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),eb(e)}n(N,"serialize");function eb(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(eb,"concat");function tb(t){if(t instanceof W){let e=new W(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new W(4294967295,4294967295):new W;return new W(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(tb,"encode");function ib(t){if(t instanceof W){let e=new W(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new W(4294967295,4294967295):new W;return new W(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(ib,"decode");var ob={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>ib(t[0]),sint64:t=>ib(t).toString(!0),bool:t=>t[0]!==0},nb={int32:t=>new W(t),int64:t=>W.parse(t),uint32:t=>new W(t),uint64:t=>W.parse(t),sint32:t=>tb(new W(t)),sint64:t=>tb(W.parse(t)),bool:t=>new W(+t)},KC=Object.fromEntries(Object.entries(ob).map(([t,e])=>[t,i=>{if(i.type===P.Varint)return e(i.value)}])),qC=Object.fromEntries(Object.entries(nb).map(([t,e])=>[t,i=>({type:P.Varint,value:e(i)})])),H=Object.assign(Object.assign({},KC),{double:t=>t.type!==P.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==P.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===P.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===P.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!0)},string:t=>t.type!==P.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===P.LengthDelimited)return t.value}}),E=Object.assign(Object.assign({},qC),{double:t=>{let e=new W;return new DataView(e.buffer).setFloat64(0,t,!0),{type:P.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:P.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:P.Fixed32,value:t>>>0}),fixed64:t=>({type:P.Fixed64,value:W.parse(t)}),sfixed32:t=>({type:P.Fixed32,value:t|0}),sfixed64:t=>({type:P.Fixed64,value:W.parse(t)}),string:t=>{let e=new TextEncoder;return{type:P.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:P.LengthDelimited,value:t})}),XC=Object.fromEntries(Object.keys(ob).map(t=>[t,function*(e){for(let i of e){let o=H[t](i);if(o!=null)yield o;else for(let r of tE(i))yield ob[t](r)}}])),UF=Object.assign(Object.assign({},XC),{*double(t){for(let e of t){let i=H.double(e);i!=null?yield i:yield*ZC(e)}},*float(t){for(let e of t){let i=H.float(e);i!=null?yield i:yield*eE(e)}},*fixed32(t){for(let e of t){let i=H.fixed32(e);if(i!=null)yield i;else for(let o of _T(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=H.fixed64(e);if(i!=null)yield i;else for(let o of vT(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=H.sfixed32(e);if(i!=null)yield i;else for(let o of _T(e))yield o|0}},*sfixed64(t){for(let e of t){let i=H.sfixed64(e);if(i!=null)yield i;else for(let o of vT(e))yield o.toString(!0)}}}),QC=Object.fromEntries(Object.keys(nb).map(t=>[t,function(e){return{type:P.LengthDelimited,value:eb(e.map(i=>{let o=nb[t](i);return mr(o)}))}}]));function _r(t,e){return n(function(o){let r=new Uint8Array(o.length*t),s=new DataView(r.buffer);for(let l=0;l<o.length;++l)e(s,l*t,o[l]);return{type:P.LengthDelimited,value:r}},"pack")}n(_r,"getFixedPackFn");var jF=Object.assign(Object.assign({},QC),{double:_r(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:_r(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:_r(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:_r(8,(t,e,i)=>{let o=W.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:_r(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:_r(8,(t,e,i)=>{let o=W.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*ZC(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(ZC,"unpackDouble");function*eE(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(eE,"unpackFloat");function*tE(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=hr(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(tE,"unpackVarint");function*_T(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(_T,"unpackFixed32");function*vT(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let s=o.getUint32(i,!0);i+=4,yield new W(r,s)}}n(vT,"unpackFixed64");function J(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let s=hr(new DataView(t.buffer,i+e)),l=s[1][0];e+=s[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case P.Varint:{let[y,x]=hr(new DataView(t.buffer,i+e));o.push([f,{type:p,value:x}]),e+=y;break}case P.Fixed64:let h=r.getUint32(e,!0),m=r.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new W(h,m)}]);break;case P.LengthDelimited:{let[y,x]=hr(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=y,e+=x[0])}]);break}case P.StartGroup:case P.EndGroup:o.push([f,{type:p}]);break;case P.Fixed32:o.push([f,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(J,"deserialize");function iE(){return{id:"",timestamp:0}}n(iE,"getDefaultValue");function gT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,E.int32(i)])}return N(e)}n(gT,"encodeBinary");function xT(t){let e=iE(),i=J(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let s=H.string(r);if(s===void 0)break e;e.id=s}e:{let r=o.get(5);if(r===void 0)break e;let s=H.int32(r);if(s===void 0)break e;e.timestamp=s}return e}n(xT,"decodeBinary");function yT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,E.string(i)])}return N(e)}n(yT,"encodeBinary");function bT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:P.LengthDelimited,value:yT(i)}])}return N(e)}n(bT,"encodeBinary");function wT(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,E.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,E.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,E.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,E.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,E.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,E.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,E.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,E.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,E.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,E.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,E.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,E.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,E.int32(i)])}return N(e)}n(wT,"encodeBinary");function TT(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,E.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:wT(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,E.int32(i)])}return N(e)}n(TT,"encodeBinary");function IT(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,E.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,E.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,E.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,E.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,E.int32(i)])}return N(e)}n(IT,"encodeBinary");function kT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:P.LengthDelimited,value:IT(i)}])}return N(e)}n(kT,"encodeBinary");function ST(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:kT(i)}])}return N(e)}n(ST,"encodeBinary");function CT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return N(e)}n(CT,"encodeBinary");function ET(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:P.LengthDelimited,value:CT(i)}])}return N(e)}n(ET,"encodeBinary");function PT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:P.LengthDelimited,value:ET(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,E.int32(i)])}return N(e)}n(PT,"encodeBinary");function NT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return N(e)}n(NT,"encodeBinary");function AT(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,E.int32(i)])}return N(e)}n(AT,"encodeBinary");function RT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:P.LengthDelimited,value:AT(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,E.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,E.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,E.int32(i)])}return N(e)}n(RT,"encodeBinary");function MT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,E.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,E.int32(i)])}return N(e)}n(MT,"encodeBinary");function VT(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,E.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:P.LengthDelimited,value:RT(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:P.LengthDelimited,value:MT(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,E.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,E.string(i)])}return N(e)}n(VT,"encodeBinary");function OT(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:P.LengthDelimited,value:NT(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,E.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:P.LengthDelimited,value:VT(i)}])}return N(e)}n(OT,"encodeBinary");function DT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return N(e)}n(DT,"encodeBinary");function LT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:DT(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,E.int32(i)])}return N(e)}n(LT,"encodeBinary");function BT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return N(e)}n(BT,"encodeBinary");function FT(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:P.LengthDelimited,value:BT(i)}])}return N(e)}n(FT,"encodeBinary");function YT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:P.LengthDelimited,value:FT(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,E.string(i)])}return N(e)}n(YT,"encodeBinary");function UT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,E.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,E.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,E.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:P.LengthDelimited,value:YT(i)}])}return N(e)}n(UT,"encodeBinary");function jT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return N(e)}n(jT,"encodeBinary");function WT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:P.LengthDelimited,value:jT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,E.int32(i)])}return N(e)}n(WT,"encodeBinary");function HT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,E.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,E.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,E.string(i)])}return N(e)}n(HT,"encodeBinary");function JT(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:P.LengthDelimited,value:HT(i)}])}return N(e)}n(JT,"encodeBinary");function GT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return N(e)}n(GT,"encodeBinary");function zT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return N(e)}n(zT,"encodeBinary");function $T(t){let e=[];for(let i of t.list)e.push([1,E.string(i)]);return N(e)}n($T,"encodeBinary");function KT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.int32(i)])}return N(e)}n(KT,"encodeBinary");function qT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.string(i)])}return N(e)}n(qT,"encodeBinary");function XT(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,E.bytes(i)])}return N(e)}n(XT,"encodeBinary");function QT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:P.LengthDelimited,value:XT(i)}])}return N(e)}n(QT,"encodeBinary");function ZT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}return N(e)}n(ZT,"encodeBinary");function eI(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return N(e)}n(eI,"encodeBinary");function tI(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return N(e)}n(tI,"encodeBinary");function rb(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:P.LengthDelimited,value:JT(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,E.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:P.LengthDelimited,value:GT(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:P.LengthDelimited,value:zT(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:P.LengthDelimited,value:$T(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:P.LengthDelimited,value:KT(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:P.LengthDelimited,value:qT(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:P.LengthDelimited,value:QT(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:P.LengthDelimited,value:ZT(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:P.LengthDelimited,value:eI(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:P.LengthDelimited,value:tI(i)}])}return N(e)}n(rb,"encodeBinary");function iI(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,E.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,E.int32(i)])}return N(e)}n(iI,"encodeBinary");function oI(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:P.LengthDelimited,value:iI(i)}])}return N(e)}n(oI,"encodeBinary");function nI(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,E.int32(i)])}return N(e)}n(nI,"encodeBinary");function rI(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:nI(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,E.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,E.int32(i)])}return N(e)}n(rI,"encodeBinary");function sI(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,E.int32(i)])}return N(e)}n(sI,"encodeBinary");function aI(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:P.LengthDelimited,value:sI(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,E.int32(i)])}return N(e)}n(aI,"encodeBinary");function sb(t,e){let i=gT({id:t,timestamp:e});return encodeURIComponent(ct(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(sb,"encodeVisitorData");function ab(t){return xT(yb(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(ab,"decodeVisitorData");function ub(t){let e=bT({params:{channelId:t}});return encodeURIComponent(ct(e))}n(ub,"encodeChannelAnalyticsParams");function lb(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},s={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},l={};if(t?l.filters={}:l.noFilter=0,l.filters&&(t.upload_date&&(l.filters.uploadDate=e[t.upload_date]),t.type&&(l.filters.type=i[t.type]),t.duration&&(l.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(l.sortBy=r[t.sort_by]),t.features))for(let f of t.features)l.filters[s[f]]=1;let p=TT(l);return encodeURIComponent(ct(p))}n(lb,"encodeSearchFilters");function cb(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=ST(i);return encodeURIComponent(ct(o))}n(cb,"encodeMusicSearchFilters");function db(t,e){let i=PT({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ct(i)))}n(db,"encodeMessageParams");function pb(t,e={}){let o=OT({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(ct(o))}n(pb,"encodeCommentsSectionParams");function fb(t){let e=LT({videoId:t,params:{index:0},number:7});return encodeURIComponent(ct(e))}n(fb,"encodeCommentParams");function Lo(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=UT(i);return encodeURIComponent(ct(o))}n(Lo,"encodeCommentActionParams");function mb(t,e){let i=WT({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ct(i))}n(mb,"encodeNotificationPref");function hb(t,e){let i={context:{client:{unkparam:14,clientName:de.ANDROID.NAME,clientVersion:de.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),rb(i)}n(hb,"encodeVideoMetadataPayload");function _b(t,e){let i={context:{client:{unkparam:14,clientName:de.ANDROID.NAME,clientVersion:de.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return rb(i)}n(_b,"encodeCustomThumbnailPayload");function vb(t){let e=oI({params:{hashtag:t,type:1}});return encodeURIComponent(ct(e))}n(vb,"encodeHashtag");function gb(t){let e=rI({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(ct(e))}n(gb,"encodeReelSequence");function xb(){let t=aI({f1:{p1:1},p59:1});return encodeURIComponent(ct(t))}n(xb,"encodeShortsParam");var Bt,Nl=class extends a{constructor(e){var i,o,r,s,l,p,f;super(),Bt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,Av),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,Nv),this.author_badge=c.parseItem(e.authorCommentBadge,Pv),this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,j),this.action_buttons=c.parseItem(e.actionButtons,nr),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((l=(s=this.action_buttons)===null||s===void 0?void 0:s.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return b(this,void 0,void 0,function*(){if(!d(this,Bt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new v("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Bt,"f"),{parse:!1})})}dislike(){var e;return b(this,void 0,void 0,function*(){if(!d(this,Bt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new v("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Bt,"f"),{parse:!1})})}reply(e){var i,o,r;return b(this,void 0,void 0,function*(){if(!d(this,Bt,"f"))throw new v("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new v("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=s.endpoint)===null||r===void 0)&&r.dialog))throw new v("Reply button endpoint did not have a dialog.");let p=s.endpoint.dialog.as(fr).reply_button;if(!p)throw new v("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new v("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,Bt,"f"),{commentText:e})})}translate(e){var i,o,r,s,l,p;return b(this,void 0,void 0,function*(){if(!d(this,Bt,"f"))throw new v("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},m=Lo(22,h),y=yield d(this,Bt,"f").execute("comment/perform_comment_action",{action:m,client:"ANDROID"}),x=(o=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(l=(s=(r=x==null?void 0:x[0])===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:T})})}setActions(e){I(this,Bt,e,"f")}};n(Nl,"Comment");Bt=new WeakMap;Nl.type="Comment";var vr=Nl;var Al=class extends a{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Al,"EmojiPicker");Al.type="EmojiPicker";var Ov=Al;var Rl=class extends a{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.placeholder=new u(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,S),this.emoji_picker=c.parseItem(e.emojiPicker,Ov)}};n(Rl,"CommentDialog");Rl.type="CommentDialog";var uI=Rl;var Ml=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,S),this.hide_replies=c.parseItem(e.hideReplies,S),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(Ml,"CommentReplies");Ml.type="CommentReplies";var Dv=Ml;var Vl=class extends a{constructor(e){super(),this.simplebox_avatar=w.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(Vl,"CommentsSimplebox");Vl.type="CommentsSimplebox";var Lv=Vl;var Ol=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(Ol,"CommentsEntryPointTeaser");Ol.type="CommentsEntryPointTeaser";var Bv=Ol;var Dl=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[Bv,Lv])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(Dl,"CommentsEntryPointHeader");Dl.type="CommentsEntryPointHeader";var Fv=Dl;var Ll=class extends a{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,Lt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(Ll,"CommentsHeader");Ll.type="CommentsHeader";var zi=Ll;var Bl=class extends a{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(Bl,"CommentSimplebox");Bl.type="CommentSimplebox";var Yv=Bl;var it,Fl=class extends a{constructor(e){super(),it.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new M({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new g(o.likeCommand),this.dislike_command=new g(o.dislikeCommand),this.unlike_command=new g(o.unlikeCommand),this.undislike_command=new g(o.undislikeCommand),this.reply_command=new g(o.replyCommand))}like(){return b(this,void 0,void 0,function*(){if(!d(this,it,"f"))throw new v("Actions instance not set for this comment.");if(!this.like_command)throw new v("Like command not found.");if(this.is_liked)throw new v("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(d(this,it,"f"))})}dislike(){return b(this,void 0,void 0,function*(){if(!d(this,it,"f"))throw new v("Actions instance not set for this comment.");if(!this.dislike_command)throw new v("Dislike command not found.");if(this.is_disliked)throw new v("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(d(this,it,"f"))})}unlike(){return b(this,void 0,void 0,function*(){if(!d(this,it,"f"))throw new v("Actions instance not set for this comment.");if(!this.unlike_command)throw new v("Unlike command not found.");if(!this.is_liked)throw new v("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(d(this,it,"f"))})}undislike(){return b(this,void 0,void 0,function*(){if(!d(this,it,"f"))throw new v("Actions instance not set for this comment.");if(!this.undislike_command)throw new v("Undislike command not found.");if(!this.is_disliked)throw new v("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(d(this,it,"f"))})}reply(e){var i;return b(this,void 0,void 0,function*(){if(!d(this,it,"f"))throw new v("Actions instance not set for this comment.");if(!this.reply_command)throw new v("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(fr);if(!o)throw new v("Reply dialog not found.");let r=o.reply_button;if(!r)throw new v("Reply button not found in the dialog.");if(!r.endpoint)throw new v("Reply button endpoint not found.");return r.endpoint.call(d(this,it,"f"),{commentText:e})})}translate(e){var i,o,r,s,l,p;return b(this,void 0,void 0,function*(){if(!d(this,it,"f"))throw new v("Actions instance not set for this comment.");if(!this.content)throw new v("Comment content not found.",{comment_id:this.comment_id});let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},m=Lo(22,h),y=yield d(this,it,"f").execute("comment/perform_comment_action",{action:m,client:"ANDROID"}),x=(o=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(l=(s=(r=x==null?void 0:x[0])===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:T})})}setActions(e){I(this,it,e,"f")}};n(Fl,"CommentView");it=new WeakMap;Fl.type="CommentView";var $i=Fl;var yi,Bo,Yl=class extends a{constructor(e){super(),yi.set(this,void 0),Bo.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=c.parseItem(e.commentViewModel,$i):this.comment=c.parseItem(e.comment,vr),this.comment_replies_data=c.parseItem(e.replies,Dv),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return b(this,void 0,void 0,function*(){if(!d(this,yi,"f"))throw new v("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new v("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(he);if(!i)throw new v("Replies continuation not found.");let o=yield i.endpoint.call(d(this,yi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=se(o.on_response_received_endpoints_memo.getType(vr,$i).map(r=>(r.setActions(d(this,yi,"f")),r))),I(this,Bo,o==null?void 0:o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}getContinuation(){var e;return b(this,void 0,void 0,function*(){if(!this.replies)throw new v("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,Bo,"f"))throw new v("Continuation not found.");if(!d(this,yi,"f"))throw new v("Actions instance not set for this thread.");let i=(e=d(this,Bo,"f").button)===null||e===void 0?void 0:e.as(S);if(!i)throw new v('"Load more" button not found.');let o=yield i.endpoint.call(d(this,yi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=se(o.on_response_received_endpoints_memo.getType(vr,$i).map(r=>(r.setActions(d(this,yi,"f")),r))),I(this,Bo,o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new v("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,Bo,"f")}setActions(e){I(this,yi,e,"f")}};n(Yl,"CommentThread");yi=new WeakMap,Bo=new WeakMap;Yl.type="CommentThread";var Uv=Yl;var Ul=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,j)}};n(Ul,"CompactChannel");Ul.type="CompactChannel";var lI=Ul;var jl=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};n(jl,"CompactLink");jl.type="CompactLink";var gr=jl;var Wl=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Wl,"PlaylistCustomThumbnail");Wl.type="PlaylistCustomThumbnail";var xr=Wl;var Hl=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Hl,"PlaylistVideoThumbnail");Hl.type="PlaylistVideoThumbnail";var yr=Hl;var Jl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new M(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[yr,xr])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(Jl,"Playlist");Jl.type="Playlist";var ti=Jl;var Gl=class extends ti{constructor(e){super(e)}};n(Gl,"CompactMix");Gl.type="CompactMix";var cI=Gl;var zl=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(s=>s.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:je(r)},this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,j)}};n(zl,"CompactMovie");zl.type="CompactMovie";var dI=zl;var $l=class extends ti{constructor(e){super(e)}};n($l,"CompactPlaylist");$l.type="CompactPlaylist";var pI=$l;var Kl=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Kl,"CompactStation");Kl.type="CompactStation";var fI=Kl;var ql=class extends a{constructor(e){super(),this.title=new u(e.title),this.confirm_button=c.parseItem(e.confirmButton,S),this.cancel_button=c.parseItem(e.cancelButton,S),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(ql,"ConfirmDialog");ql.type="ConfirmDialog";var mI=ql;var Xl=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};n(Xl,"ContentMetadataView");Xl.type="ContentMetadataView";var br=Xl;var Ql=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Ql,"Message");Ql.type="Message";var $e=Ql;var Zl=class extends a{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,$e)}};n(Zl,"ConversationBar");Zl.type="ConversationBar";var hI=Zl;var ec=class extends a{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,S),this.short_url=e.shortUrl,this.style=e.style}};n(ec,"CopyLink");ec.type="CopyLink";var jv=ec;var tc=class extends a{constructor(e){var i,o;super(),this.avatar=c.parseItem(e.avatar,U_),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap))}};n(tc,"DecoratedAvatarView");tc.type="DecoratedAvatarView";var Wv=tc;var ic=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(ic,"HeatMarker");ic.type="HeatMarker";var Hv=ic;var oc=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,Hv),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(oc,"Heatmap");oc.type="Heatmap";var Jv=oc;var nc=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,Jv)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,wv)))}};n(nc,"Marker");nc.type="Marker";var rc=class extends a{constructor(e){var i;super(),this.markers_map=se(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new nc(o)))||[])}};n(rc,"MultiMarkersPlayerBar");rc.type="MultiMarkersPlayerBar";var Gv=rc;var sc=class extends a{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,Gv),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,S)}};n(sc,"DecoratedPlayerBar");sc.type="DecoratedPlayerBar";var zv=sc;var ac=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(ac,"DefaultPromoPanel");ac.type="DefaultPromoPanel";var _I=ac;var uc=class extends a{constructor(e){var i,o,r,s,l,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let f=(p=(l=(s=e.rendererContext.commandContext)===null||s===void 0?void 0:s.onTap)===null||l===void 0?void 0:l.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:c.parseItem(f.engagementPanel,ji),engagement_panel_popup_type:f.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:f.identifier.surface,tag:f.identifier.tag}}}}}};n(uc,"DescriptionPreviewView");uc.type="DescriptionPreviewView";var $v=uc;var lc=class extends a{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(lc,"DidYouMean");lc.type="DidYouMean";var Kv=lc;var cc=class extends a{constructor(e){super(),this.default_button=c.parseItem(e.defaultButtonViewModel,Mo),this.toggled_button=c.parseItem(e.toggledButtonViewModel,Mo),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(cc,"ToggleButtonView");cc.type="ToggleButtonView";var wr=cc;var dc=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,wr),this.dislike_entity_key=e.dislikeEntityKey}};n(dc,"DislikeButtonView");dc.type="DislikeButtonView";var qv=dc;var pc=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};n(pc,"DownloadButton");pc.type="DownloadButton";var vI=pc;var fc=class extends a{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(fc,"DynamicTextView");fc.type="DynamicTextView";var Xv=fc;var Fo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Fo(o)))}};n(Fo,"ChildElement");Fo.type="ChildElement";var Qv=Fo;var Yo=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,Yo);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=se(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new Qv(r)))||[]))}};n(Yo,"Element");Yo.type="Element";var Tr=Yo;var mc=class extends a{constructor(e){super(),this.title=new u(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,j)}};n(mc,"EmergencyOnebox");mc.type="EmergencyOnebox";var gI=mc;var hc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(hc,"EmojiPickerCategory");hc.type="EmojiPickerCategory";var xI=hc;var _c=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(_c,"EmojiPickerCategoryButton");_c.type="EmojiPickerCategoryButton";var yI=_c;var vc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};n(vc,"EmojiPickerUpsellCategory");vc.type="EmojiPickerUpsellCategory";var bI=vc;var gc=class extends a{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(gc,"Endscreen");gc.type="Endscreen";var Zv=gc;var xc=class extends a{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=w.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=w.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(xc,"EndscreenElement");xc.type="EndscreenElement";var wI=xc;var yc=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(yc,"EndScreenPlaylist");yc.type="EndScreenPlaylist";var e0=yc;var bc=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(bc,"EndScreenVideo");bc.type="EndScreenVideo";var t0=bc;var wc=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(wc,"ExpandableTab");wc.type="ExpandableTab";var Ir=wc;var Tc=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Tc,"ExpandedShelfContents");Tc.type="ExpandedShelfContents";var TI=Tc;var Ic=class extends a{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(Ic,"FancyDismissibleDialog");Ic.type="FancyDismissibleDialog";var II=Ic;var kc=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,xe)}};n(kc,"FeedFilterChipBar");kc.type="FeedFilterChipBar";var bi=kc;var Sc=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new g(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Sc,"FeedNudge");Sc.type="FeedNudge";var kI=Sc;var Cc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Cc,"FeedTabbedHeader");Cc.type="FeedTabbedHeader";var i0=Cc;var Ec=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,Mo)})),this.style=e.style}};n(Ec,"FlexibleActionsView");Ec.type="FlexibleActionsView";var o0=Ec;var Pc=class extends a{constructor(e){super(),this.title=new u(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Pc,"GameDetails");Pc.type="GameDetails";var SI=Pc;var Nc=class extends a{constructor(e){var i,o,r;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(Nc,"Grid");Nc.type="Grid";var Uo=Nc;var Ac=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(Ac,"GridChannel");Ac.type="GridChannel";var n0=Ac;var Rc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Rc,"GridHeader");Rc.type="GridHeader";var CI=Rc;var Mc=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Mc,"GridMix");Mc.type="GridMix";var EI=Mc;var Vc=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges,lt),this.metadata=new u(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Vc,"GridMovie");Vc.type="GridMovie";var PI=Vc;var Oc=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new M(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>w.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(Oc,"GridPlaylist");Oc.type="GridPlaylist";var r0=Oc;var Dc=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Dc,"ShowCustomThumbnail");Dc.type="ShowCustomThumbnail";var s0=Dc;var Lc=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Lc,"ThumbnailOverlayBottomPanel");Lc.type="ThumbnailOverlayBottomPanel";var a0=Lc;var Bc=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ae(e.thumbnailRenderer,s0),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Ke(e.thumbnailOverlays,a0),this.author=new M(e.shortBylineText,void 0)}};n(Bc,"GridShow");Bc.type="GridShow";var NI=Bc;var Fc=class extends a{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new M(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=c.parseItem(e.menu,j),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(Fc,"GridVideo");Fc.type="GridVideo";var u0=Fc;var Yc=class extends a{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(Yc,"GuideEntry");Yc.type="GuideEntry";var jo=Yc;var Uc=class extends a{constructor(e){super(),this.expander_item=ae(e.expanderItem,jo),this.collapser_item=ae(e.collapserItem,jo),this.expandable_items=Ke(e.expandableItems)}};n(Uc,"GuideCollapsibleEntry");Uc.type="GuideCollapsibleEntry";var AI=Uc;var jc=class extends a{constructor(e){super(),this.header_entry=ae(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ke(e.sectionItems)}};n(jc,"GuideCollapsibleSectionEntry");jc.type="GuideCollapsibleSectionEntry";var RI=jc;var Wc=class extends jo{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(Wc,"GuideDownloadsEntry");Wc.type="GuideDownloadsEntry";var MI=Wc;var Hc=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Ke(e.items)}};n(Hc,"GuideSection");Hc.type="GuideSection";var kr=Hc;var Jc=class extends kr{};n(Jc,"GuideSubscriptionsSection");Jc.type="GuideSubscriptionsSection";var l0=Jc;var Gc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(Gc,"HashtagHeader");Gc.type="HashtagHeader";var c0=Gc;var zc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=w.fromResponse(e.hashtagThumbnail),this.endpoint=new g(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(zc,"HashtagTile");zc.type="HashtagTile";var VI=zc;var $c=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};n($c,"HeroPlaylistThumbnail");$c.type="HeroPlaylistThumbnail";var OI=$c;var Kc=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:w.fromResponse(e.thumbnail.image),endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:w.fromResponse(e.backgroundImage.image),gradient_image:w.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};n(Kc,"Panel");Kc.type="Panel";var qc=class extends a{constructor(e){super(),this.panels=se(e.highlightsCarousel.panels.map(i=>new Kc(i)))}};n(qc,"HighlightsCarousel");qc.type="HighlightsCarousel";var Xc=qc;var Qc=class extends a{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};n(Qc,"SearchSuggestion");Qc.type="SearchSuggestion";var d0=Qc;var Zc=class extends d0{constructor(e){super(e)}};n(Zc,"HistorySuggestion");Zc.type="HistorySuggestion";var DI=Zc;var ed=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,S),this.next_button=c.parseItem(e.nextButton,S)}get contents(){return this.items}};n(ed,"HorizontalMovieList");ed.type="HorizontalMovieList";var LI=ed;var td=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};n(td,"IconLink");td.type="IconLink";var p0=td;var id=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(id,"ImageBannerView");id.type="ImageBannerView";var f0=id;var od=class extends a{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new g(e.originalQueryEndpoint):void 0}};n(od,"IncludingResultsFor");od.type="IncludingResultsFor";var BI=od;var nd=class extends a{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(nd,"InfoPanelContent");nd.type="InfoPanelContent";var m0=nd;var rd=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.menu=c.parseItem(e.menu,j),this.content=c.parseItem(e.content,m0),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(rd,"InfoPanelContainer");rd.type="InfoPanelContainer";var h0=rd;var sd=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=c.parseArray(e.badges,lt),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[ze,S]),this.auto_generated=new u(e.autoGenerated)}};n(sd,"InteractiveTabbedHeader");sd.type="InteractiveTabbedHeader";var _0=sd;var ad=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(ad,"ItemSectionHeader");ad.type="ItemSectionHeader";var Sr=ad;var ud=class extends a{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};n(ud,"ItemSectionTab");ud.type="Tab";var v0=ud;var ld=class extends a{constructor(e){super(),this.title=new u(e.title),this.tabs=c.parseArray(e.tabs,v0),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(ld,"ItemSectionTabbedHeader");ld.type="ItemSectionTabbedHeader";var Cr=ld;var cd=class extends a{constructor(e){super(),this.filter_menu=c.parseItem(e.filterMenu,Wo.SortFilterSubMenu)}};n(cd,"SortFilterHeader");cd.type="SortFilterHeader";var g0=cd;var dd=class extends a{constructor(e){var i,o,r;super(),this.header=c.parseItem(e.header,[zi,Sr,Cr,g0]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(dd,"ItemSection");dd.type="ItemSection";var ye=dd;var pd=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};n(pd,"LikeButton");pd.type="LikeButton";var x0=pd;var fd=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,wr),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(fd,"LikeButtonView");fd.type="LikeButtonView";var y0=fd;var md=class extends a{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(md,"LiveChat");md.type="LiveChat";var b0=md;var hd=class extends a{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,S)}};n(hd,"LiveChatBannerHeader");hd.type="LiveChatBannerHeader";var w0=hd;var _d=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,w0),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(_d,"LiveChatBanner");_d.type="LiveChatBanner";var T0=_d;var vd=class extends a{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,T0)}};n(vd,"AddBannerToLiveChatCommand");vd.type="AddBannerToLiveChatCommand";var FI=vd;var gd=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(gd,"AddChatItemAction");gd.type="AddChatItemAction";var I0=gd;var xd=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(xd,"AddLiveChatTickerItemAction");xd.type="AddLiveChatTickerItemAction";var YI=xd;var yd=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(yd,"DimChatItemAction");yd.type="DimChatItemAction";var UI=yd;var bd=class extends a{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,S),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(bd,"LiveChatAutoModMessage");bd.type="LiveChatAutoModMessage";var jI=bd;var wd=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,S)}};n(wd,"LiveChatBannerPoll");wd.type="LiveChatBannerPoll";var WI=wd;var Td=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Td,"LiveChatMembershipItem");Td.type="LiveChatMembershipItem";var HI=Td;var Id=class extends a{constructor(e){super(),this.message=new u(e.message),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(Id,"LiveChatPaidMessage");Id.type="LiveChatPaidMessage";var JI=Id;var kd=class extends a{constructor(e){super(),this.id=e.id,this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(kd,"LiveChatPaidSticker");kd.type="LiveChatPaidSticker";var GI=kd;var Sd=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Sd,"LiveChatPlaceholderItem");Sd.type="LiveChatPlaceholderItem";var zI=Sd;var Cd=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(Cd,"LiveChatProductItem");Cd.type="LiveChatProductItem";var $I=Cd;var Ed=class extends a{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Ed,"LiveChatRestrictedParticipation");Ed.type="LiveChatRestrictedParticipation";var KI=Ed;var Ho=class extends a{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,S),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Ho,"LiveChatMessageBase");Ho.type="LiveChatMessageBase";var Pd=class extends Ho{constructor(e){super(e),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Pd,"LiveChatTextMessage");Pd.type="LiveChatTextMessage";var qI=Pd;var Nd=class extends a{constructor(e){var i,o;super(),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};n(Nd,"LiveChatTickerPaidMessageItem");Nd.type="LiveChatTickerPaidMessageItem";var k0=Nd;var Ad=class extends k0{};n(Ad,"LiveChatTickerPaidStickerItem");Ad.type="LiveChatTickerPaidStickerItem";var XI=Ad;var Rd=class extends a{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new M(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Rd,"LiveChatTickerSponsorItem");Rd.type="LiveChatTickerSponsorItem";var QI=Rd;var Md=class extends Ho{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n(Md,"LiveChatViewerEngagementMessage");Md.type="LiveChatViewerEngagementMessage";var ZI=Md;var Vd=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,S)}};n(Vd,"PollHeader");Vd.type="PollHeader";var ek=Vd;var Od=class extends a{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n(Od,"LiveChatActionPanel");Od.type="LiveChatActionPanel";var S0=Od;var Dd=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Dd,"MarkChatItemAsDeletedAction");Dd.type="MarkChatItemAsDeletedAction";var tk=Dd;var Ld=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Ld,"MarkChatItemsByAuthorAsDeletedAction");Ld.type="MarkChatItemsByAuthorAsDeletedAction";var ik=Ld;var Bd=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Bd,"RemoveBannerForLiveChatCommand");Bd.type="RemoveBannerForLiveChatCommand";var ok=Bd;var Fd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Fd,"RemoveChatItemAction");Fd.type="RemoveChatItemAction";var nk=Fd;var Yd=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Yd,"RemoveChatItemByAuthorAction");Yd.type="RemoveChatItemByAuthorAction";var rk=Yd;var Ud=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(Ud,"ReplaceChatItemAction");Ud.type="ReplaceChatItemAction";var sk=Ud;var jd=class extends a{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(jd,"ReplayChatItemAction");jd.type="ReplayChatItemAction";var ak=jd;var Wd=class extends a{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,S0)}};n(Wd,"ShowLiveChatActionPanelAction");Wd.type="ShowLiveChatActionPanelAction";var uk=Wd;var Hd=class extends a{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n(Hd,"ShowLiveChatDialogAction");Hd.type="ShowLiveChatDialogAction";var lk=Hd;var Jd=class extends a{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(Jd,"ShowLiveChatTooltipCommand");Jd.type="ShowLiveChatTooltipCommand";var ck=Jd;var Gd=class extends a{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(Gd,"UpdateDateTextAction");Gd.type="UpdateDateTextAction";var C0=Gd;var zd=class extends a{constructor(e){super(),this.description=new u(e.description)}};n(zd,"UpdateDescriptionAction");zd.type="UpdateDescriptionAction";var E0=zd;var $d=class extends a{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n($d,"UpdateLiveChatPollAction");$d.type="UpdateLiveChatPollAction";var dk=$d;var Kd=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Kd,"UpdateTitleAction");Kd.type="UpdateTitleAction";var P0=Kd;var qd=class extends a{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(qd,"UpdateToggleButtonTextAction");qd.type="UpdateToggleButtonTextAction";var N0=qd;var Xd=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(Xd,"UpdateViewershipAction");Xd.type="UpdateViewershipAction";var A0=Xd;var Qd=class extends lt{constructor(e){super(e),this.custom_thumbnail=w.fromResponse(e.customThumbnail)}};n(Qd,"LiveChatAuthorBadge");Qd.type="LiveChatAuthorBadge";var pk=Qd;var Zd=class extends a{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,S),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Zd,"LiveChatDialog");Zd.type="LiveChatDialog";var fk=Zd;var ep=class extends a{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,j),this.collapse_button=c.parseItem(e.collapseButton,S),this.view_selector=c.parseItem(e.viewSelector,Lt)}};n(ep,"LiveChatHeader");ep.type="LiveChatHeader";var R0=ep;var tp=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,S)}};n(tp,"LiveChatItemList");tp.type="LiveChatItemList";var M0=tp;var ip=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,S),this.target_id=e.targetId}};n(ip,"LiveChatMessageInput");ip.type="LiveChatMessageInput";var mk=ip;var op=class extends a{constructor(e){super(),this.name=new u(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(op,"LiveChatParticipant");op.type="LiveChatParticipant";var V0=op;var np=class extends a{constructor(e){super(),this.title=new u(e.title),this.participants=c.parseArray(e.participants,V0)}};n(np,"LiveChatParticipantsList");np.type="LiveChatParticipantsList";var O0=np;var rp=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=c.parseItem(e.metadata,br)}};n(rp,"LockupMetadataView");rp.type="LockupMetadataView";var D0=rp;var sp=class extends a{constructor(e){super(),this.content_image=c.parseItem(e.contentImage,Cv),this.metadata=c.parseItem(e.metadata,D0),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap)}};n(sp,"LockupView");sp.type="LockupView";var L0=sp;var ap=class extends S{constructor(e){super(e)}};n(ap,"MenuNavigationItem");ap.type="MenuNavigationItem";var B0=ap;var up=class extends S{constructor(e){super(e)}};n(up,"MenuServiceItem");up.type="MenuServiceItem";var Ki=up;var lp=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[B0,Ki])}};n(lp,"MenuPopup");lp.type="MenuPopup";var hk=lp;var cp=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};n(cp,"MenuServiceItemDownload");cp.type="MenuServiceItemDownload";var _k=cp;var dp=class extends a{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(dp,"MultiPageMenu");dp.type="MultiPageMenu";var vk=dp;var pp=class extends a{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(pp,"MultiPageMenuNotificationSection");pp.type="MultiPageMenuNotificationSection";var gk=pp;var fp=class extends a{constructor(e){super()}};n(fp,"MusicMenuItemDivider");fp.type="MusicMenuItemDivider";var F0=fp;var mp=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};n(mp,"MusicMultiSelectMenuItem");mp.type="MusicMultiSelectMenuItem";var Ft=mp;var hp=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[Ft,F0])}};n(hp,"MusicMultiSelectMenu");hp.type="MusicMultiSelectMenu";var Y0=hp;var _p=class extends a{constructor(e){super(),this.title=new u(e.title),this.buttons=c.parse(e.buttons)}};n(_p,"SimpleMenuHeader");_p.type="SimpleMenuHeader";var U0=_p;var vp=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};n(vp,"MerchandiseItem");vp.type="MerchandiseItem";var xk=vp;var gp=class extends a{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(gp,"MerchandiseShelf");gp.type="MerchandiseShelf";var j0=gp;var xp=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(xp,"MetadataRow");xp.type="MetadataRow";var yk=xp;var yp=class extends a{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(yp,"MetadataRowContainer");yp.type="MetadataRowContainer";var W0=yp;var bp=class extends a{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(bp,"MetadataRowHeader");bp.type="MetadataRowHeader";var bk=bp;var wp=class extends a{constructor(e){super(),this.section_list=c.parseItem(e)}};n(wp,"MetadataScreen");wp.type="MetadataScreen";var wk=wp;var Tp=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=w.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Tp,"MicroformatData");Tp.type="MicroformatData";var ii=Tp;var Ip=class extends ti{constructor(e){super(e)}};n(Ip,"Mix");Ip.type="Mix";var Tk=Ip;var kp=class extends a{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=c.parseItem(e.button,S)}};n(kp,"ModalWithTitleAndButton");kp.type="ModalWithTitleAndButton";var Ik=kp;var Sp=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(s).toString(),seconds:je(e.lengthText?new u(e.lengthText).toString():new u(s).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,j)}};n(Sp,"Movie");Sp.type="Movie";var kk=Sp;var Cp=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new w(o)).sort((o,r)=>r.width-o.width)}};n(Cp,"MovingThumbnail");Cp.type="MovingThumbnail";var Sk=Cp;var Ep=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Ep,"MusicCardShelfHeaderBasic");Ep.type="MusicCardShelfHeaderBasic";var H0=Ep;var Pp=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Pp,"MusicInlineBadge");Pp.type="MusicInlineBadge";var J0=Pp;var Np=class extends a{constructor(e){var i,o;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(Np,"MusicPlayButton");Np.type="MusicPlayButton";var G0=Np;var Ap=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,G0),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Ap,"MusicItemThumbnailOverlay");Ap.type="MusicItemThumbnailOverlay";var oi=Ap;var Rp=class extends a{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};n(Rp,"MusicThumbnail");Rp.type="MusicThumbnail";var St=Rp;var Mp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,St),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=c.parseArray(e.buttons,S),this.menu=c.parseItem(e.menu,j),this.on_tap=new g(e.onTap),this.header=c.parseItem(e.header,H0),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,J0),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,oi),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(Mp,"MusicCardShelf");Mp.type="MusicCardShelf";var z0=Mp;var Vp=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,St)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,S)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,p0))}};n(Vp,"MusicCarouselShelfBasicHeader");Vp.type="MusicCarouselShelfBasicHeader";var $0=Vp;var Op=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,St),this.overlay=c.parseItem(e.overlay,oi),this.on_tap=new g(e.onTap),this.menu=c.parseItem(e.menu,j),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(Op,"MusicMultiRowListItem");Op.type="MusicMultiRowListItem";var K0=Op;var Dp=class extends a{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new g(e.clickCommand)}};n(Dp,"MusicNavigationButton");Dp.type="MusicNavigationButton";var Er=Dp;var Lp=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Lp,"MusicResponsiveListItemFixedColumn");Lp.type="musicResponsiveListItemFlexColumnRenderer";var q0=Lp;var Bp=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Bp,"MusicResponsiveListItemFlexColumn");Bp.type="MusicResponsiveListItemFlexColumn";var X0=Bp;var vt,Pr,bb,Pk,Ck,Ek,Nk,Ak,Rk,Mk,Vk,Ok,Fp=class extends a{constructor(e){var i,o,r,s,l,p;super(),vt.add(this),Pr.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,X0),this.fixed_columns=c.parseArray(e.fixedColumns,q0),I(this,Pr,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint));let f=(p=(l=(s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(m=>{var y,x,T,k;return((k=(T=(x=(y=m.title.endpoint)===null||y===void 0?void 0:y.payload)===null||x===void 0?void 0:x.browseEndpointContextSupportedConfigs)===null||T===void 0?void 0:T.browseEndpointContextMusicConfig)===null||k===void 0?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,vt,"m",Vk).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,vt,"m",Ok).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,vt,"m",Nk).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,vt,"m",Ak).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,vt,"m",Rk).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",d(this,vt,"m",Mk).call(this);break;default:this.flex_columns[1]?d(this,vt,"m",Pk).call(this):d(this,vt,"m",bb).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,St)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,j)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,oi))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Fp,"MusicResponsiveListItem");Pr=new WeakMap,vt=new WeakSet,bb=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Pk=n(function(){var e,i,o,r,s,l,p;switch((p=(l=(s=(r=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.watchEndpointMusicSupportedConfigs)===null||l===void 0?void 0:l.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",d(this,vt,"m",Ek).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",d(this,vt,"m",Ck).call(this);break;default:d(this,vt,"m",bb).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Ck=n(function(){var e,i,o,r,s,l,p,f,h,m,y,x,T,k,C;this.id=d(this,Pr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let A=((s=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(O=>/^\d+$/.test(O.text.replace(/:/g,""))))===null||s===void 0?void 0:s.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.title)===null||p===void 0?void 0:p.toString());A&&(this.duration={text:A,seconds:je(A)});let F=((h=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||h===void 0?void 0:h.find(O=>ot(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")))||((y=(m=this.flex_columns.at(2))===null||m===void 0?void 0:m.title.runs)===null||y===void 0?void 0:y.find(O=>ot(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")));F&&ot(F)&&(this.album={id:(T=(x=F.endpoint)===null||x===void 0?void 0:x.payload)===null||T===void 0?void 0:T.browseId,name:F.text,endpoint:F.endpoint});let Q=(C=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.title.runs)===null||C===void 0?void 0:C.filter(O=>ot(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("UC"));Q&&(this.artists=Q.map(O=>{var ue,ve;return{name:O.text,channel_id:ot(O)?(ve=(ue=O.endpoint)===null||ue===void 0?void 0:ue.payload)===null||ve===void 0?void 0:ve.browseId:void 0,endpoint:ot(O)?O.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Ek=n(function(){var e,i,o,r,s,l,p,f,h,m;this.id=d(this,Pr,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let y=(s=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||s===void 0?void 0:s.filter(T=>ot(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));y&&(this.authors=y.map(T=>{var k,C;return{name:T.text,channel_id:ot(T)?(C=(k=T.endpoint)===null||k===void 0?void 0:k.payload)===null||C===void 0?void 0:C.browseId:void 0,endpoint:ot(T)?T.endpoint:void 0}}));let x=((p=(l=this.flex_columns[1].title.runs)===null||l===void 0?void 0:l.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((m=(h=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||h===void 0?void 0:h.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||m===void 0?void 0:m.text);x&&(this.duration={text:x,seconds:je(x)})},"_MusicResponsiveListItem_parseVideo"),Nk=n(function(){var e,i,o,r,s,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((l=(s=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||s===void 0?void 0:s.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),Ak=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(s=>/^\d+(,\d+)? songs?$/i.test(s.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Rk=n(function(){var e,i;this.id=d(this,Pr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Mk=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Vk=n(function(){var e,i,o,r,s,l,p,f,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(y=>ot(y)&&y.endpoint&&y.endpoint.payload.browseId.startsWith("UC"));m&&ot(m)&&(this.author={name:m.text,channel_id:(l=(s=m.endpoint)===null||s===void 0?void 0:s.payload)===null||l===void 0?void 0:l.browseId,endpoint:m.endpoint}),this.year=(h=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),Ok=n(function(){var e,i,o,r,s,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(y=>y.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let m=(l=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||l===void 0?void 0:l.find(y=>ot(y)&&y.endpoint&&y.endpoint.payload.browseId.startsWith("UC"));m&&ot(m)&&(this.author={name:m.text,channel_id:(f=(p=m.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:m.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Fp.type="MusicResponsiveListItem";var qi=Fp;var Yp=class extends a{constructor(e){var i,o,r,s,l,p,f,h,m,y,x,T,k,C,A,F,Q,O,ue,ve,ke,Pe;switch(super(),this.title=new u(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.videoId),this.subtitle=new u(e.subtitle),this.badges=c.parse(e.subtitleBadges),(h=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((y=(m=this.endpoint)===null||m===void 0?void 0:m.metadata)===null||y===void 0?void 0:y.api_url)==="/next"?this.item_type="endpoint":!((x=this.subtitle.runs)===null||x===void 0)&&x[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find($=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test($.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let $=(C=this.subtitle.runs)===null||C===void 0?void 0:C.find(z=>z.text.match(/\d+ songs|song/));this.item_count=$?$.text:null}else if(this.item_type=="album"){let $=(A=this.subtitle.runs)===null||A===void 0?void 0:A.filter(z=>{var Z,re;return(re=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||re===void 0?void 0:re.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var Z,re;return{name:z.text,channel_id:(re=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||re===void 0?void 0:re.browseId,endpoint:z.endpoint}})),this.year=(F=this.subtitle.runs)===null||F===void 0?void 0:F.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((O=(Q=this===null||this===void 0?void 0:this.subtitle.runs)===null||Q===void 0?void 0:Q.find(z=>z==null?void 0:z.text.match(/(.*?) views/)))===null||O===void 0?void 0:O.text)||"N/A";let $=(ue=this.subtitle.runs)===null||ue===void 0?void 0:ue.find(z=>{var Z,re,Ye;return(Ye=(re=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||re===void 0?void 0:re.browseId)===null||Ye===void 0?void 0:Ye.startsWith("UC")});$&&(this.author={name:$==null?void 0:$.text,channel_id:(ke=(ve=$==null?void 0:$.endpoint)===null||ve===void 0?void 0:ve.payload)===null||ke===void 0?void 0:ke.browseId,endpoint:$==null?void 0:$.endpoint})}else if(this.item_type=="song"){let $=(Pe=this.subtitle.runs)===null||Pe===void 0?void 0:Pe.filter(z=>{var Z,re;return(re=(Z=z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||re===void 0?void 0:re.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var Z,re;return{name:z==null?void 0:z.text,channel_id:(re=(Z=z==null?void 0:z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||re===void 0?void 0:re.browseId,endpoint:z==null?void 0:z.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,oi),this.menu=c.parseItem(e.menu,j)}};n(Yp,"MusicTwoRowItem");Yp.type="MusicTwoRowItem";var Nr=Yp;var Up=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,$0),this.contents=c.parseArray(e.contents,[Nr,qi,K0,Er]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Up,"MusicCarouselShelf");Up.type="MusicCarouselShelf";var Me=Up;var jp=class extends a{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(jp,"MusicDescriptionShelf");jp.type="MusicDescriptionShelf";var Jo=jp;var Wp=class extends a{constructor(e){var i,o,r,s,l,p,f,h,m;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((s=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let y=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(x=>{var T,k;return(k=(T=x==null?void 0:x.endpoint)===null||T===void 0?void 0:T.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});y&&(this.author={name:y.text,channel_id:(m=(h=y.endpoint)===null||h===void 0?void 0:h.payload)===null||m===void 0?void 0:m.browseId,endpoint:y.endpoint}),this.menu=c.parseItem(e.menu)}};n(Wp,"MusicDetailHeader");Wp.type="MusicDetailHeader";var Go=Wp;var Hp=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Hp,"MusicDownloadStateBadge");Hp.type="MusicDownloadStateBadge";var Dk=Hp;var Jp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header)}};n(Jp,"MusicEditablePlaylistDetailHeader");Jp.type="MusicEditablePlaylistDetailHeader";var Q0=Jp;var Gp=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,Tr):null}};n(Gp,"MusicElementHeader");Gp.type="MusicElementHeader";var zp=Gp;var $p=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n($p,"MusicHeader");$p.type="MusicHeader";var Xi=$p;var Kp=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=c.parseItem(e.thumbnail,St)}};n(Kp,"MusicImmersiveHeader");Kp.type="MusicImmersiveHeader";var Z0=Kp;var qp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(qp,"ActionButton");qp.type="ActionButton";var Xp=class{constructor(e){this.image=w.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new qp(i))}};n(Xp,"Panel");Xp.type="Panel";var Qp=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Xp(i))}};n(Qp,"MusicLargeCardItemCarousel");Qp.type="MusicLargeCardItemCarousel";var Lk=Qp;var Zp=class extends a{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,qi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(Zp,"MusicPlaylistShelf");Zp.type="MusicPlaylistShelf";var zo=Zp;var ef=class extends a{constructor(e){var i,o,r,s,l;super(),this.title=new u(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:je(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var m,y,x;return(x=(y=(m=h.endpoint)===null||m===void 0?void 0:m.payload)===null||y===void 0?void 0:y.browseId)===null||x===void 0?void 0:x.startsWith("MPR")}),f=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var m,y,x;return(x=(y=(m=h.endpoint)===null||m===void 0?void 0:m.payload)===null||y===void 0?void 0:y.browseId)===null||x===void 0?void 0:x.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(s=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseId,name:p.text,year:(l=new u(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(h=>{var m,y;return{name:h.text,channel_id:(y=(m=h.endpoint)===null||m===void 0?void 0:m.payload)===null||y===void 0?void 0:y.browseId,endpoint:h.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(ef,"PlaylistPanelVideo");ef.type="PlaylistPanelVideo";var wi=ef;var tf=class extends a{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,wi),Reflect.has(e,"counterpart")&&(this.counterpart=se(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,wi))||[]))}};n(tf,"PlaylistPanelVideoWrapper");tf.type="PlaylistPanelVideoWrapper";var eg=tf;var of=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=c.parseArray(e.contents,[eg,wi,Bi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(of,"PlaylistPanel");of.type="PlaylistPanel";var ni=of;var nf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,ni)}};n(nf,"MusicQueue");nf.type="MusicQueue";var Ar=nf;var rf=class extends a{constructor(e){var i,o,r,s;super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents,qi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,S)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(rf,"MusicShelf");rf.type="MusicShelf";var Te=rf;var sf=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(sf,"MusicSideAlignedItem");sf.type="MusicSideAlignedItem";var tg=sf;var af=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,Y0)}};n(af,"MusicSortFilterButton");af.type="MusicSortFilterButton";var uf=af;var lf=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(lf,"MusicTastebuilderShelfThumbnail");lf.type="MusicTastebuilderShelfThumbnail";var ig=lf;var cf=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,ig),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=c.parseItem(e.actionButton,S),this.is_visible=e.isVisible}};n(cf,"MusicTasteBuilderShelf");cf.type="MusicTasteBuilderShelf";var og=cf;var df=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,j),this.foreground_thumbnail=e.foregroundThumbnail?w.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(df,"MusicVisualHeader");df.type="MusicVisualHeader";var ng=df;var pf=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(pf,"Notification");pf.type="Notification";var rg=pf;var ff=class extends a{constructor(e){super(),this.title=c.parseItem(e.title,Xv),this.image=c.parseItem(e.image,[ur,Wv]),this.metadata=c.parseItem(e.metadata,br),this.actions=c.parseItem(e.actions,o0),this.description=c.parseItem(e.description,$v),this.attributation=c.parseItem(e.attributation,F_),this.banner=c.parseItem(e.banner,f0)}};n(ff,"PageHeaderView");ff.type="PageHeaderView";var sg=ff;var mf=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,sg)}};n(mf,"PageHeader");mf.type="PageHeader";var ri=mf;var hf=class extends a{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(hf,"PageIntroduction");hf.type="PageIntroduction";var ag=hf;var _f=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new g(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(_f,"PivotButton");_f.type="PivotButton";var ug=_f;var vf=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(vf,"PlayerAnnotationsExpanded");vf.type="PlayerAnnotationsExpanded";var lg=vf;var gf=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(gf,"PlayerCaptionsTracklist");gf.type="PlayerCaptionsTracklist";var cg=gf;var xf=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(xf,"PlayerOverflow");xf.type="PlayerOverflow";var dg=xf;var yf=class extends a{constructor(e){super(),this.overflow=c.parseItem(e.overflow,dg)}};n(yf,"PlayerControlsOverlay");yf.type="PlayerControlsOverlay";var Bk=yf;var bf=class extends a{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=c.parseItem(e.proceedButton,S),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(bf,"PlayerErrorMessage");bf.type="PlayerErrorMessage";var Fk=bf;var wf=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(wf,"PlayerLegacyDesktopYpcOffer");wf.type="PlayerLegacyDesktopYpcOffer";var Yk=wf;var Tf=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Tf,"YpcTrailer");Tf.type="YpcTrailer";var pg=Tf;var If=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,pg)}};n(If,"PlayerLegacyDesktopYpcTrailer");If.type="PlayerLegacyDesktopYpcTrailer";var kf=If;var Sf=class extends a{constructor(e){super();let[i,o,r,s,l]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(s,10),rows:parseInt(l,10)}}};n(Sf,"PlayerLiveStoryboardSpec");Sf.type="PlayerLiveStoryboardSpec";var fg=Sf;var Cf=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(Cf,"PlayerMicroformat");Cf.type="PlayerMicroformat";var Ct=Cf;var Ef=class extends a{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.byline),this.cancel_button=c.parseItem(e.cancelButton,S),this.next_button=c.parseItem(e.nextButton,S),this.close_button=c.parseItem(e.closeButton,S)}};n(Ef,"PlayerOverlayAutoplay");Ef.type="PlayerOverlayAutoplay";var mg=Ef;var Pf=class extends a{constructor(e){super(),this.results=c.parseArray(e.results,[t0,e0]),this.title=new u(e.title).toString()}};n(Pf,"WatchNextEndScreen");Pf.type="WatchNextEndScreen";var hg=Pf;var Nf=class extends a{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,hg),this.autoplay=c.parseItem(e.autoplay,mg),this.share_button=c.parseItem(e.shareButton,S),this.add_to_menu=c.parseItem(e.addToMenu,j),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,zv)}};n(Nf,"PlayerOverlay");Nf.type="PlayerOverlay";var Qi=Nf;var Af=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new M(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(Af,"PlaylistHeader");Af.type="PlaylistHeader";var _g=Af;var Rf=class extends a{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new g(e.action)}};n(Rf,"PlaylistInfoCardContent");Rf.type="PlaylistInfoCardContent";var Uk=Rf;var Mf=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Mf,"PlaylistMetadata");Mf.type="PlaylistMetadata";var vg=Mf;var Vf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Vf,"PlaylistSidebar");Vf.type="PlaylistSidebar";var jk=Vf;var Of=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new u(e.description)}};n(Of,"PlaylistSidebarPrimaryInfo");Of.type="PlaylistSidebarPrimaryInfo";var gg=Of;var Df=class extends a{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(Df,"PlaylistSidebarSecondaryInfo");Df.type="PlaylistSidebarSecondaryInfo";var xg=Df;var Lf=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new M(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,j),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Oo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Oo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Lf,"PlaylistVideo");Lf.type="PlaylistVideo";var Rr=Lf;var Bf=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(Bf,"PlaylistVideoList");Bf.type="PlaylistVideoList";var Wk=Bf;var Ff=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Ff,"Poll");Ff.type="Poll";var Hk=Ff;var Yf=class extends Fi{constructor(e){super(e)}};n(Yf,"Post");Yf.type="Post";var yg=Yf;var Uf=class extends a{constructor(e){super(),this.images=c.parseArray(e.images,j_)}};n(Uf,"PostMultiImage");Uf.type="PostMultiImage";var Jk=Uf;var jf=class extends a{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(jf,"ProductListHeader");jf.type="ProductListHeader";var Gk=jf;var Wf=class extends a{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new g(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,S)}};n(Wf,"ProductListItem");Wf.type="ProductListItem";var zk=Wf;var Hf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Hf,"ProfileColumn");Hf.type="ProfileColumn";var $k=Hf;var Jf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Jf,"ProfileColumnStats");Jf.type="ProfileColumnStats";var Kk=Jf;var Gf=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(Gf,"ProfileColumnStatsEntry");Gf.type="ProfileColumnStatsEntry";var qk=Gf;var zf=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};n(zf,"ProfileColumnUserInfo");zf.type="ProfileColumnUserInfo";var Xk=zf;var $f=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n($f,"Quiz");$f.type="Quiz";var Qk=$f;var Kf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=c.parseItem(e.button,S),this.surface=e.surface}};n(Kf,"RecognitionShelf");Kf.type="RecognitionShelf";var Zk=Kf;var qf=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(qf,"ReelItem");qf.type="ReelItem";var Mr=qf;var Xf=class extends a{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.author=new M(e.channelNavigationEndpoint,void 0)}};n(Xf,"ReelPlayerHeader");Xf.type="ReelPlayerHeader";var bg=Xf;var Qf=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,x0),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,bg),this.menu=c.parseItem(e.menu,j),this.next_item_button=c.parseItem(e.nextItemButton,S),this.prev_item_button=c.parseItem(e.prevItemButton,S),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,S),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,S),this.share_button=c.parseItem(e.shareButton,S),this.pivot_button=c.parseItem(e.pivotButton,ug),this.info_panel=c.parseItem(e.infoPanel,h0)}};n(Qf,"ReelPlayerOverlay");Qf.type="ReelPlayerOverlay";var eS=Qf;var Zf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(Zf,"RelatedChipCloud");Zf.type="RelatedChipCloud";var wg=Zf;var em=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(em,"RichGrid");em.type="RichGrid";var Zi=em;var tm=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(tm,"RichItem");tm.type="RichItem";var tS=tm;var im=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(im,"RichListHeader");im.type="RichListHeader";var iS=im;var om=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};n(om,"RichMetadata");om.type="RichMetadata";var nm=om;var rm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(rm,"RichMetadataRow");rm.type="RichMetadataRow";var sm=rm;var am=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(am,"RichSection");am.type="RichSection";var oS=am;var um=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};n(um,"RichShelf");um.type="RichShelf";var Tg=um;var lm=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=c.parseItem(e.searchButton,S),this.clear_button=c.parseItem(e.clearButton,S),this.placeholder_text=new u(e.placeholderText)}};n(lm,"SearchBox");lm.type="SearchBox";var nS=lm;var cm=class extends a{constructor(e){super(),this.label=new u(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(cm,"SearchFilter");cm.type="SearchFilter";var Ig=cm;var dm=class extends a{constructor(e){super(),this.title=new u(e.title),this.filters=c.parseArray(e.filters,Ig)}};n(dm,"SearchFilterGroup");dm.type="SearchFilterGroup";var Vr=dm;var pm=class extends a{constructor(e){super(),this.title=new u(e.title),this.groups=c.parseArray(e.groups,Vr)}};n(pm,"SearchFilterOptionsDialog");pm.type="SearchFilterOptionsDialog";var rS=pm;var fm=class extends a{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,_t),this.search_filter_button=c.parseItem(e.searchFilterButton,S)}};n(fm,"SearchHeader");fm.type="SearchHeader";var kg=fm;var mm=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,Vr)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Be))}};n(mm,"SearchSubMenu");mm.type="SearchSubMenu";var Sg=mm;var hm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(hm,"SearchSuggestionsSection");hm.type="SearchSuggestionsSection";var Cg=hm;var _m=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(_m,"SecondarySearchContainer");_m.type="SecondarySearchContainer";var sS=_m;var vm=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Be,S]),this.dislike_button=c.parseItem(e.dislikeButton,[Be,S])}};n(vm,"SegmentedLikeDislikeButton");vm.type="SegmentedLikeDislikeButton";var $o=vm;var gm=class extends a{constructor(e){if(super(),this.like_button=c.parseItem(e.likeButtonViewModel,y0),this.dislike_button=c.parseItem(e.dislikeButtonViewModel,qv),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(gm,"SegmentedLikeDislikeButtonView");gm.type="SegmentedLikeDislikeButtonView";var Ko=gm;var xm=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(xm,"SettingBoolean");xm.type="SettingBoolean";var aS=xm;var ym=class extends a{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(ym,"SettingsCheckbox");ym.type="SettingsCheckbox";var Eg=ym;var bm=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};n(bm,"SettingsSwitch");bm.type="SettingsSwitch";var Or=bm;var wm=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[Or,tr,jv,Eg,bv]))}};n(wm,"SettingsOptions");wm.type="SettingsOptions";var Dr=wm;var Tm=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items,gr)}get contents(){return this.items}};n(Tm,"SettingsSidebar");Tm.type="SettingsSidebar";var Pg=Tm;var Im=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ae(e.actionMenu,j),this.original_post=ae(e.originalPost,Fi),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=ae(e.expandButton,S),this.author=new M(e.displayName,void 0)}};n(Im,"SharedPost");Im.type="SharedPost";var Ng=Im;var km=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,S))}};n(km,"Shelf");km.type="Shelf";var Lr=km;var Sm=class extends a{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Sm,"ShowingResultsFor");Sm.type="ShowingResultsFor";var Ag=Sm;var Cm=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new g(e.command)}};n(Cm,"SimpleCardContent");Cm.type="SimpleCardContent";var uS=Cm;var Em=class extends a{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Em,"SimpleCardTeaser");Em.type="SimpleCardTeaser";var lS=Em;var Pm=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(Pm,"SimpleTextSection");Pm.type="SimpleTextSection";var cS=Pm;var Nm=class extends a{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};n(Nm,"SingleActionEmergencySupport");Nm.type="SingleActionEmergencySupport";var dS=Nm;var Am=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=c.parseItem(e.content,[X,Ar,Zi])}};n(Am,"Tab");Am.type="Tab";var be=Am;var Rm=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,be)}};n(Rm,"SingleColumnBrowseResults");Rm.type="SingleColumnBrowseResults";var si=Rm;var Mm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Mm,"SingleColumnMusicWatchNextResults");Mm.type="SingleColumnMusicWatchNextResults";var pS=Mm;var Vm=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};n(Vm,"SingleHeroImage");Vm.type="SingleHeroImage";var fS=Vm;var Om=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,ze)}};n(Om,"SlimOwner");Om.type="SlimOwner";var mS=Om;var Dm=class extends a{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(Dm,"SlimVideoMetadata");Dm.type="SlimVideoMetadata";var Rg=Dm;var Lm=class extends a{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};n(Lm,"SubFeedOption");Lm.type="SubFeedOption";var Mg=Lm;var Bm=class extends a{constructor(e){super(),this.title=new u(e.title),this.options=c.parseArray(e.options,Mg)}};n(Bm,"SubFeedSelector");Bm.type="SubFeedSelector";var hS=Bm;var Fm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Fm,"Tabbed");Fm.type="Tabbed";var _S=Fm;var Ym=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,be)}};n(Ym,"TabbedSearchResults");Ym.type="TabbedSearchResults";var Vg=Ym;var Um=class extends a{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(Um,"TextHeader");Um.type="TextHeader";var vS=Um;var jm=class extends a{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};n(jm,"ThumbnailLandscapePortrait");jm.type="ThumbnailLandscapePortrait";var gS=jm;var Wm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(Wm,"ThumbnailOverlayEndorsement");Wm.type="ThumbnailOverlayEndorsement";var xS=Wm;var Hm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Hm,"ThumbnailOverlayHoverText");Hm.type="ThumbnailOverlayHoverText";var yS=Hm;var Jm=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(Jm,"ThumbnailOverlayInlineUnplayable");Jm.type="ThumbnailOverlayInlineUnplayable";var bS=Jm;var Gm=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Gm,"ThumbnailOverlayLoadingPreview");Gm.type="ThumbnailOverlayLoadingPreview";var wS=Gm;var zm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(zm,"ThumbnailOverlayNowPlaying");zm.type="ThumbnailOverlayNowPlaying";var TS=zm;var $m=class extends a{constructor(e){super(),this.hack=e.hack}};n($m,"ThumbnailOverlayPinking");$m.type="ThumbnailOverlayPinking";var IS=$m;var Km=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(Km,"ThumbnailOverlayPlaybackStatus");Km.type="ThumbnailOverlayPlaybackStatus";var kS=Km;var qm=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(qm,"ThumbnailOverlayResumePlayback");qm.type="ThumbnailOverlayResumePlayback";var SS=qm;var Xm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Xm,"ThumbnailOverlaySidePanel");Xm.type="ThumbnailOverlaySidePanel";var CS=Xm;var Qm=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new g(e.toggledServiceEndpoint),this.untoggled_endpoint=new g(e.untoggledServiceEndpoint)}};n(Qm,"ThumbnailOverlayToggleButton");Qm.type="ThumbnailOverlayToggleButton";var ES=Qm;var Zm=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(Zm,"TimedMarkerDecoration");Zm.type="TimedMarkerDecoration";var PS=Zm;var eh=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(eh,"TitleAndButtonListHeader");eh.type="TitleAndButtonListHeader";var NS=eh;var th=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};n(th,"ToggleMenuServiceItem");th.type="ToggleMenuServiceItem";var AS=th;var ih=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(ih,"Tooltip");ih.type="Tooltip";var RS=ih;var oh=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,ze),this.endpoint=new g(e.navigationEndpoint)}};n(oh,"TopicChannelDetails");oh.type="TopicChannelDetails";var MS=oh;var nh=class extends a{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(nh,"TwoColumnBrowseResults");nh.type="TwoColumnBrowseResults";var ai=nh;var rh=class extends a{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(rh,"TwoColumnSearchResults");rh.type="TwoColumnSearchResults";var Og=rh;var Dg,wb,sh=class extends a{constructor(e){var i,o,r,s,l;super(),Dg.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((s=p.shortBylineText)===null||s===void 0)&&s.simpleText?new u(p.shortBylineText):new M(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,j)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(h=>d(this,Dg,"m",wb).call(this,h))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(h=>d(this,Dg,"m",wb).call(this,h))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(sh,"TwoColumnWatchNextResults");Dg=new WeakSet,wb=n(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");sh.type="TwoColumnWatchNextResults";var Br=sh;var ah=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(ah,"UniversalWatchCard");ah.type="UniversalWatchCard";var Lg=ah;var uh=class extends a{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,S),this.dismiss_button=c.parseItem(e.dismissButton,S),this.is_visible=e.isVisible}};n(uh,"UpsellDialog");uh.type="UpsellDialog";var VS=uh;var lh=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(lh,"VerticalList");lh.type="VerticalList";var OS=lh;var ch=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};n(ch,"VerticalWatchCardList");ch.type="VerticalWatchCardList";var DS=ch;var dh=class extends a{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new g(e.action)}};n(dh,"VideoInfoCardContent");dh.type="VideoInfoCardContent";var LS=dh;var ph=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(ph,"VideoOwner");ph.type="VideoOwner";var Fr=ph;var fh=class extends a{constructor(e){var i,o,r,s;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((s=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||s===void 0?void 0:s.shortViewCount),this.badges=c.parseArray(e.badges,lt),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=c.parseItem(e.videoActions,j)}};n(fh,"VideoPrimaryInfo");fh.type="VideoPrimaryInfo";var Bg=fh;var mh=class extends a{constructor(e){super(),this.owner=c.parseItem(e.owner,Fr),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[ze,S]),this.metadata=c.parseItem(e.metadataRowContainer,W0),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(mh,"VideoSecondaryInfo");mh.type="VideoSecondaryInfo";var hh=mh;var _h=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:je(e.lengthText.simpleText)},this.style=e.style}};n(_h,"WatchCardCompactVideo");_h.type="WatchCardCompactVideo";var Fg=_h;var vh=class extends a{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(vh,"WatchCardHeroVideo");vh.type="WatchCardHeroVideo";var BS=vh;var gh=class extends a{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new M(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(gh,"WatchCardRichHeader");gh.type="WatchCardRichHeader";var FS=gh;var xh=class extends a{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(xh,"WatchCardSectionSequence");xh.type="WatchCardSectionSequence";var YS=xh;var yh=class extends ai{constructor(e){super(e)}};n(yh,"WatchNextTabbedResults");yh.type="WatchNextTabbedResults";var Yg=yh;var bh=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,X),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(bh,"AnchoredSection");bh.type="AnchoredSection";var Ug=bh;var wh,Th=class extends a{constructor(e){super(),wh.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=w.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Be]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return b(this,void 0,void 0,function*(){if(!d(this,wh,"f"))throw new v("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new v("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new v("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,wh,"f"),{parse:!1})})}setActions(e){I(this,wh,e,"f")}};n(Th,"KidsBlocklistPickerItem");wh=new WeakMap;Th.type="KidsBlocklistPickerItem";var Yr=Th;var Ih=class extends a{constructor(e){super(),this.title=new u(e.title),this.child_rows=c.parse(e.childRows,!0,[Yr]),this.done_button=c.parseItem(e.doneButton,[S]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(Ih,"KidsBlocklistPicker");Ih.type="KidsBlocklistPicker";var US=Ih;var kh=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};n(kh,"KidsCategoryTab");kh.type="KidsCategoryTab";var Ur=kh;var Sh=class extends a{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,Ur),this.privacy_button=c.parseItem(e.privacyButtonRenderer,S)}};n(Sh,"KidsCategoriesHeader");Sh.type="kidsCategoriesHeader";var jg=Sh;var Ch=class extends a{constructor(e){super(),this.anchors=c.parseArray(e.anchors,Ug)}};n(Ch,"KidsHomeScreen");Ch.type="kidsHomeScreen";var Wg=Ch;var Pb={};L(Pb,{camelToSnake:()=>qo,createRuntimeClass:()=>XS,generateRuntimeClass:()=>Nh,generateTypescriptClass:()=>Jg,inferType:()=>Hg,introspect:()=>kb,isArrayType:()=>KS,isIgnoredKey:()=>qS,isMiscType:()=>$S,isRenderer:()=>Ib,isRendererList:()=>zS,mergeKeyInfo:()=>Eh,parse:()=>Eb,toParser:()=>Cb,toTypeDeclaration:()=>Sb});var _E=new Set(["trackingParams","accessibility","accessibilityData"]),Tb={};function qo(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(qo,"camelToSnake");function Hg(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Ib(e))return Tb[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=zS(e)){for(let[r,s]of Object.entries(i))Tb[r]=s;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=$S(t,e))||(i=KS(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,s])=>[r,Hg(r,s)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(Hg,"inferType");function zS(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>Ib(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[Ah(r),o[r]]})):!1}n(zS,"isRendererList");function $S(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new g(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n($S,"isMiscType");function Ib(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return Ah(o)}return!1}n(Ib,"isRenderer");function KS(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(s=>typeof s);if(!e.every(s=>s===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let s=0;s<t.length;s++){let l=Object.entries(t[s]).map(([p,f])=>[p,Hg(p,f)]);if(s===0){r=l;continue}r=Eh(r,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(KS,"isArrayType");function vE(t){if(typeof t!="object"||t===null)throw new v("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!qS(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=Hg(i,o);return[i,r]})}n(vE,"introspectKeysFirstPass");function gE(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),r=new Set,s=o[0],l;if(s){r.add(s[0]);let f=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),m=(e=f.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],y=t.find(([T])=>T===m),x=y?y[1].type==="array"&&y[1].array_type==="renderer"&&Reflect.has(y[1].renderers,"MetadataBadge"):!1;x&&m&&r.add(m),l={type:"misc",misc_type:"Author",optional:!1,params:[s[0],x?m:void 0]}}return l&&t.push(["author",l]),t.filter(([p])=>!r.has(p))}n(gE,"introspectKeysSecondPass");function xE(t){let e=vE(t);return gE(e)}n(xE,"introspect2");function kb(t){let e=xE(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let s of r.renderers){let l=Tb[s];l&&i.set(s,l)}let o=Array.from(i).filter(([r])=>!Gg(r));return{key_info:e,unimplemented_dependencies:o}}n(kb,"introspect");function qS(t){return typeof t=="string"&&_E.has(t)}n(qS,"isIgnoredKey");function XS(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let s=(o=n(class extends a{static set key_info(l){I(this,o,new Map(l),"f",r)}static get key_info(){return[...d(this,o,"f",r).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=kb(l),{resolved_key_info:h,changed_keys:m}=Eh(s.key_info,p);m.length>0&&(s.key_info=h,i({error_type:"class_changed",classname:t,key_info:s.key_info,changed_keys:m}));for(let[x,T]of f)Nh(x,T,i);for(let[x,T]of p){let k=qo(x);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,Eb(x,T,l))}}},"_a"),Pw(o,"node"),o.type=t,r={value:new Map},o);return s.key_info=e,Object.defineProperty(s,"name",{value:t,writable:!1}),s}n(XS,"createRuntimeClass");function Nh(t,e,i){let{key_info:o,unimplemented_dependencies:r}=kb(e),s=XS(t,o,i);Nb(t,s);for(let[l,p]of r)Nh(l,p,i);return s}n(Nh,"generateRuntimeClass");function Jg(t,e){let i=[],o=["super();"];for(let[r,s]of e){let l=qo(r);s.type==="misc"&&s.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${s.optional?"?":""}: ${Sb(s)};`),o.push(`this.${l} = ${Cb(r,s)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(Jg,"generateTypescriptClass");function jS(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${qo(i)}${o.optional?"?":""}: ${Sb(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(jS,"toTypeDeclarationObject");function Sb(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${jS(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return jS(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(Sb,"toTypeDeclaration");function WS(t,e,i,o){let r=[...i,o];return`{
${e.map(([s,l])=>`${" ".repeat((t+2)*2)}${qo(s)}: ${Cb(s,l,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(WS,"toParserObject");function Cb(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${HS(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${HS(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${WS(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=WS(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let s=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${s} : undefined`:s}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(Cb,"toParser");function HS(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(HS,"toParserValidTypes");function ui(t,e){let i=t;for(let o of e)i=i[o];return i}n(ui,"accessDataFromKeyPath");function JS(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(JS,"hasDataFromKeyPath");function GS(t,e,i,o,r){let s={},l=[...i,t];for(let[p,f]of o)s[p]=r?Eb(p,f,e,l):void 0;return s}n(GS,"parseObject");function Eb(t,e,i,o=["data"]){let r=!e.optional||JS({data:i},[...o,t]);switch(e.type){case"renderer":return r?ae(ui({data:i},[...o,t]),e.renderers.map(s=>Ph(s))):void 0;case"array":{switch(e.array_type){case"renderer":return r?qe(ui({data:i},[...o,t]),!0,e.renderers.map(s=>Ph(s))):void 0;case"object":return r?ui({data:i},[...o,t]).map((s,l)=>GS(`${l}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?ui({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return GS(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new g(ui({data:i},[...o,t])):void 0;case"Text":return r?new u(ui({data:i},[...o,t])):void 0;case"Thumbnail":return r?w.fromResponse(ui({data:i},[...o,t])):void 0;case"Author":return!e.optional||JS({data:i},[...o,e.params[0]])?new M(ui({data:i},[...o,e.params[0]]),e.params[1]?ui({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return ui({data:i},[...o,t])}}n(Eb,"parse");function Eh(t,e){let i=new Map,o=new Set(t.map(([x])=>x)),r=new Set(e.map(([x])=>x)),s=e.filter(([x])=>!o.has(x)),l=t.filter(([x])=>!r.has(x)),p=t.filter(([x])=>r.has(x)),f=new Map(e);for(let[x,T]of p){let k=f.get(x);if(!!k){if(T.type!==k.type){i.set(x,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(T.type){case"object":{if(k.type!=="object")continue;let{resolved_key_info:C}=Eh(T.keys,k.keys),A={type:"object",keys:C,optional:T.optional||k.optional};JSON.stringify(A)!==JSON.stringify(T)&&i.set(x,A)}break;case"renderer":{if(k.type!=="renderer")continue;let C=Object.assign(Object.assign({},T.renderers),k.renderers),A=T.optional||k.optional,F={type:"renderer",renderers:C,optional:A};JSON.stringify(Object.assign(Object.assign({},F),{renderers:Object.keys(F.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(x,F)}break;case"array":{if(k.type!=="array")continue;switch(T.array_type){case"renderer":{if(k.array_type!=="renderer"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let C=Object.assign(Object.assign({},T.renderers),k.renderers),A=T.optional||k.optional,F={type:"array",array_type:"renderer",renderers:C,optional:A};JSON.stringify(Object.assign(Object.assign({},F),{renderers:Object.keys(F.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(x,F)}break;case"object":{if(k.array_type==="primitive"&&k.items.typeof.length==1&&k.items.typeof[0]==="never")continue;if(k.array_type!=="object"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:C}=Eh(T.items.keys,k.items.keys),A={type:"array",array_type:"object",items:{type:"object",keys:C,optional:T.items.optional||k.items.optional},optional:T.optional||k.optional};JSON.stringify(A)!==JSON.stringify(T)&&i.set(x,A)}break;case"primitive":{if(T.items.typeof.includes("never")&&k.array_type==="object"){i.set(x,k);continue}if(k.array_type!=="primitive"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let C=new Set([...k.items.typeof,...T.items.typeof]);C.size>1&&C.has("never")&&C.delete("never");let A={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(C),optional:T.items.optional||k.items.optional},optional:T.optional||k.optional};JSON.stringify(A)!==JSON.stringify(T)&&i.set(x,A)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(k.type!=="misc")continue;switch(T.misc_type!==k.misc_type&&i.set(x,{type:"primative",typeof:["unknown"],optional:!0}),T.misc_type){case"Author":{if(k.misc_type!=="Author")break;let C=T.params[1]||k.params[1],A=T.optional||k.optional,F={type:"misc",misc_type:"Author",optional:A,params:[k.params[0],C]};JSON.stringify(F)!==JSON.stringify(T)&&i.set(x,F)}break}}break;case"primative":{if(k.type!=="primative")continue;let C={type:"primative",typeof:Array.from(new Set([...k.typeof,...T.typeof])),optional:T.optional||k.optional};JSON.stringify(C)!==JSON.stringify(T)&&i.set(x,C)}break}}}for(let[x,T]of s)i.set(x,Object.assign(Object.assign({},T),{optional:!0}));for(let[x,T]of l)i.set(x,Object.assign(Object.assign({},T),{optional:!0}));let h=t.filter(([x])=>!i.has(x));return{resolved_key_info:[...new Map([...h,...i]).entries()],changed_keys:[...i.entries()]}}n(Eh,"mergeKeyInfo");var eo=class extends a{constructor(e){var i,o,r;super(),this.contents=Ke(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(eo,"ItemSectionContinuation");eo.type="itemSectionContinuation";var to=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint)}};n(to,"NavigateAction");to.type="navigateAction";var jr=class extends a{constructor(e){super(),this.miniplayer_command=new g(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(jr,"ShowMiniplayerCommand");jr.type="showMiniplayerCommand";var io=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=qe(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(io,"ReloadContinuationItemsCommand");io.type="reloadContinuationItemsCommand";var dt=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.contents=qe(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(dt,"SectionListContinuation");dt.type="sectionListContinuation";var oo=class extends a{constructor(e){var i;super(),this.contents=qe(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(oo,"MusicPlaylistShelfContinuation");oo.type="musicPlaylistShelfContinuation";var li=class extends a{constructor(e){var i,o,r,s;super(),this.contents=Ke(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(li,"MusicShelfContinuation");li.type="musicShelfContinuation";var no=class extends a{constructor(e){var i;super(),this.items=qe(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(no,"GridContinuation");no.type="gridContinuation";var Wr=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.contents=Ke(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(Wr,"PlaylistPanelContinuation");Wr.type="playlistPanelContinuation";var Xo=class extends a{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(Xo,"Continuation");Xo.type="continuation";var ro=class extends a{constructor(e){var i,o,r,s,l,p,f,h;super(),this.actions=qe((i=e.actions)===null||i===void 0?void 0:i.map(x=>(delete x.clickTrackingParams,x)),!0)||se([]),this.action_panel=ae(e.actionPanel),this.item_list=ae(e.itemList,M0),this.header=ae(e.header,R0),this.participants_list=ae(e.participantsList,O0),this.popout_message=ae(e.popoutMessage,$e),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(x=>({emoji_id:x.emojiId,shortcuts:x.shortcuts,search_terms:x.searchTerms,image:w.fromResponse(x.image),is_custom_emoji:x.isCustomEmoji})))||[];let m,y;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(y="timed",m=(s=e.continuations)===null||s===void 0?void 0:s[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(y="invalidation",m=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(y="replay",m=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new Xo({continuation:m,type:y}),this.viewer_name=e.viewerName}};n(ro,"LiveChatContinuation");ro.type="liveChatContinuation";var Ti=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Ti,"ContinuationCommand");Ti.type="ContinuationCommand";var zg,$g=class{constructor(e,i){var o,r,s,l,p,f;if(zg.set(this,void 0),i&&I(this,zg,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.max_dvr_duration_sec=e.maxDvrDurationSec,this.target_duration_dec=e.targetDurationSec,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(r=e.colorInfo.transferCharacteristics)===null||r===void 0?void 0:r.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(s=e.colorInfo.matrixCoefficients)===null||s===void 0?void 0:s.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let h=new URLSearchParams(this.cipher||this.signature_cipher),y=(l=new URLSearchParams(h.get("url")||this.url).get("xtags"))===null||l===void 0?void 0:l.split(":");if(this.language=((p=y==null?void 0:y.find(x=>x.startsWith("lang=")))===null||p===void 0?void 0:p.split("=")[1])||null,this.has_audio){let x=(f=y==null?void 0:y.find(T=>T.startsWith("acont=")))===null||f===void 0?void 0:f.split("=")[1];this.is_dubbed=x==="dubbed",this.is_descriptive=x==="descriptive",this.is_original=x==="original"||!this.is_dubbed&&!this.is_descriptive}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new v("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,zg,"f"))}};n($g,"Format");zg=new WeakMap;var Kg=$g;var so=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(so,"VideoDetails");var Qo="Parser",yE=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Mb=new Map(Object.entries(Wo)),QS=new Map,Zo=null,ao=n(t=>{var{classname:e}=t,i=Ew(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&Y.warn(Qo,new v(`Something went wrong at ${e}!
This is a bug, please report it at ${D.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":Y.warn(Qo,new It(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":Y.warn(Qo,new v(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${D.shim.info.bugs_url}`));break;case"mutation_data_invalid":Y.warn(Qo,new v(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${D.shim.info.bugs_url}`));break;case"class_not_found":Y.warn(Qo,new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${D.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${D.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Jg(e,i.key_info)}`));break;case"class_changed":Y.warn(Qo,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>qo(o)).join(", ")}
The class has changed to:
${Jg(e,i.key_info)}`);break;default:Y.warn(Qo,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function bE(t){ao=t}n(bE,"setParserErrorHandler");function Yt(){Zo=null}n(Yt,"_clearMemo");function Ut(){Zo=new Oi}n(Ut,"_createMemo");function wE(t,e){if(!Zo)return;let i=Zo.get(t);if(!i)return Zo.set(t,[e]);i.push(e)}n(wE,"_addToMemo");function jt(){if(!Zo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Zo}n(jt,"_getMemo");function ZS(t){return yE.has(t)}n(ZS,"shouldIgnore");function Ah(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Ah,"sanitizeClassName");function Ph(t){let e=Mb.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Ph,"getParserByName");function Gg(t){return Mb.has(t)}n(Gg,"hasParser");function Nb(t,e){Mb.set(t,e),QS.set(t,e)}n(Nb,"addRuntimeParser");function TE(){return Object.fromEntries(QS)}n(TE,"getDynamicParsers");function IE(t){var e,i,o,r,s,l,p,f,h,m,y,x,T,k;let C={};Ut();let A=qe(t.contents),F=jt();A&&(C.contents=A,C.contents_memo=F),Yt(),Ut();let Q=t.onResponseReceivedActions?qg(t.onResponseReceivedActions):null,O=jt();Q&&(C.on_response_received_actions=Q,C.on_response_received_actions_memo=O),Yt(),Ut();let ue=t.onResponseReceivedEndpoints?qg(t.onResponseReceivedEndpoints):null,ve=jt();ue&&(C.on_response_received_endpoints=ue,C.on_response_received_endpoints_memo=ve),Yt(),Ut();let ke=t.onResponseReceivedCommands?qg(t.onResponseReceivedCommands):null,Pe=jt();ke&&(C.on_response_received_commands=ke,C.on_response_received_commands_memo=Pe),Yt(),Ut();let De=t.continuationContents?Ab(t.continuationContents):null,$=jt();De&&(C.continuation_contents=De,C.continuation_contents_memo=$),Yt(),Ut();let z=t.actions?t1(t.actions):null,Z=jt();z&&(C.actions=z,C.actions_memo=Z),Yt(),Ut();let re=t.liveChatItemContextMenuSupportedRenderers?ae(t.liveChatItemContextMenuSupportedRenderers):null,Ye=jt();re&&(C.live_chat_item_context_menu_supported_renderers=re,C.live_chat_item_context_menu_supported_renderers_memo=Ye),Yt(),Ut();let ht=t.header?qe(t.header):null,wt=jt();ht&&(C.header=ht,C.header_memo=wt),Yt(),Ut();let K=t.sidebar?ae(t.sidebar):null,Ge=jt();K&&(C.sidebar=K,C.sidebar_memo=Ge),Yt(),Ut();let qt=qe(t.items);qt&&(C.items=qt,C.items_memo=jt()),Yt(),Ut();let Xt=qe(t.entries);Xt&&(C.entries=Xt,C.entries_memo=jt()),Yt(),i1(F,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),ve&&o1(ve,(r=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let Se=t.continuation?e1(t.continuation):null;Se&&(C.continuation=Se);let at=t.continuationEndpoint?Ab(t.continuationEndpoint):null;at&&(C.continuation_endpoint=at);let jn=qe(t.metadata);jn&&(C.metadata=jn);let Wn=ae(t.microformat);Wn&&(C.microformat=Wn);let Hn=ae(t.overlay);Hn&&(C.overlay=Hn);let Jn=Ke(t.alerts,[or,D_]);Jn.length&&(C.alerts=Jn);let Gn=t.refinements;Gn&&(C.refinements=Gn);let zn=t.estimatedResults?parseInt(t.estimatedResults):null;zn&&(C.estimated_results=zn);let $n=qe(t.playerOverlays);$n&&(C.player_overlays=$n);let Kn=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Kn&&(C.playback_tracking=Kn);let qn=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ae(t.playabilityStatus.audioOnlyPlayability,Y_),error_screen:ae(t.playabilityStatus.errorScreen)}:null;if(qn&&(C.playability_status=qn),t.streamingData){let tt=new Map,Ae={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Rb(t.streamingData.formats,tt),adaptive_formats:Rb(t.streamingData.adaptiveFormats,tt),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};C.streaming_data=Ae}if(t.playerConfig){let tt={audio_config:{loudness_db:(s=t.playerConfig.audioConfig)===null||s===void 0?void 0:s.loudnessDb,perceptual_loudness_db:(l=t.playerConfig.audioConfig)===null||l===void 0?void 0:l.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((f=t.playerConfig.streamSelectionConfig)===null||f===void 0?void 0:f.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((m=(h=t.playerConfig.mediaCommonConfig)===null||h===void 0?void 0:h.dynamicReadaheadConfig)===null||m===void 0?void 0:m.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((x=(y=t.playerConfig.mediaCommonConfig)===null||y===void 0?void 0:y.dynamicReadaheadConfig)===null||x===void 0?void 0:x.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((k=(T=t.playerConfig.mediaCommonConfig)===null||T===void 0?void 0:T.dynamicReadaheadConfig)===null||k===void 0?void 0:k.readAheadGrowthRateMs)||0}}};C.player_config=tt}let Xn=t.currentVideoEndpoint?new g(t.currentVideoEndpoint):null;Xn&&(C.current_video_endpoint=Xn);let Qn=t.endpoint?new g(t.endpoint):null;Qn&&(C.endpoint=Qn);let ce=ae(t.captions,cg);ce&&(C.captions=ce);let Tt=t.videoDetails?new so(t.videoDetails):null;Tt&&(C.video_details=Tt);let Je=Ke(t.annotations,lg);Je.length&&(C.annotations=Je);let vi=ae(t.storyboards,[Eo,fg]);vi&&(C.storyboards=vi);let To=ae(t.endscreen,Zv);To&&(C.endscreen=To);let Ne=ae(t.cards,vv);Ne&&(C.cards=Ne);let et=Ke(t.engagementPanels,ji);return et.length&&(C.engagement_panels=et),C}n(IE,"parseResponse");function ae(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Ah(i[0]);if(!ZS(o))try{let s=Gg(o)?Ph(o):Nh(o,t[i[0]],ao);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===s.type))return ao({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(s.type!==e.type)return ao({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let l=new s(t[i[0]]);return wE(o,l),l}catch(r){return ao({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(ae,"parseItem");function Ke(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=ae(o,e);r&&i.push(r)}return se(i)}else if(!t)return se([]);throw new It("Expected array but got a single item")}n(Ke,"parseArray");function qe(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let s of t){let l=ae(s,i);l&&o.push(l)}let r=se(o);return e?r:new Zt(r)}else if(e)throw new It("Expected array but got a single item");return new Zt(ae(t,i))}n(qe,"parse");function e1(t){return t.timedContinuationData?new Xo({continuation:t.timedContinuationData,type:"timed"}):null}n(e1,"parseC");function Ab(t){return t.itemSectionContinuation?new eo(t.itemSectionContinuation):t.sectionListContinuation?new dt(t.sectionListContinuation):t.liveChatContinuation?new ro(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new oo(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new li(t.musicShelfContinuation):t.gridContinuation?new no(t.gridContinuation):t.playlistPanelContinuation?new Wr(t.playlistPanelContinuation):t.continuationCommand?new Ti(t.continuationCommand):null}n(Ab,"parseLC");function qg(t){return se(t.map(e=>{if(e.navigateAction)return new to(e.navigateAction);if(e.showMiniplayerCommand)return new jr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new io(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ro(e.appendContinuationItemsAction)}).filter(e=>e))}n(qg,"parseRR");function t1(t){return Array.isArray(t)?qe(t.map(e=>(delete e.clickTrackingParams,e))):new Zt(ae(t))}n(t1,"parseActions");function Rb(t,e){return(t==null?void 0:t.map(i=>new Kg(i,e)))||[]}n(Rb,"parseFormats");function i1(t,e){let i=t.getType(Ft);if(i.length>0&&!e)ao({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let s=e.find(p=>{var f,h;return((h=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===r.form_item_entity_key}),l=s==null?void 0:s.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?r.selected=l.selected:o.push(`'${r.title}'`)}o.length>0&&ao({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(i1,"applyMutations");function o1(t,e){var i,o,r,s,l,p;let f=t.getType($i);if(f.length>0){e||ao({error_type:"mutation_data_missing",classname:"CommentView"});for(let h of f){let m=(o=(i=e.find(T=>{var k,C;return((C=(k=T.payload)===null||k===void 0?void 0:k.commentEntityPayload)===null||C===void 0?void 0:C.key)===h.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,y=(s=(r=e.find(T=>{var k,C;return((C=(k=T.payload)===null||k===void 0?void 0:k.engagementToolbarStateEntityPayload)===null||C===void 0?void 0:C.key)===h.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.engagementToolbarStateEntityPayload,x=(p=(l=e.find(T=>T.entityKey===h.keys.toolbar_surface))===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;h.applyMutations(m,y,x)}}}n(o1,"applyCommentsMutations");var Fb={};L(Fb,{AccountInfo:()=>Qg,Analytics:()=>ex,Channel:()=>Ve,ChannelListContinuation:()=>sn,Comments:()=>nx,FilteredChannelList:()=>fo,Guide:()=>sx,HashtagFeed:()=>di,History:()=>Xr,HomeFeed:()=>Ht,ItemMenu:()=>cx,Library:()=>fx,LiveChat:()=>yx,NotificationsMenu:()=>bx,Playlist:()=>Ii,Search:()=>wx,Settings:()=>Tx,SmoothedQueue:()=>_x,TimeWatched:()=>kx,TranscriptInfo:()=>ox,VideoInfo:()=>Hh});var Hr,Xg=class{constructor(e){if(Hr.set(this,void 0),I(this,Hr,c.parseResponse(e.data),"f"),!d(this,Hr,"f").contents)throw new v("Page contents not found");let i=d(this,Hr,"f").contents.array().as(P_).first();if(!i)throw new v("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,Hr,"f")}};n(Xg,"AccountInfo");Hr=new WeakMap;var Qg=Xg;var Rh,Zg=class{constructor(e){var i;Rh.set(this,void 0),I(this,Rh,c.parseResponse(e.data),"f"),this.sections=(i=d(this,Rh,"f").contents_memo)===null||i===void 0?void 0:i.getType(Tr).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,Rh,"f")}};n(Zg,"Analytics");Rh=new WeakMap;var ex=Zg;var Mh,Xe,en,Vh,pt,n1,Vb,uo=class{constructor(e,i,o=!1){Mh.add(this),Xe.set(this,void 0),en.set(this,void 0),Vh.set(this,void 0),pt.set(this,void 0),d(this,Mh,"m",n1).call(this,i)||o?I(this,Xe,i,"f"):I(this,Xe,c.parseResponse(i.data),"f");let r=Ob(d(this,Xe,"f").contents_memo,d(this,Xe,"f").continuation_contents_memo,d(this,Xe,"f").on_response_received_commands_memo,d(this,Xe,"f").on_response_received_endpoints_memo,d(this,Xe,"f").on_response_received_actions_memo,d(this,Xe,"f").sidebar_memo,d(this,Xe,"f").header_memo);if(!r)throw new v("No memo found in feed");I(this,pt,r,"f"),I(this,Vh,e,"f")}static getVideosFromMemo(e){return e.getType(ar,u0,Mr,cr,Rr,wi,Fg)}static getPlaylistsFromMemo(e){let i=e.getType(ti,r0),o=e.getType(L0).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return o.length>0&&i.push(...o),i}get videos(){return uo.getVideosFromMemo(d(this,pt,"f"))}get posts(){return d(this,pt,"f").getType(Fi,yg,Ng)}get channels(){return d(this,pt,"f").getType(xv,n0)}get playlists(){return uo.getPlaylistsFromMemo(d(this,pt,"f"))}get memo(){return d(this,pt,"f")}get page_contents(){var e;let i=(e=d(this,pt,"f").getType(be))===null||e===void 0?void 0:e.first().content,o=d(this,pt,"f").getType(io).first(),r=d(this,pt,"f").getType(Ro).first();return i||o||r}get shelves(){return d(this,pt,"f").getType(Lr,Tg,pr)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,Xe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,Xe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(ai,Og))return o.secondary_contents}get actions(){return d(this,Vh,"f")}get page(){return d(this,Xe,"f")}get has_continuation(){return d(this,Mh,"m",Vb).call(this).length>0}getContinuationData(){return b(this,void 0,void 0,function*(){if(d(this,en,"f")){if(d(this,en,"f").length===0)throw new v("There are no continuations.");return yield d(this,en,"f")[0].endpoint.call(d(this,Vh,"f"),{parse:!0})}if(I(this,en,d(this,Mh,"m",Vb).call(this),"f"),d(this,en,"f"))return this.getContinuationData()})}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new uo(this.actions,e,!0)})}};n(uo,"Feed");Xe=new WeakMap,en=new WeakMap,Vh=new WeakMap,pt=new WeakMap,Mh=new WeakSet,n1=n(function(e){return!("data"in e)},"_Feed_isParsed"),Vb=n(function(){if(d(this,Xe,"f").header_memo){let e=d(this,Xe,"f").header_memo.getType(he);return d(this,pt,"f").getType(he).filter(i=>!e.includes(i))}return d(this,pt,"f").getType(he)},"_Feed_getBodyContinuations");var _e=uo;var Jr,tx=class extends _e{constructor(e,i,o=!1){super(e,i,o),Jr.set(this,void 0)}get filter_chips(){var e,i;if(d(this,Jr,"f"))return d(this,Jr,"f")||[];if(((e=this.memo.getType(bi))===null||e===void 0?void 0:e.length)>1)throw new v("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(bi))===null||i===void 0?void 0:i.length)===0)throw new v("There are no feed filter chipbars");return I(this,Jr,this.memo.getType(xe),"f"),d(this,Jr,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return b(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new v("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(s=>s.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new v("Invalid filter");if(!o)throw new v("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new v("Failed to get filtered feed");return new _e(this.actions,r,!0)})}};n(tx,"FilterableFeed");Jr=new WeakMap;var lo=tx;var Db={};L(Db,{Feed:()=>_e,FilterableFeed:()=>lo,MediaInfo:()=>po,TabbedFeed:()=>tn});var co,Wt,Gr,Oh,ix=class{constructor(e,i,o){var r,s;co.set(this,void 0),Wt.set(this,void 0),Gr.set(this,void 0),Oh.set(this,void 0),I(this,Wt,i,"f");let l=c.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?c.parseResponse(e[1].data):void 0;if(I(this,co,[l,p],"f"),I(this,Gr,o,"f"),((s=l.playability_status)===null||s===void 0?void 0:s.status)==="ERROR")throw new v("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,this.player_config=l.player_config,I(this,Oh,l.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var r;return b(this,void 0,void 0,function*(){let s=d(this,co,"f")[0];if(s.video_details&&s.video_details.is_live)throw new v("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let l;return o.include_thumbnails&&s.storyboards&&(l=s.storyboards),Po.toDash(this.streaming_data,(r=this.page[0].video_details)===null||r===void 0?void 0:r.is_post_live_dvr,e,i,d(this,Gr,"f"),d(this,Wt,"f").session.player,d(this,Wt,"f"),l)})}getStreamingInfo(e,i){var o;return __(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,d(this,Wt,"f").session.player,d(this,Wt,"f"),d(this,co,"f")[0].storyboards?d(this,co,"f")[0].storyboards:void 0)}chooseFormat(e){return Po.chooseFormat(e,this.streaming_data)}download(e={}){return b(this,void 0,void 0,function*(){let i=d(this,co,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new v("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Po.download(e,d(this,Wt,"f"),this.playability_status,this.streaming_data,d(this,Wt,"f").session.player,this.cpn)})}getTranscript(){var e;return b(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new v("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new v("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new v("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(he);if(!r)throw new v("Transcript continuation not found.");let s=yield r.endpoint.call(this.actions);return new ox(this.actions,s)})}addToWatchHistory(e=q.CLIENTS.WEB.NAME,i=q.CLIENTS.WEB.VERSION,o="https://www."){return b(this,void 0,void 0,function*(){if(!d(this,Oh,"f"))throw new v("Playback tracking not available");let r={cpn:d(this,Gr,"f"),fmt:251,rtn:0,rt:0},s=d(this,Oh,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,Wt,"f").stats(s,{client_name:e,client_version:i},r)})}get actions(){return d(this,Wt,"f")}get cpn(){return d(this,Gr,"f")}get page(){return d(this,co,"f")}};n(ix,"MediaInfo");co=new WeakMap,Wt=new WeakMap,Gr=new WeakMap,Oh=new WeakMap;var po=ix;var on,nn,rn=class extends _e{constructor(e,i,o=!1){var r;super(e,i,o),on.set(this,void 0),nn.set(this,void 0),I(this,nn,e,"f"),I(this,on,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be),"f")}get tabs(){var e,i;return(i=(e=d(this,on,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return b(this,void 0,void 0,function*(){let o=(i=d(this,on,"f"))===null||i===void 0?void 0:i.find(s=>s.title.toLowerCase()===e.toLowerCase());if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,nn,"f"));return new rn(d(this,nn,"f"),r,!1)})}getTabByURL(e){var i;return b(this,void 0,void 0,function*(){let o=(i=d(this,on,"f"))===null||i===void 0?void 0:i.find(s=>{var l;return((l=s.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,nn,"f"));return new rn(d(this,nn,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,on,"f"))===null||i===void 0?void 0:i.some(r=>{var s;return((s=r.endpoint.metadata.url)===null||s===void 0?void 0:s.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(be))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(rn,"TabbedFeed");on=new WeakMap,nn=new WeakMap;var tn=rn;var Ve=class extends tn{constructor(e,i,o=!1){var r,s,l,p,f,h;super(e,i,o),this.header=(s=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||s===void 0?void 0:s.as(Wi,gv,_0,ri);let m=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(yv),y=(p=this.page.microformat)===null||p===void 0?void 0:p.as(ii);if(this.page.alerts){let x=this.page.alerts.first();if((x==null?void 0:x.alert_type)==="ERROR")throw new zr(x.text.toString())}if(!m&&!this.page.contents)throw new v("Invalid channel",this);this.metadata=Object.assign(Object.assign({},m),y||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(ze).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(ai).tabs.array().filterType(be,Ir).get({selected:!0})}applyFilter(e){var i;return b(this,void 0,void 0,function*(){let o,r=this.memo.getType(bi).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new v(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof xe&&(o=e);if(!o)throw new v("Invalid filter",e);let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new v("No page returned",{filter:o});return new fo(this.actions,s,!0)})}applySort(e){var i,o;return b(this,void 0,void 0,function*(){let r=this.memo.getType(Lt).first();if(!r)throw new v("No sort filter sub menu found");let s=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!s)throw new v(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let l=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ve(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,r,s;return b(this,void 0,void 0,function*(){let l=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(X).sub_menu)===null||r===void 0?void 0:r.as(pl);if(!l)throw new v("Sub menu not found");let p=l.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new v(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(s=p.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0});return new Ve(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(bi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(xe).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(Lt).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(X).sub_menu)===null||o===void 0?void 0:o.as(pl);return(r==null?void 0:r.content_type_sub_menu_items.map(s=>s.title))||[]}getHome(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ve(this.actions,e.page,!0)})}getVideos(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ve(this.actions,e.page,!0)})}getShorts(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ve(this.actions,e.page,!0)})}getLiveStreams(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ve(this.actions,e.page,!0)})}getReleases(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ve(this.actions,e.page,!0)})}getPodcasts(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ve(this.actions,e.page,!0)})}getPlaylists(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ve(this.actions,e.page,!0)})}getCommunity(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ve(this.actions,e.page,!0)})}getAbout(){var e,i,o,r,s;return b(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(nl)[0];let l=((e=this.header)===null||e===void 0?void 0:e.is(Wi))&&this.header.tagline;if(l||((i=this.header)===null||i===void 0?void 0:i.is(ri))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(l&&l.more_endpoint instanceof g){let h=yield l.more_endpoint.call(this.actions);return new tn(this.actions,h,!1).memo.getType(nl)[0]}let p=(s=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(he)[0])===null||s===void 0?void 0:s.endpoint;if(!p)throw new v("Failed to extract continuation to get channel about");let f=yield p.call(this.actions,{parse:!0});if(!f.on_response_received_endpoints_memo)throw new v("Unexpected response while fetching channel about",{response:f});return f.on_response_received_endpoints_memo.getType(k_)[0]}throw new v("About not found")})}search(e){var i,o;return b(this,void 0,void 0,function*(){let r=(i=this.memo.getType(Ir))===null||i===void 0?void 0:i[0];if(!r)throw new v("Search tab not found",this);let s=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ve(this.actions,s,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,s;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Wi))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(ri))&&((s=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||s===void 0?void 0:s.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Ir))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new sn(this.actions,i,!0)})}};n(Ve,"Channel");var sn=class extends _e{constructor(e,i,o=!1){var r,s;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((s=this.page.on_response_received_endpoints)===null||s===void 0?void 0:s.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new sn(this.actions,i,!0)})}};n(sn,"ChannelListContinuation");var fo=class extends lo{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(xe).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new fo(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new v("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(bi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(xe)),new fo(this.actions,i,!0)})}};n(fo,"FilteredChannelList");var $r,ci,Kr,an=class{constructor(e,i,o=!1){var r,s,l;$r.set(this,void 0),ci.set(this,void 0),Kr.set(this,void 0),I(this,$r,o?i:c.parseResponse(i),"f"),I(this,ci,e,"f");let p=d(this,$r,"f").on_response_received_endpoints;if(!p)throw new v("Comments page did not have any content.");let f=p.at(0),h=p.at(1);this.header=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.firstOfType(zi);let m=((s=h==null?void 0:h.contents)===null||s===void 0?void 0:s.filterType(Uv))||[];this.contents=se(m.map(y=>{var x;return(x=y.comment)===null||x===void 0||x.setActions(d(this,ci,"f")),y.setActions(d(this,ci,"f")),y})),I(this,Kr,(l=h==null?void 0:h.contents)===null||l===void 0?void 0:l.firstOfType(he),"f")}applySort(e){var i,o,r,s;return b(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(s=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.at(1)),!l)throw new v("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(d(this,ci,"f"),{parse:!0});return new an(d(this,ci,"f"),p,!0)})}createComment(e){var i;return b(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Yv).submit_button;if(!o)throw new v("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new v("Button does not have an endpoint.");return yield o.endpoint.call(d(this,ci,"f"),{commentText:e})})}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,Kr,"f"))throw new v("Continuation not found");let e=yield d(this,Kr,"f").endpoint.call(d(this,ci,"f"),{parse:!0}),i=Object.assign({},d(this,$r,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new v("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new an(d(this,ci,"f"),i,!0)})}get has_continuation(){return!!d(this,Kr,"f")}get page(){return d(this,$r,"f")}};n(an,"Comments");$r=new WeakMap,ci=new WeakMap,Kr=new WeakMap;var nx=an;var Dh,rx=class{constructor(e){Dh.set(this,void 0),I(this,Dh,c.parseResponse(e),"f"),this.contents=d(this,Dh,"f").items.array().as(kr,l0)}get page(){return d(this,Dh,"f")}};n(rx,"Guide");Dh=new WeakMap;var sx=rx;var qr=class extends _e{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ye),this.feed_actions=this.memo.getType(H_).first()}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new qr(this.actions,e,!0)})}};n(qr,"History");var Xr=qr;var Ht=class extends lo{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(i0).first(),this.contents=this.memo.getType(Zi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ht(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return b(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Ht(this.actions,o.page,!0)})}};n(Ht,"HomeFeed");var di=class extends lo{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new v("Unexpected response",this.page);let o=this.page.contents_memo.getType(be).first();if(!o.content)throw new v("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(c0,ri)),this.contents=o.content.as(Zi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new di(this.actions,o.page)})}};n(di,"HashtagFeed");var ax,ux,Lh,lx=class{constructor(e,i){ax.set(this,void 0),ux.set(this,void 0),Lh.set(this,void 0),I(this,ax,e,"f"),I(this,ux,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(j))throw new v('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');I(this,Lh,o.as(j).items,"f")}selectItem(e){return b(this,void 0,void 0,function*(){let i;if(e instanceof S){if(!e.endpoint)throw new v("Item does not have an endpoint.");i=e.endpoint}else{let r=d(this,Lh,"f").find(s=>s.is(Ki)?s.as(Ki).icon_type===e:!1);if(!r||!r.is(Ki))throw new v(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new v("Target button does not have an endpoint.");return yield i.call(d(this,ux,"f"),{parse:!0})})}items(){return d(this,Lh,"f")}page(){return d(this,ax,"f")}};n(lx,"ItemMenu");ax=new WeakMap,ux=new WeakMap,Lh=new WeakMap;var cx=lx;var Bh,dx,Qr=class extends _e{constructor(e,i,o=!1){var r,s,l,p,f;super(e,i,o),Bh.add(this);let h=this.memo.getType(_g).first(),m=this.memo.getType(gg).first(),y=this.memo.getType(xg).first(),x=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(or);if(x&&x.alert_type==="ERROR")throw new v(x.text.toString(),x);if(!m&&!y&&Object.keys(this.page).length===0)throw new v("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(vg)),{subtitle:h?h.subtitle:null,author:(p=(l=y==null?void 0:y.owner)===null||l===void 0?void 0:l.as(Fr).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(f=m==null?void 0:m.thumbnail_renderer)===null||f===void 0?void 0:f.as(yr,xr).thumbnail,total_items:d(this,Bh,"m",dx).call(this,0,m),views:d(this,Bh,"m",dx).call(this,1,m),last_updated:d(this,Bh,"m",dx).call(this,2,m),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=m==null?void 0:m.menu,this.endpoint=m==null?void 0:m.endpoint,this.messages=this.memo.getType($e)}get items(){return se(this.videos.as(Rr,Mr).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(X).first();return e?!!this.memo.getType(he).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=this.memo.getType(X).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(he).find(s=>!i.contents.includes(s));if(!o)throw new v("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new Qr(this.actions,e,!0)})}};n(Qr,"Playlist");Bh=new WeakSet,dx=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Ii=Qr;var Lb,r1,px=class extends _e{constructor(e,i){if(super(e,i),Lb.add(this),!this.page.contents_memo)throw new v("Page contents not found");this.header=this.memo.getType(ri).first();let o=this.page.contents_memo.getType(Lr);this.sections=o.map(r=>{var s;return{type:r.icon_type,title:r.title,contents:((s=r.content)===null||s===void 0?void 0:s.key("items").array())||[],getAll:()=>d(this,Lb,"m",r1).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(px,"Library");Lb=new WeakSet,r1=n(function(e){var i;return b(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(j).hasKey("top_level_buttons")))throw new v(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(j).top_level_buttons.firstOfType(S);if(!o)throw new v("Did not find target button.");let r=yield o.as(S).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ii(this.actions,r,!0);case"WATCH_HISTORY":return new Xr(this.actions,r,!0);case"CONTENT_CUT":return new _e(this.actions,r,!0);default:throw new v("Target shelf not implemented.")}})},"_Library_getAll");var fx=px;var ki,mo,un,Et,Jt,ft;function kE(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(kE,"flattenQueue");var mx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(mx,"DelayQueue");var hx=class{constructor(){ki.set(this,void 0),mo.set(this,void 0),un.set(this,void 0),Et.set(this,void 0),Jt.set(this,void 0),ft.set(this,void 0),I(this,ki,null,"f"),I(this,mo,null,"f"),I(this,un,null,"f"),I(this,Et,[],"f"),I(this,Jt,null,"f"),I(this,ft,new mx,"f")}enqueueActionGroup(e){if(d(this,ki,"f")!==null){let i=Date.now()-d(this,ki,"f");d(this,ft,"f").back.push(i),5<d(this,ft,"f").front.length+d(this,ft,"f").back.length&&(d(this,ft,"f").front.length||(d(this,ft,"f").front=d(this,ft,"f").back,d(this,ft,"f").front.reverse(),d(this,ft,"f").back=[]),d(this,ft,"f").front.pop()),I(this,mo,Math.max(...d(this,ft,"f").getValues()),"f")}I(this,ki,Date.now(),"f"),d(this,Et,"f").push(e),d(this,Jt,"f")===null&&I(this,Jt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(I(this,Jt,null,"f"),d(this,Et,"f").length){let e=1e4;d(this,mo,"f")!==null&&d(this,ki,"f")!==null&&(e=d(this,mo,"f")-Date.now()+d(this,ki,"f")),e=d(this,Et,"f").length<e/80?1:Math.ceil(d(this,Et,"f").length/(e/80));let i=kE(d(this,Et,"f").splice(0,e));d(this,un,"f")&&d(this,un,"f").call(this,i),d(this,Et,"f")!==null&&(e==1?(e=d(this,mo,"f")/d(this,Et,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,I(this,Jt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,Jt,"f")!==null&&(clearTimeout(d(this,Jt,"f")),I(this,Jt,null,"f")),I(this,Et,[],"f")}set callback(e){I(this,un,e,"f")}get callback(){return d(this,un,"f")}get action_queue(){return d(this,Et,"f")}get estimated_update_interval(){return d(this,mo,"f")}get last_update_time(){return d(this,ki,"f")}get next_update_id(){return d(this,Jt,"f")}get poll_response_delay_queue(){return d(this,ft,"f")}};n(hx,"SmoothedQueue");ki=new WeakMap,mo=new WeakMap,un=new WeakMap,Et=new WeakMap,Jt=new WeakMap,ft=new WeakMap;var _x=hx;var We,Si,Uh,vx,cn,Fh,Yh,Bb,gx,s1,ln,xx=class extends ca{constructor(e){var i,o;super(),We.add(this),Si.set(this,void 0),Uh.set(this,void 0),vx.set(this,void 0),cn.set(this,void 0),Fh.set(this,void 0),Yh.set(this,0),this.running=!1,this.is_replay=!1,I(this,Uh,e.basic_info.id,"f"),I(this,vx,e.basic_info.channel_id,"f"),I(this,Si,e.actions,"f"),I(this,cn,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new _x,this.smoothed_queue.callback=r=>b(this,void 0,void 0,function*(){r.length?r.length<10?yield d(this,We,"m",gx).call(this,r):this.is_replay?(d(this,We,"m",gx).call(this,r),yield d(this,We,"m",ln).call(this,2e3)):d(this,We,"m",gx).call(this,r):yield d(this,We,"m",ln).call(this,2e3),this.running&&d(this,We,"m",Bb).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,We,"m",Bb).call(this),d(this,We,"m",s1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return b(this,void 0,void 0,function*(){let i=yield d(this,Si,"f").execute("/live_chat/send_message",{params:db(d(this,vx,"f"),d(this,Uh,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:D.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new v("Unexpected response from send_message",i);return i.actions.array().as(I0)})}applyFilter(e){var i,o,r,s,l,p,f;if(!this.initial_info)throw new v("Cannot apply filter before initial info is retrieved.");let h=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((s=h==null?void 0:h.at(0))===null||s===void 0)&&s.selected)return;I(this,cn,(l=h==null?void 0:h.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;I(this,cn,(f=h==null?void 0:h.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return b(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new v("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(d(this,Si,"f"),{parse:!0});if(!i)throw new v("Could not retrieve item menu.",e);return new cx(i,d(this,Si,"f"))})}selectButton(e){return b(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,Si,"f"),{parse:!0})})}};n(xx,"LiveChat");Si=new WeakMap,Uh=new WeakMap,vx=new WeakMap,cn=new WeakMap,Fh=new WeakMap,Yh=new WeakMap,We=new WeakSet,Bb=n(function t(){b(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,Si,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,cn,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new v("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof ro)){this.stop(),this.emit("end");return}I(this,cn,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&d(this,We,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),I(this,Yh,0,"f")}catch(o){this.emit("error",o),I(this,Yh,(i=d(this,Yh,"f"),e=i++,i),"f"),e<10?(yield d(this,We,"m",ln).call(this,2e3),d(this,We,"m",t).call(this)):(this.emit("error",new v("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),gx=n(function(e){return b(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let s of e)yield d(this,We,"m",ln).call(this,r),this.emit("chat-update",s)})},"_LiveChat_emitSmoothedActions"),s1=n(function t(){b(this,void 0,void 0,function*(){var e,i,o,r,s,l,p,f,h,m,y;try{let x={videoId:d(this,Uh,"f")};d(this,Fh,"f")&&(x.continuation=d(this,Fh,"f"));let T=yield d(this,Si,"f").execute("/updated_metadata",x),k=c.parseResponse(T.data);I(this,Fh,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(P0))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=k.actions)===null||r===void 0?void 0:r.array().firstOfType(E0))||((s=this.metadata)===null||s===void 0?void 0:s.description),views:((l=k.actions)===null||l===void 0?void 0:l.array().firstOfType(A0))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=k.actions)===null||f===void 0?void 0:f.array().firstOfType(N0))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((m=k.actions)===null||m===void 0?void 0:m.array().firstOfType(C0))||((y=this.metadata)===null||y===void 0?void 0:y.date)},this.emit("metadata-update",this.metadata),yield d(this,We,"m",ln).call(this,5e3),this.running&&d(this,We,"m",t).call(this)}catch(x){yield d(this,We,"m",ln).call(this,2e3),this.running&&d(this,We,"m",t).call(this)}})},"_LiveChat_pollMetadata"),ln=n(function(e){return b(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var yx=xx;var dn,jh,Zr=class{constructor(e,i){dn.set(this,void 0),jh.set(this,void 0),I(this,jh,e,"f"),I(this,dn,c.parseResponse(i.data),"f"),this.header=d(this,dn,"f").actions_memo.getType(U0).first(),this.contents=d(this,dn,"f").actions_memo.getType(rg)}getContinuation(){return b(this,void 0,void 0,function*(){let e=d(this,dn,"f").actions_memo.getType(he).first();if(!e)throw new v("Continuation not found");let i=yield e.endpoint.call(d(this,jh,"f"),{parse:!1});return new Zr(d(this,jh,"f"),i)})}get page(){return d(this,dn,"f")}};n(Zr,"NotificationsMenu");dn=new WeakMap,jh=new WeakMap;var bx=Zr;var pn=class extends _e{constructor(e,i,o=!1){var r,s,l,p,f,h;super(e,i,o);let m=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(X).first().contents)||((s=this.page.on_response_received_commands)===null||s===void 0?void 0:s.first().contents);if(!m)throw new v("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(kg)),this.results=(l=m.find(y=>y.is(ye)&&y.contents&&y.contents.length>0))===null||l===void 0?void 0:l.as(ye).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Sg).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(Lg).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(Yi)}selectRefinementCard(e){var i,o;return b(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(!this.refinement_cards)throw new v("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Vo),!r)throw new v(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new v("Invalid refinement card!");let s=yield r.endpoint.call(this.actions,{parse:!0});return new pn(this.actions,s,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Vo).map(i=>i.query))||[]}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new pn(this.actions,e,!0)})}};n(pn,"Search");var wx=pn;var fn,Wh,es=class{constructor(e,i){var o,r,s,l;if(fn.set(this,void 0),Wh.set(this,void 0),I(this,Wh,e,"f"),I(this,fn,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,fn,"f").sidebar)===null||o===void 0?void 0:o.as(Pg),!d(this,fn,"f").contents)throw new v("Page contents not found");let p=d(this,fn,"f").contents.item().as(ai).tabs.array().as(be).get({selected:!0});if(!p)throw new v("Target tab not found");let f=(r=p.content)===null||r===void 0?void 0:r.as(X).contents.as(ye);this.introduction=(l=(s=f==null?void 0:f.shift())===null||s===void 0?void 0:s.contents)===null||l===void 0?void 0:l.firstOfType(ag),this.sections=f==null?void 0:f.map(h=>{var m;return{title:!((m=h.header)===null||m===void 0)&&m.is(zi,Sr,Cr)?h.header.title.toString():null,contents:h.contents}})}selectSidebarItem(e){return b(this,void 0,void 0,function*(){if(!this.sidebar)throw new v("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new v(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(gr))i=e;else throw new v("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,Wh,"f"),{parse:!1});return new es(d(this,Wh,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new v("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let s=r.as(Dr).options;if(s){for(let l of s)if(l.is(Or)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new v(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new v("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Dr).options&&(e=e.concat(o.as(Dr).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new v("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,fn,"f")}};n(es,"Settings");fn=new WeakMap,Wh=new WeakMap;var Tx=es;var ts,Ix=class{constructor(e){var i;if(ts.set(this,void 0),I(this,ts,c.parseResponse(e.data),"f"),!d(this,ts,"f").contents)throw new v("Page contents not found");let o=d(this,ts,"f").contents.item().as(si).tabs.get({selected:!0});if(!o)throw new v("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(X).contents.as(ye)}get page(){return d(this,ts,"f")}};n(Ix,"TimeWatched");ts=new WeakMap;var kx=Ix;var ho,is=class extends po{constructor(e,i,o){var r,s,l,p,f,h,m,y,x,T,k,C,A,F,Q,O,ue,ve,ke,Pe,De,$,z,Z,re,Ye,ht,wt,K,Ge,qt,Xt,Se,at,jn,Wn,Hn,Jn,Gn,zn,$n,Kn,qn,Xn,Qn;super(e,i,o),ho.set(this,void 0);let[ce,Tt]=this.page;if(ce.microformat&&!(!((r=ce.microformat)===null||r===void 0)&&r.is(Ct,ii)))throw new v("Invalid microformat",ce.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},ce.video_details),{embed:!((s=ce.microformat)===null||s===void 0)&&s.is(Ct)?(l=ce.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=ce.microformat)===null||p===void 0)&&p.is(Ct)?(f=ce.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(h=ce.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(m=ce.microformat)===null||m===void 0?void 0:m.is_family_safe,category:!((y=ce.microformat)===null||y===void 0)&&y.is(Ct)?(x=ce.microformat)===null||x===void 0?void 0:x.category:null,has_ypc_metadata:!((T=ce.microformat)===null||T===void 0)&&T.is(Ct)?(k=ce.microformat)===null||k===void 0?void 0:k.has_ypc_metadata:null,start_timestamp:!((C=ce.microformat)===null||C===void 0)&&C.is(Ct)?ce.microformat.start_timestamp:null,end_timestamp:!((A=ce.microformat)===null||A===void 0)&&A.is(Ct)?ce.microformat.end_timestamp:null,view_count:((F=ce.microformat)===null||F===void 0?void 0:F.is(Ct))&&isNaN((Q=ce.video_details)===null||Q===void 0?void 0:Q.view_count)?ce.microformat.view_count:(O=ce.video_details)===null||O===void 0?void 0:O.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ce.annotations,this.storyboards=ce.storyboards,this.endscreen=ce.endscreen,this.captions=ce.captions,this.cards=ce.cards,this.streaming_data){let Ne=this.streaming_data.adaptive_formats.find(et=>{var tt;return(tt=et.audio_track)===null||tt===void 0?void 0:tt.audio_is_default});if(Ne)this.streaming_data.formats.forEach(et=>et.language=Ne.language);else if(((ue=this.captions)===null||ue===void 0?void 0:ue.caption_tracks)&&((ve=this.captions)===null||ve===void 0?void 0:ve.caption_tracks.length)>0){let et=this.captions.caption_tracks.find(Ae=>Ae.kind==="asr"),tt=et==null?void 0:et.language_code;this.streaming_data.adaptive_formats.forEach(Ae=>{Ae.has_audio&&(Ae.language=tt)}),this.streaming_data.formats.forEach(Ae=>Ae.language=tt)}}let Je=(ke=Tt==null?void 0:Tt.contents)===null||ke===void 0?void 0:ke.item().as(Br),vi=Je==null?void 0:Je.results,To=Je==null?void 0:Je.secondary_results;if(vi&&To){if(((Pe=ce.microformat)===null||Pe===void 0?void 0:Pe.is(Ct))&&((De=ce.microformat)===null||De===void 0?void 0:De.category)==="Gaming"){let Ae=(Z=(z=($=vi.firstOfType(hh))===null||$===void 0?void 0:$.metadata)===null||z===void 0?void 0:z.rows)===null||Z===void 0?void 0:Z.firstOfType(sm);Ae!=null&&Ae.is(sm)&&(this.game_info={title:(Ye=(re=Ae==null?void 0:Ae.contents)===null||re===void 0?void 0:re.firstOfType(nm))===null||Ye===void 0?void 0:Ye.title,release_year:(wt=(ht=Ae==null?void 0:Ae.contents)===null||ht===void 0?void 0:ht.firstOfType(nm))===null||wt===void 0?void 0:wt.subtitle})}this.primary_info=vi.firstOfType(Bg),this.secondary_info=vi.firstOfType(hh),this.merchandise=vi.firstOfType(j0),this.related_chip_cloud=(K=To.firstOfType(wg))===null||K===void 0?void 0:K.content.as(_t),Je!=null&&Je.playlist&&(this.playlist=Je.playlist),this.watch_next_feed=((Ge=To.firstOfType(ye))===null||Ge===void 0?void 0:Ge.contents)||To,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((qt=this.watch_next_feed.at(-1))===null||qt===void 0?void 0:qt.is(he))&&I(this,ho,(Xt=this.watch_next_feed.pop())===null||Xt===void 0?void 0:Xt.as(he),"f"),this.player_overlays=(Se=Tt==null?void 0:Tt.player_overlays)===null||Se===void 0?void 0:Se.item().as(Qi),Je!=null&&Je.autoplay&&(this.autoplay=Je.autoplay);let Ne=(jn=(at=this.primary_info)===null||at===void 0?void 0:at.menu)===null||jn===void 0?void 0:jn.top_level_buttons.firstOfType($o);((Wn=Ne==null?void 0:Ne.like_button)===null||Wn===void 0?void 0:Wn.is(Be))&&((Hn=Ne==null?void 0:Ne.dislike_button)===null||Hn===void 0?void 0:Hn.is(Be))&&(this.basic_info.like_count=(Jn=Ne==null?void 0:Ne.like_button)===null||Jn===void 0?void 0:Jn.like_count,this.basic_info.is_liked=(Gn=Ne==null?void 0:Ne.like_button)===null||Gn===void 0?void 0:Gn.is_toggled,this.basic_info.is_disliked=(zn=Ne==null?void 0:Ne.dislike_button)===null||zn===void 0?void 0:zn.is_toggled);let et=(Kn=($n=this.primary_info)===null||$n===void 0?void 0:$n.menu)===null||Kn===void 0?void 0:Kn.top_level_buttons.firstOfType(Ko);if(et&&(this.basic_info.like_count=et.like_count,et.like_button)){let Ae=et.like_button.like_status_entity.like_status;this.basic_info.is_liked=Ae==="LIKE",this.basic_info.is_disliked=Ae==="DISLIKE"}let tt=(qn=vi.get({target_id:"comments-entry-point"}))===null||qn===void 0?void 0:qn.as(ye);this.comments_entry_point_header=(Xn=tt==null?void 0:tt.contents)===null||Xn===void 0?void 0:Xn.firstOfType(Fv),this.livechat=(Qn=Tt==null?void 0:Tt.contents_memo)===null||Qn===void 0?void 0:Qn.getType(b0).first()}}selectFilter(e){var i,o,r,s;return b(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new v("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new v("Invalid filter",{available_filters:this.filters});l=h}else if(e!=null&&e.is(xe))l=e;else throw new v("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(r=l.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),f=(s=p==null?void 0:p.on_response_received_endpoints)===null||s===void 0?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,r,s;return b(this,void 0,void 0,function*(){if(!d(this,ho,"f"))throw new v("Watch next feed continuation not found");let l=yield(e=d(this,ho,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new v("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(he)?I(this,ho,(s=this.watch_next_feed.pop())===null||s===void 0?void 0:s.as(he),"f"):I(this,ho,void 0,"f"),this})}like(){var e,i,o,r,s;return b(this,void 0,void 0,function*(){let l=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ko);if(l){let m=(o=l==null?void 0:l.like_button)===null||o===void 0?void 0:o.toggle_button;if(!m||!m.default_button||!l.like_button)throw new v("Like button not found",{video_id:this.basic_info.id});if(l.like_button.like_status_entity.like_status==="LIKE")throw new v("This video is already liked",{video_id:this.basic_info.id});return yield new g(m.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType($o),f=p==null?void 0:p.like_button;if(!f)throw new v("Like button not found",{video_id:this.basic_info.id});if(!f.is(Be))throw new v("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new v("This video is already liked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}dislike(){var e,i,o,r,s;return b(this,void 0,void 0,function*(){let l=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ko);if(l){let m=(o=l==null?void 0:l.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!m||!m.default_button||!l.dislike_button||!l.like_button)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(l.like_button.like_status_entity.like_status==="DISLIKE")throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield new g(m.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType($o),f=p==null?void 0:p.dislike_button;if(!f)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(!f.is(Be))throw new v("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}removeRating(){var e,i,o,r,s,l,p;return b(this,void 0,void 0,function*(){let f,h=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ko);if(h){let k=(o=h==null?void 0:h.like_button)===null||o===void 0?void 0:o.toggle_button;if(!k||!k.default_button||!h.like_button)throw new v("Like button not found",{video_id:this.basic_info.id});let C=h.like_button.like_status_entity.like_status;if(C==="LIKE")f=(r=h==null?void 0:h.like_button)===null||r===void 0?void 0:r.toggle_button;else if(C==="DISLIKE")f=(s=h==null?void 0:h.dislike_button)===null||s===void 0?void 0:s.toggle_button;else throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});if(!f||!f.toggled_button)throw new v("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new g(f.toggled_button.on_tap.payload.commands.find(Q=>Q.innertubeCommand)).call(this.actions)}let m=(p=(l=this.primary_info)===null||l===void 0?void 0:l.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType($o),y=m==null?void 0:m.like_button,x=m==null?void 0:m.dislike_button;if(!(y!=null&&y.is(Be))||!(x!=null&&x.is(Be)))throw new v("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(y!=null&&y.is_toggled?f=y:x!=null&&x.is_toggled&&(f=x),!f)throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});return yield f.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new v("Live Chat is not available",{video_id:this.basic_info.id});return new yx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(kf).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new is([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!d(this,ho,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(kf))}get music_tracks(){var e,i,o,r,s,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var h;return(h=f.content)===null||h===void 0?void 0:h.is(Do)});if(p!==void 0&&p.length>0){let f=(s=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(Do))===null||r===void 0?void 0:r.items)===null||s===void 0?void 0:s.filterType(dr);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(h=>{var m,y,x,T,k,C,A,F,Q,O,ue,ve,ke,Pe,De,$,z,Z,re;let Ye,ht,wt,K,Ge,qt;Ye=(y=(m=h.video_lockup)===null||m===void 0?void 0:m.title)===null||y===void 0?void 0:y.toString(),Ge=(x=h.video_lockup)===null||x===void 0?void 0:x.endpoint.payload.videoId;for(let Xt=0;Xt<h.info_rows.length;Xt++){let Se=h.info_rows[Xt];if(Se.info_row_expand_status_key===void 0)if(Ye===void 0){if(Ye=((T=Se.default_metadata)===null||T===void 0?void 0:T.toString())||((k=Se.expanded_metadata)===null||k===void 0?void 0:k.toString()),Ge===void 0){let at=((C=Se.default_metadata)===null||C===void 0?void 0:C.endpoint)||((A=Se.expanded_metadata)===null||A===void 0?void 0:A.endpoint);Ge=(F=at==null?void 0:at.payload)===null||F===void 0?void 0:F.videoId}}else wt=((Q=Se.default_metadata)===null||Q===void 0?void 0:Q.toString())||((O=Se.expanded_metadata)===null||O===void 0?void 0:O.toString());else{if(((ue=Se.info_row_expand_status_key)===null||ue===void 0?void 0:ue.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(ht=((ve=Se.default_metadata)===null||ve===void 0?void 0:ve.toString())||((ke=Se.expanded_metadata)===null||ke===void 0?void 0:ke.toString()),qt===void 0)){let at=((Pe=Se.default_metadata)===null||Pe===void 0?void 0:Pe.endpoint)||((De=Se.expanded_metadata)===null||De===void 0?void 0:De.endpoint);qt=($=at==null?void 0:at.payload)===null||$===void 0?void 0:$.browseId}((z=Se.info_row_expand_status_key)===null||z===void 0?void 0:z.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((Z=Se.default_metadata)===null||Z===void 0?void 0:Z.toString())||((re=Se.expanded_metadata)===null||re===void 0?void 0:re.toString()))}}return{song:Ye,artist:ht,album:wt,license:K,videoId:Ge,channelId:qt}})}return[]}};n(is,"VideoInfo");ho=new WeakMap;var Hh=is;var Jh,Gh,os=class{constructor(e,i){Jh.set(this,void 0),Gh.set(this,void 0),I(this,Jh,c.parseResponse(i.data),"f"),I(this,Gh,e,"f"),this.transcript=d(this,Jh,"f").actions_memo.getType(ir).first()}selectLanguage(e){var i,o,r,s;return b(this,void 0,void 0,function*(){let l=(s=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.find(f=>f.title.toString()===e);if(!l)throw new Error(`Language not found: ${e}`);if(l.selected)return this;let p=yield d(this,Gh,"f").execute("/get_transcript",{params:l.continuation});return new os(d(this,Gh,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(s=>s.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,s;return((s=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(l=>l.selected))===null||s===void 0?void 0:s.title.toString())||""}get page(){return d(this,Jh,"f")}};n(os,"TranscriptInfo");Jh=new WeakMap,Gh=new WeakMap;var ox=os;var Ub={};L(Ub,{Album:()=>Cx,Artist:()=>Nx,Explore:()=>Rx,HomeFeed:()=>Mx,Library:()=>Vx,LibraryContinuation:()=>vn,Playlist:()=>ds,Recap:()=>Dx,Search:()=>Lx,TrackInfo:()=>Qh});var Ci,Sx=class{constructor(e){var i,o,r;if(Ci.set(this,void 0),I(this,Ci,c.parseResponse(e.data),"f"),this.header=(i=d(this,Ci,"f").header)===null||i===void 0?void 0:i.item().as(Go),this.url=((o=d(this,Ci,"f").microformat)===null||o===void 0?void 0:o.as(ii).url_canonical)||null,!d(this,Ci,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(r=d(this,Ci,"f").contents_memo.getType(Te))===null||r===void 0?void 0:r.first().contents,this.sections=d(this,Ci,"f").contents_memo.getType(Me)||[]}get page(){return d(this,Ci,"f")}};n(Sx,"Album");Ci=new WeakMap;var Cx=Sx;var ns,Ex,Px=class{constructor(e,i){var o,r,s;ns.set(this,void 0),Ex.set(this,void 0),I(this,ns,c.parseResponse(e.data),"f"),I(this,Ex,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(Z0,ng,Xi);let l=((r=d(this,ns,"f").contents_memo)===null||r===void 0?void 0:r.getType(Te))||[],p=((s=d(this,ns,"f").contents_memo)===null||s===void 0?void 0:s.getType(Me))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return b(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new v("Could not find any node of type MusicShelf.");let r=o.find(p=>p.title.toString()==="Songs");if(!r)throw new v("Could not find target shelf (Songs).");if(!r.endpoint)throw new v("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield r.endpoint.call(d(this,Ex,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(zo))===null||i===void 0?void 0:i.first()})}get page(){return d(this,ns,"f")}};n(Px,"Artist");ns=new WeakMap,Ex=new WeakMap;var Nx=Px;var zh,Ax=class{constructor(e){var i,o,r;zh.set(this,void 0),I(this,zh,c.parseResponse(e.data),"f");let s=(i=d(this,zh,"f").contents)===null||i===void 0?void 0:i.item().as(si).tabs.get({selected:!0});if(!s)throw new v("Could not find target tab.");let l=(o=s.content)===null||o===void 0?void 0:o.as(X);if(!l)throw new v("Target tab did not have any content.");this.top_buttons=((r=l.contents.firstOfType(Uo))===null||r===void 0?void 0:r.items.as(Er))||[],this.sections=l.contents.filterType(Me)}get page(){return d(this,zh,"f")}};n(Ax,"Explore");zh=new WeakMap;var Rx=Ax;var _o,mn,hn,_n=class{constructor(e,i){var o,r,s,l,p,f;_o.set(this,void 0),mn.set(this,void 0),hn.set(this,void 0),I(this,mn,i,"f"),I(this,_o,c.parseResponse(e.data),"f");let h=(o=d(this,_o,"f").contents)===null||o===void 0?void 0:o.item().as(si).tabs.get({selected:!0});if(!h)throw new v("Could not find Home tab.");if(h.content===null){if(!d(this,_o,"f").continuation_contents)throw new v("Continuation did not have any content.");I(this,hn,d(this,_o,"f").continuation_contents.as(dt).continuation,"f"),this.sections=(r=d(this,_o,"f").continuation_contents.as(dt).contents)===null||r===void 0?void 0:r.as(Me);return}this.header=(l=(s=h.content)===null||s===void 0?void 0:s.as(X).header)===null||l===void 0?void 0:l.as(_t),I(this,hn,(p=h.content)===null||p===void 0?void 0:p.as(X).continuation,"f"),this.sections=(f=h.content)===null||f===void 0?void 0:f.as(X).contents.as(Me,og)}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,hn,"f"))throw new v("Continuation not found.");let e=yield d(this,mn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,hn,"f")});return new _n(e,d(this,mn,"f"))})}applyFilter(e){var i,o;return b(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(xe).get({text:e}),!r)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(xe)&&(r=e);if(!r)throw new v("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new v("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,mn,"f"),{client:"YTMUSIC"});return new _n(s,d(this,mn,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(xe).map(o=>o.text))||[]}get has_continuation(){return!!d(this,hn,"f")}get page(){return d(this,_o,"f")}};n(_n,"HomeFeed");_o=new WeakMap,mn=new WeakMap,hn=new WeakMap;var Mx=_n;var pi,vo,rs,ss,$h,as,us=class{constructor(e,i){var o,r,s,l,p;pi.set(this,void 0),vo.set(this,void 0),rs.set(this,void 0),I(this,pi,c.parseResponse(e.data),"f"),I(this,vo,i,"f");let f=(o=d(this,pi,"f").contents_memo)===null||o===void 0?void 0:o.getType(X).first();this.header=(r=f==null?void 0:f.header)===null||r===void 0?void 0:r.as(tg),this.contents=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Uo,Te),I(this,rs,(p=(l=this.contents)===null||l===void 0?void 0:l.find(h=>h.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,r,s,l,p,f,h,m,y;return b(this,void 0,void 0,function*(){let x;if(typeof e=="string"){let A=(i=d(this,pi,"f").contents_memo)===null||i===void 0?void 0:i.getType(uf).first(),F=(o=A==null?void 0:A.menu)===null||o===void 0?void 0:o.options.filter(Q=>Q instanceof Ft);if(x=F==null?void 0:F.find(Q=>Q.title===e),!x)throw new v(`Sort option "${e}" not found`,{available_filters:F.map(Q=>Q.title)})}else e instanceof Ft&&(x=e);if(!x)throw new v("Invalid sort option");if(x.selected)return this;let T=(p=(l=(s=(r=x.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commands)===null||l===void 0?void 0:l.find(A=>A.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!T)throw new v("Failed to find sort option command");let k=yield d(this,vo,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),C=(h=(f=d(this,pi,"f").contents_memo)===null||f===void 0?void 0:f.getType(Ft))===null||h===void 0?void 0:h.find(A=>A.selected);return C&&(C.selected=!1),x.selected=!0,this.contents=(y=(m=k.continuation_contents)===null||m===void 0?void 0:m.as(dt).contents)===null||y===void 0?void 0:y.as(Uo,Te),this})}applyFilter(e){var i,o,r,s;return b(this,void 0,void 0,function*(){let l,p=(i=d(this,pi,"f").contents_memo)===null||i===void 0?void 0:i.getType(_t).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new v(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof xe&&(l=e);if(!l)throw new v("Invalid filter",e);let h=yield new g((s=(r=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||r===void 0?void 0:r.commands)===null||s===void 0?void 0:s[0]).call(d(this,vo,"f"),{client:"YTMUSIC"});return new us(h,d(this,vo,"f"))})}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,rs,"f"))throw new v("No continuation available");let e=yield d(this,vo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,rs,"f")});return new vn(e,d(this,vo,"f"))})}get has_continuation(){return!!d(this,rs,"f")}get sort_options(){var e,i;let o=(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType(uf).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(s=>s instanceof Ft)).map(s=>s.title)}get filters(){var e,i;return((i=(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType(_t))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,pi,"f")}};n(us,"Library");pi=new WeakMap,vo=new WeakMap,rs=new WeakMap;var vn=class{constructor(e,i){if(ss.set(this,void 0),$h.set(this,void 0),as.set(this,void 0),I(this,ss,c.parseResponse(e.data),"f"),I(this,$h,i,"f"),!d(this,ss,"f").continuation_contents)throw new v("No continuation contents found");this.contents=d(this,ss,"f").continuation_contents.as(li,no),I(this,as,this.contents.continuation||null,"f")}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,as,"f"))throw new v("No continuation available");let e=yield d(this,$h,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,as,"f")});return new vn(e,d(this,$h,"f"))})}get has_continuation(){return!!d(this,as,"f")}get page(){return d(this,ss,"f")}};n(vn,"LibraryContinuation");ss=new WeakMap,$h=new WeakMap,as=new WeakMap;var Vx=us;var Yb,gt,xn,gn,ls,Kh,a1,cs=class{constructor(e,i){var o,r,s,l,p,f,h;if(Yb.add(this),gt.set(this,void 0),xn.set(this,void 0),gn.set(this,void 0),ls.set(this,void 0),Kh.set(this,void 0),I(this,xn,i,"f"),I(this,gt,c.parseResponse(e.data),"f"),I(this,ls,null,"f"),I(this,Kh,null,"f"),d(this,gt,"f").continuation_contents){let m=(o=d(this,gt,"f").continuation_contents)===null||o===void 0?void 0:o.as(oo);this.items=m.contents,I(this,gn,m.continuation,"f")}else((r=d(this,gt,"f").header)===null||r===void 0?void 0:r.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(s=d(this,gt,"f").header)===null||s===void 0?void 0:s.item().as(Q0).header)===null||l===void 0?void 0:l.as(Go):this.header=(p=d(this,gt,"f").header)===null||p===void 0?void 0:p.item().as(Go),this.items=((f=d(this,gt,"f").contents_memo)===null||f===void 0?void 0:f.getType(zo).first().contents)||null,I(this,gn,((h=d(this,gt,"f").contents_memo)===null||h===void 0?void 0:h.getType(zo).first().continuation)||null,"f")}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,gn,"f"))throw new v("Continuation not found.");let e=yield d(this,xn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,gn,"f")});return new cs(e,d(this,xn,"f"))})}getRelated(){var e,i,o,r,s;return b(this,void 0,void 0,function*(){let l=(i=(e=d(this,gt,"f").contents_memo)===null||e===void 0?void 0:e.getType(X))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield d(this,xn,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(dt),h=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Me,Te),m=(s=h==null?void 0:h.matchCondition(y=>y.is(Me)))===null||s===void 0?void 0:s.as(Me);if(m)return m;l=f==null?void 0:f.continuation}throw new v("Target section not found.")})}getSuggestions(e=!0){return b(this,void 0,void 0,function*(){let r=yield e||!d(this,ls,"f")?d(this,Yb,"m",a1).call(this):Promise.resolve(null);return r&&(I(this,ls,r.items,"f"),I(this,Kh,r.continuation,"f")),(r==null?void 0:r.items)||d(this,ls,"f")})}get page(){return d(this,gt,"f")}get has_continuation(){return!!d(this,gn,"f")}};n(cs,"Playlist");gt=new WeakMap,xn=new WeakMap,gn=new WeakMap,ls=new WeakMap,Kh=new WeakMap,Yb=new WeakSet,a1=n(function(){var e,i,o,r,s;return b(this,void 0,void 0,function*(){let l=d(this,Kh,"f")||((i=(e=d(this,gt,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(X).continuation);if(l){let f=(o=(yield d(this,xn,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(dt),h=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Me,Te),m=(s=h==null?void 0:h.matchCondition(y=>y.is(Te)))===null||s===void 0?void 0:s.as(Te);return{items:(m==null?void 0:m.contents)||[],continuation:(m==null?void 0:m.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var ds=cs;var go,qh,Ox=class{constructor(e,i){var o,r,s,l,p,f,h;go.set(this,void 0),qh.set(this,void 0),I(this,go,c.parseResponse(e.data),"f"),I(this,qh,i,"f");let m=(o=d(this,go,"f").header)===null||o===void 0?void 0:o.item();this.header=m!=null&&m.is(zp)?(l=(s=(r=d(this,go,"f").header)===null||r===void 0?void 0:r.item().as(zp).element)===null||s===void 0?void 0:s.model)===null||l===void 0?void 0:l.as(Xc):(p=d(this,go,"f").header)===null||p===void 0?void 0:p.item().as(Xi);let y=(f=d(this,go,"f").contents)===null||f===void 0?void 0:f.item().as(si).tabs.firstOfType(be);if(!y)throw new v("Target tab not found");this.sections=(h=y.content)===null||h===void 0?void 0:h.as(X).contents.as(ye,Me,$e)}getPlaylist(){return b(this,void 0,void 0,function*(){if(!this.header)throw new v("Header not found");if(!this.header.is(Xc))throw new v("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,qh,"f"),{client:"YTMUSIC"});return new ds(i,d(this,qh,"f"))})}get page(){return d(this,go,"f")}};n(Ox,"Recap");go=new WeakMap,qh=new WeakMap;var Dx=Ox;var fi,Ei,ps,Xh,fs,yn=class{constructor(e,i,o){var r,s,l;if(fi.set(this,void 0),Ei.set(this,void 0),ps.set(this,void 0),I(this,Ei,i,"f"),I(this,fi,c.parseResponse(e.data),"f"),!d(this,fi,"f").contents||!d(this,fi,"f").contents_memo)throw new v("Response did not contain any contents.");let p=d(this,fi,"f").contents.item().as(Vg).tabs.get({selected:!0});if(!p)throw new v("Could not find target tab.");let f=(r=p.content)===null||r===void 0?void 0:r.as(X);if(!f)throw new v("Target tab did not have any content.");this.header=(s=f.header)===null||s===void 0?void 0:s.as(_t),this.contents=f.contents.as(Te,z0,ye),o&&I(this,ps,(l=this.contents.firstOfType(Te))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return b(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new v("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,Ei,"f"),{client:"YTMUSIC"});if(!i)throw new v("Endpoint did not return any data");return new yn(i,d(this,Ei,"f"),!0)})}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,ps,"f"))throw new v("Continuation not found.");let e=yield d(this,Ei,"f").execute("/search",{continuation:d(this,ps,"f"),client:"YTMUSIC"});return new ms(d(this,Ei,"f"),e)})}applyFilter(e){var i,o;return b(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(xe).get({text:e}),!r)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(xe)&&(r=e);if(!r)throw new v("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new v("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,Ei,"f"),{client:"YTMUSIC"});return new yn(s,d(this,Ei,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(xe).map(o=>o.text))||[]}get has_continuation(){return!!d(this,ps,"f")}get did_you_mean(){var e;return(e=d(this,fi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Kv).first()}get showing_results_for(){var e;return(e=d(this,fi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ag).first()}get message(){var e;return(e=d(this,fi,"f").contents_memo)===null||e===void 0?void 0:e.getType($e).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(Te))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(Te)}get page(){return d(this,fi,"f")}};n(yn,"Search");fi=new WeakMap,Ei=new WeakMap,ps=new WeakMap;var Lx=yn,ms=class{constructor(e,i){var o,r;Xh.set(this,void 0),fs.set(this,void 0),I(this,Xh,e,"f"),I(this,fs,c.parseResponse(i.data),"f"),this.header=(o=d(this,fs,"f").header)===null||o===void 0?void 0:o.item().as(Xi),this.contents=(r=d(this,fs,"f").continuation_contents)===null||r===void 0?void 0:r.as(li)}getContinuation(){var e;return b(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new v("Continuation not found.");let i=yield d(this,Xh,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new ms(d(this,Xh,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,fs,"f")}};n(ms,"SearchContinuation");Xh=new WeakMap,fs=new WeakMap;var Bx=class extends po{constructor(e,i,o){var r,s,l,p,f,h,m,y,x;super(e,i,o);let[T,k]=this.page;if(!(!((r=T.microformat)===null||r===void 0)&&r.is(ii)))throw new v("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(s=T.microformat)===null||s===void 0?void 0:s.description,is_unlisted:(l=T.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=T.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(h=T.microformat)===null||h===void 0?void 0:h.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,k){let C=(y=(m=k.contents_memo)===null||m===void 0?void 0:m.getType(Yg))===null||y===void 0?void 0:y[0];this.tabs=C==null?void 0:C.tabs.array().as(be),this.current_video_endpoint=k.current_video_endpoint,this.player_overlays=(x=k.player_overlays)===null||x===void 0?void 0:x.item().as(Qi)}}getTab(e){var i,o;return b(this,void 0,void 0,function*(){if(!this.tabs)throw new v("Could not find any tab");let r=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!r)throw new v(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(r.content)return r.content;let s=yield r.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=s.contents)===null||o===void 0?void 0:o.item().type)==="Message")return s.contents.item().as($e);if(!s.contents)throw new v("Page contents was empty",s);return s.contents.item().as(X).contents})}getUpNext(e=!0){var i,o;return b(this,void 0,void 0,function*(){let r=yield this.getTab("Up next");if(!r||!r.content)throw new v("Music queue was empty, the video id is probably invalid.",r);let s=r.content.as(ni);if(!s.playlist_id&&e){let l=s.contents.firstOfType(Bi);if(!l)throw new v("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new v("Could not fetch automix");return(o=p.contents_memo.getType(ni))===null||o===void 0?void 0:o[0]}return s})}getRelated(){return b(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return b(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(Jo)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,q.CLIENTS.YTMUSIC.NAME,q.CLIENTS.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(Bx,"TrackInfo");var Qh=Bx;var jb={};L(jb,{Channel:()=>Fx,HomeFeed:()=>Yx,Search:()=>jx,VideoInfo:()=>Hx});var hs=class extends _e{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(Wi),this.contents=this.memo.getType(ye).first()||((s=this.page.continuation_contents)===null||s===void 0?void 0:s.as(eo))}getContinuation(){var e;return b(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new hs(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(hs,"Channel");var Fx=hs;var _s=class extends _e{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(jg),this.contents=(s=this.page.contents)===null||s===void 0?void 0:s.item().as(Wg)}selectCategoryTab(e){var i;return b(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(s=>s.title.toString()===e):e!=null&&e.is(Ur)&&(o=e),!o)throw new v(`Tab "${e}" not found`);let r=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return r.header=this.page.header,r.header_memo=this.page.header_memo,new _s(this.actions,r,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(_s,"HomeFeed");var Yx=_s;var Ux=class extends _e{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(ye).first();if(!o)throw new v("No item section found in search response.");this.contents=o.contents}};n(Ux,"Search");var jx=Ux;var Wx=class extends po{constructor(e,i,o){var r,s,l,p,f;super(e,i,o);let[h,m]=this.page;this.basic_info=h.video_details,this.captions=h.captions;let y=(r=m==null?void 0:m.contents)===null||r===void 0?void 0:r.item().as(Br),x=y==null?void 0:y.results,T=y==null?void 0:y.secondary_results;x&&T&&(this.slim_video_metadata=(l=(s=x.firstOfType(ye))===null||s===void 0?void 0:s.contents)===null||l===void 0?void 0:l.firstOfType(Rg),this.watch_next_feed=((p=T.firstOfType(ye))===null||p===void 0?void 0:p.contents)||T,this.current_video_endpoint=m==null?void 0:m.current_video_endpoint,this.player_overlays=(f=m==null?void 0:m.player_overlays)===null||f===void 0?void 0:f.item().as(Qi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(Wx,"VideoInfo");var Hx=Wx;var Hb={};L(Hb,{VideoInfo:()=>ay});var Wb={};L(Wb,{Account:()=>Tn,Browse:()=>Gx,BrowseEndpoint:()=>U,Channel:()=>Pi,Comment:()=>Kx,GetNotificationMenuEndpoint:()=>bn,GuideEndpoint:()=>vs,Kids:()=>ny,Like:()=>qx,Music:()=>Xx,NextEndpoint:()=>Ce,Notification:()=>gs,PlayerEndpoint:()=>nt,Playlist:()=>Zx,Reel:()=>Pt,ResolveURLEndpoint:()=>wn,SearchEndpoint:()=>xt,Subscription:()=>ey,Upload:()=>oy});var U={};L(U,{PATH:()=>SE,build:()=>CE});var SE="/browse";function CE(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(CE,"build");var bn={};L(bn,{PATH:()=>EE,build:()=>PE});var EE="/notification/get_notification_menu";function PE(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(PE,"build");var vs={};L(vs,{PATH:()=>NE});var NE="/guide";var Ce={};L(Ce,{PATH:()=>AE,build:()=>RE});var AE="/next";function RE(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(RE,"build");var nt={};L(nt,{PATH:()=>ME,build:()=>VE});var ME="/player";function VE(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?xb():t.params})}n(VE,"build");var wn={};L(wn,{PATH:()=>OE,build:()=>DE});var OE="/navigation/resolve_url";function DE(t){return Object.assign({url:t.url})}n(DE,"build");var xt={};L(xt,{PATH:()=>LE,build:()=>BE});var LE="/search";function BE(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(BE,"build");var Tn={};L(Tn,{AccountListEndpoint:()=>Jx});var Jx={};L(Jx,{PATH:()=>FE,build:()=>YE});var FE="/account/accounts_list";function YE(){return{client:"ANDROID"}}n(YE,"build");var Gx={};L(Gx,{EditPlaylistEndpoint:()=>rt});var rt={};L(rt,{PATH:()=>UE,build:()=>jE});var UE="/browse/edit_playlist";function jE(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(jE,"build");var Pi={};L(Pi,{EditDescriptionEndpoint:()=>$x,EditNameEndpoint:()=>zx});var zx={};L(zx,{PATH:()=>WE,build:()=>HE});var WE="/channel/edit_name";function HE(t){return{givenName:t.given_name,client:"ANDROID"}}n(HE,"build");var $x={};L($x,{PATH:()=>JE,build:()=>GE});var JE="/channel/edit_description";function GE(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(GE,"build");var Kx={};L(Kx,{CreateCommentEndpoint:()=>kn,PerformCommentActionEndpoint:()=>In});var In={};L(In,{PATH:()=>zE,build:()=>$E});var zE="/comment/perform_comment_action";function $E(t){return Object.assign({actions:t.actions},{client:t.client})}n($E,"build");var kn={};L(kn,{PATH:()=>KE,build:()=>qE});var KE="/comment/create_comment";function qE(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(qE,"build");var qx={};L(qx,{DislikeEndpoint:()=>Cn,LikeEndpoint:()=>Sn,RemoveLikeEndpoint:()=>En});var Sn={};L(Sn,{PATH:()=>XE,build:()=>QE});var XE="/like/like";function QE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(QE,"build");var Cn={};L(Cn,{PATH:()=>ZE,build:()=>eP});var ZE="/like/dislike";function eP(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(eP,"build");var En={};L(En,{PATH:()=>tP,build:()=>iP});var tP="/like/removelike";function iP(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(iP,"build");var Xx={};L(Xx,{GetSearchSuggestionsEndpoint:()=>Pn});var Pn={};L(Pn,{PATH:()=>oP,build:()=>nP});var oP="/music/get_search_suggestions";function nP(t){return{input:t.input,client:"YTMUSIC"}}n(nP,"build");var gs={};L(gs,{GetUnseenCountEndpoint:()=>Qx,ModifyChannelPreferenceEndpoint:()=>Nn});var Qx={};L(Qx,{PATH:()=>rP});var rP="/notification/get_unseen_count";var Nn={};L(Nn,{PATH:()=>sP,build:()=>aP});var sP="/notification/modify_channel_preference";function aP(t){return Object.assign({params:t.params},{client:t.client})}n(aP,"build");var Zx={};L(Zx,{CreateEndpoint:()=>An,DeleteEndpoint:()=>Rn});var An={};L(An,{PATH:()=>uP,build:()=>lP});var uP="/playlist/create";function lP(t){return{title:t.title,ids:t.ids}}n(lP,"build");var Rn={};L(Rn,{PATH:()=>cP,build:()=>dP});var cP="/playlist/delete";function dP(t){return{playlistId:t.playlist_id}}n(dP,"build");var ey={};L(ey,{SubscribeEndpoint:()=>Mn,UnsubscribeEndpoint:()=>Vn});var Mn={};L(Mn,{PATH:()=>pP,build:()=>fP});var pP="/subscription/subscribe";function fP(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(fP,"build");var Vn={};L(Vn,{PATH:()=>mP,build:()=>hP});var mP="/subscription/unsubscribe";function hP(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(hP,"build");var Pt={};L(Pt,{WatchEndpoint:()=>ty,WatchSequenceEndpoint:()=>iy});var ty={};L(ty,{PATH:()=>_P,build:()=>vP});var _P="/reel/reel_item_watch";function vP(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(vP,"build");var iy={};L(iy,{PATH:()=>gP,build:()=>xP});var gP="/reel/reel_watch_sequence";function xP(t){return{sequenceParams:t.sequenceParams}}n(xP,"build");var oy={};L(oy,{CreateVideoEndpoint:()=>On});var On={};L(On,{PATH:()=>yP,build:()=>bP});var yP="/upload/createvideo";function bP(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(bP,"build");var ny={};L(ny,{BlocklistPickerEndpoint:()=>Dn});var Dn={};L(Dn,{PATH:()=>wP,build:()=>TP});var wP="/kids/get_kids_blocklist_picker";function TP(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(TP,"build");var xs,ry,sy=class{constructor(e,i){var o,r;xs.set(this,void 0),ry.set(this,void 0),I(this,ry,i,"f");let s=c.parseResponse(e[0].data),l=c.parseResponse(e[1].data);this.basic_info=s.video_details,this.watch_next_feed=(o=l.entries)===null||o===void 0?void 0:o.array(),I(this,xs,(r=l.continuation_endpoint)===null||r===void 0?void 0:r.as(Ti),"f")}getWatchNextContinuation(){var e,i;return b(this,void 0,void 0,function*(){if(!d(this,xs,"f"))throw new v("Watch next feed continuation not found");let o=yield d(this,ry,"f").execute(Pt.WatchSequenceEndpoint.PATH,Pt.WatchSequenceEndpoint.build({sequenceParams:d(this,xs,"f").token}));if(!o.success)throw new v("Continue failed ",o.status_code);let r=c.parseResponse(o.data);return this.watch_next_feed=(e=r.entries)===null||e===void 0?void 0:e.array(),I(this,xs,(i=r.continuation_endpoint)===null||i===void 0?void 0:i.as(Ti),"f"),this})}};n(sy,"VideoInfo");xs=new WeakMap,ry=new WeakMap;var ay=sy;var M=class{constructor(e,i,o,r){var s,l,p,f,h,m,y,x,T,k,C,A,F,Q,O,ue,ve,ke,Pe,De,$,z,Z,re,Ye,ht,wt;let K=new u(e);this.id=r||((f=(p=(l=(s=K==null?void 0:K.runs)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((m=(h=K==null?void 0:K.endpoint)===null||h===void 0?void 0:h.payload)===null||m===void 0?void 0:m.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=o?w.fromResponse(o):[],this.endpoint=((x=(y=K==null?void 0:K.runs)===null||y===void 0?void 0:y[0])===null||x===void 0?void 0:x.endpoint)||(K==null?void 0:K.endpoint),i?Array.isArray(i)?(this.badges=c.parseArray(i),this.is_moderator=(T=this.badges)===null||T===void 0?void 0:T.some(Ge=>Ge.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)===null||k===void 0?void 0:k.some(Ge=>Ge.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(C=this.badges)===null||C===void 0?void 0:C.some(Ge=>Ge.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=se([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=se([]),this.url=((O=(Q=(F=(A=K==null?void 0:K.runs)===null||A===void 0?void 0:A[0])===null||F===void 0?void 0:F.endpoint)===null||Q===void 0?void 0:Q.metadata)===null||O===void 0?void 0:O.api_url)==="/browse"&&`${ut.YT_BASE}${((Pe=(ke=(ve=(ue=K==null?void 0:K.runs)===null||ue===void 0?void 0:ue[0])===null||ve===void 0?void 0:ve.endpoint)===null||ke===void 0?void 0:ke.payload)===null||Pe===void 0?void 0:Pe.canonicalBaseUrl)||`/u/${(Z=(z=($=(De=K==null?void 0:K.runs)===null||De===void 0?void 0:De[0])===null||$===void 0?void 0:$.endpoint)===null||z===void 0?void 0:z.payload)===null||Z===void 0?void 0:Z.browseId}`}`||`${ut.YT_BASE}${((Ye=(re=K==null?void 0:K.endpoint)===null||re===void 0?void 0:re.payload)===null||Ye===void 0?void 0:Ye.canonicalBaseUrl)||`/u/${(wt=(ht=K==null?void 0:K.endpoint)===null||ht===void 0?void 0:ht.payload)===null||wt===void 0?void 0:wt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(M,"Author");var u1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var uy,ly,IP="Utils",D=class{static load(e){I(D,uy,e,"f",ly)}static get shim(){if(!d(D,uy,"f",ly))throw new Error("Platform is not loaded");return d(D,uy,"f",ly)}};n(D,"Platform");uy=D;ly={value:void 0};var v=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=D.shim.info.version}};n(v,"InnertubeError");var It=class extends v{};n(It,"ParsingError");var Ln=class extends v{};n(Ln,"MissingParamError");var mi=class extends v{};n(mi,"OAuthError");var Gt=class extends Error{};n(Gt,"PlayerError");var ys=class extends Error{};n(ys,"SessionError");var zr=class extends Error{};n(zr,"ChannelError");function f_(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(f_,"deepCompare");function Ue(t,e,i){let o=new RegExp(`${Gb(e)}(.*?)${Gb(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Ue,"getStringBetweenStrings");function Gb(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Gb,"escapeStringRegexp");function No(t){let e=u1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(No,"getRandomUserAgent");function qy(t){return b(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield D.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(qy,"generateSidAuth");function Nt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Nt,"generateRandomString");function je(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(je,"timeToSeconds");function Ob(...t){let e=new Oi;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Ob,"concatMemos");function ie(t){for(let[e,i]of Object.entries(t))if(!i)throw new Ln(`${e} is missing`)}n(ie,"throwIfMissing");function kP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(kP,"hasKeys");function zy(t){return Nw(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Io(i.read());if(o)return yield Io(void 0);yield yield Io(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(zy,"streamToIterable");var SP=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],s=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=r.length>0?`${r.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return Y.warn(IP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${s}`),D.shim.fetch(t,e)},"debugFetch");function ct(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(ct,"u8ToBase64");function yb(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(yb,"base64ToU8");function ot(t){return!("emoji"in t)}n(ot,"isTextRun");function zb(t){return b(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),s=[];for(let l=0;l<r.length;++l)s.push(e[r[l]]);return s.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(zb,"sha1Hash");var cy={name:"youtubei.js",version:"9.3.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var e_={};L(e_,{ArrayExpression:()=>bs,ArrowFunctionExpression:()=>ws,AssignmentExpression:()=>Ts,BinaryExpression:()=>Is,BlockStatement:()=>ks,BreakStatement:()=>Ss,CallExpression:()=>Cs,ConditionalExpression:()=>Ps,ContinueStatement:()=>Ns,ExpressionStatement:()=>As,ForOfStatement:()=>Rs,ForStatement:()=>Ms,FunctionDeclaration:()=>Vs,FunctionExpression:()=>Os,Identifier:()=>Ds,IfStatement:()=>Ls,Literal:()=>Bs,LogicalExpression:()=>Fs,MemberExpression:()=>Ys,NewExpression:()=>Us,ObjectExpression:()=>js,Property:()=>Ws,ReturnStatement:()=>Hs,SequenceExpression:()=>Js,SwitchCase:()=>Gs,SwitchStatement:()=>zs,ThisExpression:()=>$s,ThrowStatement:()=>Ks,TryStatement:()=>qs,UnaryExpression:()=>Xs,UpdateExpression:()=>Qs,VariableDeclaration:()=>Zs,WhileStatement:()=>ea});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(R,"BaseJSNode");var bs=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(bs,"ArrayExpression");var $b={};L($b,{namedFunction:()=>Bn});var Bn=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var ws=class extends R{run(){let{params:e,body:i}=this.node;return Bn("anonymous function",r=>{let s=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[s]):console.warn("Unhandled param type",l.type),s++;return this.visitor.visitNode(i)})}};n(ws,"ArrowFunctionExpression");var Ts=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Ts,"AssignmentExpression");var Is=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Is,"BinaryExpression");var ks=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(ks,"BlockStatement");var Ss=class extends R{run(){return"break"}};n(Ss,"BreakStatement");var l1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},dy,Kb,Cs=class extends R{constructor(){super(...arguments),dy.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let s=this.visitor.listeners[e](this.node,this.visitor);if(s!=="proceed")return s}if(i&&i!=="toString"&&this.visitor.listeners[i]){let s=this.visitor.listeners[i](this.node,this.visitor);if(s!=="proceed")return s}if(this.node.callee.type==="MemberExpression"){if(Es.has(this.node,this.visitor))return Es.execute(this.node,this.visitor);let s=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof s[l]!="function"&&l1(this,dy,"m",Kb).call(this),s[l].toString().includes("[native code]")?s[l](...p):s[l](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(s=>this.visitor.visitNode(s));return typeof o!="function"&&l1(this,dy,"m",Kb).call(this),o(r)}};n(Cs,"CallExpression");dy=new WeakSet,Kb=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Es=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Es,"Builtins");Es.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let s of o)i[0]([s,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Ps=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Ps,"ConditionalExpression");var Ns=class extends R{run(){return"continue"}};n(Ns,"ContinueStatement");var As=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};n(As,"ExpressionStatement");var Rs=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Rs,"ForOfStatement");var Ms=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Ms,"ForStatement");var Vs=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=Bn(o,s=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,s[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(Vs,"FunctionDeclaration");var Os=class extends R{run(){let{params:e,body:i}=this.node;return Bn("anonymous function",r=>{let s=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[s]):console.warn("Unhandled param type",l.type),s++;return this.visitor.visitNode(i)})}};n(Os,"FunctionExpression");var Ds=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Ds,"Identifier");var Ls=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Ls,"IfStatement");var Bs=class extends R{run(){return this.node.value}};n(Bs,"Literal");var Fs=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Fs,"LogicalExpression");var Ys=class extends R{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),s=o?this.visitor.visitNode(i):this.visitor.getName(i);if(s!==void 0||s!==null){if(this.visitor.listeners[s]){let l=this.visitor.listeners[s](this.node,this.visitor);if(l!=="proceed")return l}return r==null?void 0:r[s]}}};n(Ys,"MemberExpression");var Us=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(Us,"NewExpression");var js=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(js,"ObjectExpression");var qb=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Zh,c1,d1,p1,Ws=class extends R{constructor(){super(...arguments),Zh.add(this)}run(){switch(this.node.kind){case"init":return qb(this,Zh,"m",c1).call(this);case"get":return qb(this,Zh,"m",d1).call(this);case"set":return qb(this,Zh,"m",p1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Ws,"Property");Zh=new WeakSet,c1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),d1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),p1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Hs=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(Hs,"ReturnStatement");var Js=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(Js,"SequenceExpression");var Gs=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(Gs,"SwitchCase");var zs=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let s=this.node.cases[r];if(i){let l=this.visitor.visitNode(s);if(l==="break")break;if(l==="continue")return l;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=s&&e===this.visitor.visitNode(s.test),i===void 0&&r>this.node.cases.length)break;if(s&&!i&&!s.test){o=r,r+=1;continue}if(!s&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(zs,"SwitchStatement");var $s=class extends R{run(){return this.visitor.scope.get("_this")}};n($s,"ThisExpression");var Ks=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};n(Ks,"ThrowStatement");var qs=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(qs,"TryStatement");var Xs=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(Xs,"UnaryExpression");var Qs=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Qs,"UpdateExpression");var Zs=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),s=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,s),typeof s=="object"&&s!==null&&this.visitor.scope.set("_this",s)})}};n(Zs,"VariableDeclaration");var ea=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(ea,"WhileStatement");var EP=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Xb,f1,ta=class{constructor(e){Xb.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=EP(this,Xb,"m",f1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(ta,"Visitor");Xb=new WeakSet,f1=n(function(e){let i=e_[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var PP=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],g1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],NP="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",x1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Qb={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Zb="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",AP={5:Zb,"5module":Zb+" export import",6:Zb+" const class extends export import super"},RP=/^in(stanceof)?$/,MP=new RegExp("["+x1+"]"),VP=new RegExp("["+x1+NP+"]");function tw(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(tw,"isInAstralSet");function Ni(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&MP.test(String.fromCharCode(t)):e===!1?!1:tw(t,g1)}n(Ni,"isIdentifierStart");function ia(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&VP.test(String.fromCharCode(t)):e===!1?!1:tw(t,g1)||tw(t,PP)}n(ia,"isIdentifierChar");var le=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function At(t,e){return new le(t,{beforeExpr:!0,binop:e})}n(At,"binop");var Rt={beforeExpr:!0},mt={startsExpr:!0},nw={};function ne(t,e){return e===void 0&&(e={}),e.keyword=t,nw[t]=new le(t,e)}n(ne,"kw");var _={num:new le("num",mt),regexp:new le("regexp",mt),string:new le("string",mt),name:new le("name",mt),privateId:new le("privateId",mt),eof:new le("eof"),bracketL:new le("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new le("]"),braceL:new le("{",{beforeExpr:!0,startsExpr:!0}),braceR:new le("}"),parenL:new le("(",{beforeExpr:!0,startsExpr:!0}),parenR:new le(")"),comma:new le(",",Rt),semi:new le(";",Rt),colon:new le(":",Rt),dot:new le("."),question:new le("?",Rt),questionDot:new le("?."),arrow:new le("=>",Rt),template:new le("template"),invalidTemplate:new le("invalidTemplate"),ellipsis:new le("...",Rt),backQuote:new le("`",mt),dollarBraceL:new le("${",{beforeExpr:!0,startsExpr:!0}),eq:new le("=",{beforeExpr:!0,isAssign:!0}),assign:new le("_=",{beforeExpr:!0,isAssign:!0}),incDec:new le("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new le("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:At("||",1),logicalAND:At("&&",2),bitwiseOR:At("|",3),bitwiseXOR:At("^",4),bitwiseAND:At("&",5),equality:At("==/!=/===/!==",6),relational:At("</>/<=/>=",7),bitShift:At("<</>>/>>>",8),plusMin:new le("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:At("%",10),star:At("*",10),slash:At("/",10),starstar:new le("**",{beforeExpr:!0}),coalesce:At("??",1),_break:ne("break"),_case:ne("case",Rt),_catch:ne("catch"),_continue:ne("continue"),_debugger:ne("debugger"),_default:ne("default",Rt),_do:ne("do",{isLoop:!0,beforeExpr:!0}),_else:ne("else",Rt),_finally:ne("finally"),_for:ne("for",{isLoop:!0}),_function:ne("function",mt),_if:ne("if"),_return:ne("return",Rt),_switch:ne("switch"),_throw:ne("throw",Rt),_try:ne("try"),_var:ne("var"),_const:ne("const"),_while:ne("while",{isLoop:!0}),_with:ne("with"),_new:ne("new",{beforeExpr:!0,startsExpr:!0}),_this:ne("this",mt),_super:ne("super",mt),_class:ne("class",mt),_extends:ne("extends",Rt),_export:ne("export"),_import:ne("import",mt),_null:ne("null",mt),_true:ne("true",mt),_false:ne("false",mt),_in:ne("in",{beforeExpr:!0,binop:7}),_instanceof:ne("instanceof",{beforeExpr:!0,binop:7}),_typeof:ne("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ne("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ne("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ot=/\r\n?|\n|\u2028|\u2029/,OP=new RegExp(Ot.source,"g");function oa(t){return t===10||t===13||t===8232||t===8233}n(oa,"isNewLine");function y1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(oa(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(y1,"nextLineBreak");var b1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Mt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,w1=Object.prototype,DP=w1.hasOwnProperty,LP=w1.toString,n_=Object.hasOwn||function(t,e){return DP.call(t,e)},m1=Array.isArray||function(t){return LP.call(t)==="[object Array]"};function xo(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(xo,"wordsRegexp");function yo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(yo,"codePointToString");var BP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,i_=n(function(e,i){this.line=e,this.column=i},"Position");i_.prototype.offset=n(function(e){return new i_(this.line,this.column+e)},"offset");var _y=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function T1(t,e){for(var i=1,o=0;;){var r=y1(t,o,e);if(r<0)return new i_(i,e-o);++i,o=r}}n(T1,"getLineInfo");var iw={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},h1=!1;function FP(t){var e={};for(var i in iw)e[i]=t&&n_(t,i)?t[i]:iw[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!h1&&typeof console=="object"&&console.warn&&(h1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),m1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return m1(e.onComment)&&(e.onComment=YP(e,e.onComment)),e}n(FP,"getOptions");function YP(t,e){return function(i,o,r,s,l,p){var f={type:i?"Block":"Line",value:o,start:r,end:s};t.locations&&(f.loc=new _y(this,l,p)),t.ranges&&(f.range=[r,s]),e.push(f)}}n(YP,"pushComment");var o_=1,na=2,rw=4,I1=8,k1=16,S1=32,sw=64,C1=128,r_=256,aw=o_|na|r_;function uw(t,e){return na|(t?rw:0)|(e?I1:0)}n(uw,"functionFlags");var fy=0,lw=1,Ri=2,E1=3,P1=4,N1=5,Fe=n(function(e,i,o){this.options=e=FP(e),this.sourceFile=e.sourceFile,this.keywords=xo(AP[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Qb[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=xo(r);var s=(r?r+" ":"")+Qb.strict;this.reservedWordsStrict=xo(s),this.reservedWordsStrictBind=xo(s+" "+Qb.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ot).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(o_),this.regexpState=null,this.privateNameStack=[]},"Parser"),hi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Fe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");hi.inFunction.get=function(){return(this.currentVarScope().flags&na)>0};hi.inGenerator.get=function(){return(this.currentVarScope().flags&I1)>0&&!this.currentVarScope().inClassFieldInit};hi.inAsync.get=function(){return(this.currentVarScope().flags&rw)>0&&!this.currentVarScope().inClassFieldInit};hi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&r_)return!1;if(e.flags&na)return(e.flags&rw)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};hi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&sw)>0||i||this.options.allowSuperOutsideMethod};hi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&C1)>0};hi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};hi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(na|r_))>0||i};hi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&r_)>0};Fe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Fe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Fe.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Fe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Fe.prototype,hi);var st=Fe.prototype,UP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;st.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Mt.lastIndex=t,t+=Mt.exec(this.input)[0].length;var e=UP.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Mt.lastIndex=t+e[0].length;var i=Mt.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||Ot.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Mt.lastIndex=t,t+=Mt.exec(this.input)[0].length,this.input[t]===";"&&t++}};st.eat=function(t){return this.type===t?(this.next(),!0):!1};st.isContextual=function(t){return this.type===_.name&&this.value===t&&!this.containsEsc};st.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};st.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};st.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||Ot.test(this.input.slice(this.lastTokEnd,this.start))};st.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};st.semicolon=function(){!this.eat(_.semi)&&!this.insertSemicolon()&&this.unexpected()};st.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};st.expect=function(t){this.eat(t)||this.unexpected()};st.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var vy=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");st.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};st.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};st.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};st.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var B=Fe.prototype;B.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==_.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var s=r[o];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var cw={kind:"loop"},jP={kind:"switch"};B.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Mt.lastIndex=this.pos;var e=Mt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Ni(o,!0)){for(var r=i+1;ia(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var s=this.input.slice(i,r);if(!RP.test(s))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Mt.lastIndex=this.pos;var t=Mt.exec(this.input),e=this.pos+t[0].length,i;return!Ot.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(ia(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};B.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),s;switch(this.isLet(t)&&(o=_._var,s="let"),o){case _._break:case _._continue:return this.parseBreakContinueStatement(r,o.keyword);case _._debugger:return this.parseDebuggerStatement(r);case _._do:return this.parseDoStatement(r);case _._for:return this.parseForStatement(r);case _._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case _._class:return t&&this.unexpected(),this.parseClass(r,!0);case _._if:return this.parseIfStatement(r);case _._return:return this.parseReturnStatement(r);case _._switch:return this.parseSwitchStatement(r);case _._throw:return this.parseThrowStatement(r);case _._try:return this.parseTryStatement(r);case _._const:case _._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case _._while:return this.parseWhileStatement(r);case _._with:return this.parseWithStatement(r);case _.braceL:return this.parseBlock(!0,r);case _.semi:return this.parseEmptyStatement(r);case _._export:case _._import:if(this.options.ecmaVersion>10&&o===_._import){Mt.lastIndex=this.pos;var l=Mt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===_._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var h=this.value,m=this.parseExpression();return o===_.name&&m.type==="Identifier"&&this.eat(_.colon)?this.parseLabeledStatement(r,h,m,t):this.parseExpressionStatement(r,m)}};B.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(_.semi)||this.insertSemicolon()?t.label=null:this.type!==_.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};B.parseDoStatement=function(t){return this.next(),this.labels.push(cw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};B.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(cw),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===_._var||this.type===_._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===_._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var s=this.isContextual("let"),l=!1,p=new vy,f=this.parseExpression(e>-1?"await":!0,p);return this.type===_._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===_._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};B.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,t_|(i?0:ow),!1,e)};B.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};B.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};B.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(_.braceL),this.labels.push(jP),this.enterScope(0);for(var e,i=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var o=this.type===_._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(_.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};B.parseThrowStatement=function(t){return this.next(),Ot.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var WP=[];B.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?S1:0),this.checkLValPattern(t,e?P1:Ri),this.expect(_.parenR),t};B.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===_._catch){var e=this.startNode();this.next(),this.eat(_.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(_._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};B.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};B.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(cw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};B.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};B.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};B.parseLabeledStatement=function(t,e,i,o){for(var r=0,s=this.labels;r<s.length;r+=1){var l=s[r];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===_._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var h=this.labels[f];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};B.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};B.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(_.braceL),t&&this.enterScope(0);this.type!==_.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};B.parseFor=function(t,e){return t.init=e,this.expect(_.semi),t.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),t.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};B.parseForIn=function(t,e){var i=this.type===_._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};B.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(_.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===_._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(_.comma))break}return t};B.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?lw:Ri,!1)};var t_=1,ow=2,A1=4;B.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===_.star&&e&ow&&this.unexpected(),t.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&t_&&(t.id=e&A1&&this.type!==_.name?null:this.parseIdent(),t.id&&!(e&ow)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?lw:Ri:E1));var s=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(uw(t.async,t.generator)),e&t_||(t.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=s,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&t_?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(t){this.expect(_.parenL),t.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(_.braceL);this.type!==_.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(r.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(s&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),s=!0):l.key&&l.key.type==="PrivateIdentifier"&&HP(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(t){if(this.eat(_.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,s=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===_.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===_.star)&&!this.canInsertSemicolon()?s=!0:o="async"),!o&&(e>=9||!s)&&this.eat(_.star)&&(r=!0),!o&&!s&&!r){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===_.parenL||l!=="method"||r||s){var h=!i.static&&my(i,"constructor"),m=h&&t;h&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":l,this.parseClassMethod(i,r,s,m)}else this.parseClassField(i);return i};B.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword};B.parseClassElementName=function(t){this.type===_.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};B.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&my(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};B.parseClassField=function(t){if(my(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&my(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};B.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(r_|sw);this.type!==_.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};B.parseClassId=function(t,e){this.type===_.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ri,!1)):(e===!0&&this.unexpected(),t.id=null)};B.parseClassSuper=function(t){t.superClass=this.eat(_._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};B.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],s=0;s<i.length;++s){var l=i[s];n_(e,l.name)||(r?r.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function HP(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(HP,"isPrivateNameConflicted");function my(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(my,"checkKeyName");B.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==_.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};B.parseExport=function(t,e){if(this.next(),this.eat(_.star))return this.parseExportAllDeclaration(t,e);if(this.eat(_._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};B.parseExportDeclaration=function(t){return this.parseStatement(null)};B.parseExportDefaultDeclaration=function(){var t;if(this.type===_._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,t_|A1,!1,t)}else if(this.type===_._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};B.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),n_(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};B.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var s=r[o];this.checkPatternExport(t,s)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};B.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};B.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(i)i=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;e.push(this.parseExportSpecifier(t))}return e};B.parseImport=function(t){return this.next(),this.type===_.string?(t.specifiers=WP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};B.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Ri),this.finishNode(t,"ImportSpecifier")};B.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Ri),this.finishNode(t,"ImportDefaultSpecifier")};B.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Ri),this.finishNode(t,"ImportNamespaceSpecifier")};B.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===_.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(_.comma)))return t;if(this.type===_.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(_.braceL);!this.eat(_.braceR);){if(e)e=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;t.push(this.parseImportSpecifier())}return t};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var t=this.parseLiteral(this.value);return BP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Dt=Fe.prototype;Dt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Dt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var s=t[i-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Dt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Dt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==_.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()};Dt.parseBindingList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(_.comma),e&&this.type===_.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===_.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),r.push(l),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};Dt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Dt.parseBindingListItem=function(t){return t};Dt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Dt.checkLValSimple=function(t,e,i){e===void 0&&(e=fy);var o=e!==fy;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ri&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(n_(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==N1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Dt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=fy),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Dt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=fy),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var zt=n(function(e,i,o,r,s){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!s},"TokContext"),Ie={b_stat:new zt("{",!1),b_expr:new zt("{",!0),b_tmpl:new zt("${",!1),p_stat:new zt("(",!1),p_expr:new zt("(",!0),q_tmpl:new zt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new zt("function",!1),f_expr:new zt("function",!0),f_expr_gen:new zt("function",!0,!1,null,!0),f_gen:new zt("function",!1,!1,null,!0)},ra=Fe.prototype;ra.initialContext=function(){return[Ie.b_stat]};ra.curContext=function(){return this.context[this.context.length-1]};ra.braceIsBlock=function(t){var e=this.curContext();return e===Ie.f_expr||e===Ie.f_stat?!0:t===_.colon&&(e===Ie.b_stat||e===Ie.b_expr)?!e.isExpr:t===_._return||t===_.name&&this.exprAllowed?Ot.test(this.input.slice(this.lastTokEnd,this.start)):t===_._else||t===_.semi||t===_.eof||t===_.parenR||t===_.arrow?!0:t===_.braceL?e===Ie.b_stat:t===_._var||t===_._const||t===_.name?!1:!this.exprAllowed};ra.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};ra.updateContext=function(t){var e,i=this.type;i.keyword&&t===_.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};ra.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};_.parenR.updateContext=_.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ie.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};_.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ie.b_stat:Ie.b_expr),this.exprAllowed=!0};_.dollarBraceL.updateContext=function(){this.context.push(Ie.b_tmpl),this.exprAllowed=!0};_.parenL.updateContext=function(t){var e=t===_._if||t===_._for||t===_._with||t===_._while;this.context.push(e?Ie.p_stat:Ie.p_expr),this.exprAllowed=!0};_.incDec.updateContext=function(){};_._function.updateContext=_._class.updateContext=function(t){t.beforeExpr&&t!==_._else&&!(t===_.semi&&this.curContext()!==Ie.p_stat)&&!(t===_._return&&Ot.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===_.colon||t===_.braceL)&&this.curContext()===Ie.b_stat)?this.context.push(Ie.f_expr):this.context.push(Ie.f_stat),this.exprAllowed=!1};_.backQuote.updateContext=function(){this.curContext()===Ie.q_tmpl?this.context.pop():this.context.push(Ie.q_tmpl),this.exprAllowed=!1};_.star.updateContext=function(t){if(t===_._function){var e=this.context.length-1;this.context[e]===Ie.f_expr?this.context[e]=Ie.f_expr_gen:this.context[e]=Ie.f_gen}this.exprAllowed=!0};_.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==_.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var G=Fe.prototype;G.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var l=e[r];if(l){var p;s==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[s],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[r]={init:!1,get:!1,set:!1};l[s]=!0}};G.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===_.comma){var s=this.startNodeAt(i,o);for(s.expressions=[r];this.eat(_.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r};G.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,s=-1,l=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new vy,o=!0);var p=this.start,f=this.startLoc;(this.type===_.parenL||this.type===_.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,f)),this.type.isAssign){var m=this.startNodeAt(p,f);return m.operator=this.value,this.type===_.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===_.eq?this.checkLValPattern(h):this.checkLValSimple(h),m.left=h,this.next(),m.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(m,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),h};G.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(_.question)){var s=this.startNodeAt(i,o);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(_.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r};G.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};G.parseExprOp=function(t,e,i,o,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==_._in)&&s>o){var l=this.type===_.logicalOR||this.type===_.logicalAND,p=this.type===_.coalesce;p&&(s=_.logicalAND.binop);var f=this.value;this.next();var h=this.start,m=this.startLoc,y=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,m,s,r),x=this.buildBinary(e,i,t,y,f,l||p);return(l&&this.type===_.coalesce||p&&(this.type===_.logicalOR||this.type===_.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(x,e,i,o,r)}return t};G.buildBinary=function(t,e,i,o,r,s){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=r,l.right=o,this.finishNode(l,s?"LogicalExpression":"BinaryExpression")};G.parseMaybeUnary=function(t,e,i,o){var r=this.start,s=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===_.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&R1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===_.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==_._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,s);h.operator=this.value,h.prefix=!1,h.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(_.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function R1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&R1(t.expression)}n(R1,"isPrivateFieldAccess");G.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,i,o,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};G.parseSubscripts=function(t,e,i,o,r){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,s,l,r);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};G.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_.arrow)};G.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};G.parseSubscript=function(t,e,i,o,r,s,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(_.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(_.bracketL);if(h||f&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var m=this.startNodeAt(e,i);m.object=t,h?(m.property=this.parseExpression(),this.expect(_.bracketR)):this.type===_.privateId&&t.type!=="Super"?m.property=this.parsePrivateIdent():m.property=this.parseIdent(this.options.allowReserved!=="never"),m.computed=!!h,p&&(m.optional=f),t=this.finishNode(m,"MemberExpression")}else if(!o&&this.eat(_.parenL)){var y=new vy,x=this.yieldPos,T=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var C=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,y);if(r&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=x,this.awaitPos=T,this.awaitIdentPos=k,this.parseSubscriptAsyncArrow(e,i,C,l);this.checkExpressionErrors(y,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var A=this.startNodeAt(e,i);A.callee=t,A.arguments=C,p&&(A.optional=f),t=this.finishNode(A,"CallExpression")}else if(this.type===_.backQuote){(f||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var F=this.startNodeAt(e,i);F.tag=t,F.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(F,"TaggedTemplateExpression")}return t};G.parseExprAtom=function(t,e,i){this.type===_.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===_.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(o,"Super");case _._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case _.name:var s=this.start,l=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(Ie.f_expr),this.parseFunction(this.startNodeAt(s,l),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(s,l),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===_.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(_.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,l),[f],!0,e)}return f;case _.regexp:var h=this.value;return o=this.parseLiteral(h.value),o.regex={pattern:h.pattern,flags:h.flags},o;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return o=this.startNode(),o.value=this.type===_._null?null:this.type===_._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case _.parenL:var m=this.start,y=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(y)&&(t.parenthesizedAssign=m),t.parenthesizedBind<0&&(t.parenthesizedBind=m)),y;case _.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(_.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case _.braceL:return this.overrideContext(Ie.b_expr),this.parseObj(!1,t);case _._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};G.parseExprAtomDefault=function(){this.unexpected()};G.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===_.parenL&&!t)return this.parseDynamicImport(e);if(this.type===_.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};G.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(_.parenR)){var e=this.start;this.eat(_.comma)&&this.eat(_.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};G.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};G.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};G.parseParenExpression=function(){this.expect(_.parenL);var t=this.parseExpression();return this.expect(_.parenR),t};G.shouldParseArrow=function(t){return!this.canInsertSemicolon()};G.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],h=!0,m=!1,y=new vy,x=this.yieldPos,T=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;)if(h?h=!1:this.expect(_.comma),s&&this.afterTrailingComma(_.parenR,!0)){m=!0;break}else if(this.type===_.ellipsis){k=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,y,this.parseParenItem));var C=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(_.parenR),t&&this.shouldParseArrow(f)&&this.eat(_.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=x,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||m)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(y,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(r=this.startNodeAt(l,p),r.expressions=f,this.finishNodeAt(r,"SequenceExpression",C,A)):r=f[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var F=this.startNodeAt(i,o);return F.expression=r,this.finishNode(F,"ParenthesizedExpression")}else return r};G.parseParenItem=function(t){return t};G.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var JP=[];G.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(_.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(_.parenL)?t.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1):t.arguments=JP,this.finishNode(t,"NewExpression")};G.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===_.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===_.backQuote,this.finishNode(i,"TemplateElement")};G.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(_.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};G.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!Ot.test(this.input.slice(this.lastTokEnd,this.start))};G.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(_.braceR);){if(o)o=!1;else if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};G.parseProperty=function(t,e){var i=this.startNode(),o,r,s,l;if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===_.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(s=this.start,l=this.startLoc),t||(o=this.eat(_.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,s,l,e,p),this.finishNode(i,"Property")};G.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};G.parsePropertyValue=function(t,e,i,o,r,s,l,p){(i||o)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===_.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==_.comma&&this.type!==_.braceR&&this.type!==_.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===_.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};G.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(_.bracketR),t.key;t.computed=!1}return t.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};G.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};G.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,s=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(uw(e,o.generator)|sw|(i?C1:0)),this.expect(_.parenL),o.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};G.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,s=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(uw(i,!1)|k1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};G.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==_.braceL,s=this.strict,l=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!s&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,N1),t.body=this.parseBlock(!1,void 0,l&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};G.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};G.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,lw,e?null:i)}};G.parseExprList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(_.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===_.comma?l=null:this.type===_.ellipsis?(l=this.parseSpread(o),o&&this.type===_.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),r.push(l)}return r};G.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};G.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};G.parseIdentNode=function(){var t=this.startNode();return this.type===_.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};G.parsePrivateIdent=function(){var t=this.startNode();return this.type===_.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};G.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(_.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};G.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var hy=Fe.prototype;hy.raise=function(t,e){var i=T1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};hy.raiseRecoverable=hy.raise;hy.curPosition=function(){if(this.options.locations)return new i_(this.curLine,this.pos-this.lineStart)};var bo=Fe.prototype,GP=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");bo.enterScope=function(t){this.scopeStack.push(new GP(t))};bo.exitScope=function(){this.scopeStack.pop()};bo.treatFunctionsAsVarInScope=function(t){return t.flags&na||!this.inModule&&t.flags&o_};bo.declareName=function(t,e,i){var o=!1;if(e===Ri){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&o_&&delete this.undefinedExports[t]}else if(e===P1){var s=this.currentScope();s.lexical.push(t)}else if(e===E1){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&S1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&o_&&delete this.undefinedExports[t],f.flags&aw)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};bo.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};bo.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};bo.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&aw)return e}};bo.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&aw&&!(e.flags&k1))return e}};var gy=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new _y(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),s_=Fe.prototype;s_.startNode=function(){return new gy(this,this.start,this.startLoc)};s_.startNodeAt=function(t,e){return new gy(this,t,e)};function M1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(M1,"finishNodeAt");s_.finishNode=function(t,e){return M1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};s_.finishNodeAt=function(t,e,i,o){return M1.call(this,t,e,i,o)};s_.copyNode=function(t){var e=new gy(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var V1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",O1=V1+" Extended_Pictographic",D1=O1,L1=D1+" EBase EComp EMod EPres ExtPict",B1=L1,zP=B1,$P={9:V1,10:O1,11:D1,12:L1,13:B1,14:zP},KP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",qP={9:"",10:"",11:"",12:"",13:"",14:KP},_1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",F1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Y1=F1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",U1=Y1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",j1=U1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",W1=j1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",XP=W1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",QP={9:F1,10:Y1,11:U1,12:j1,13:W1,14:XP},H1={};function ZP(t){var e=H1[t]={binary:xo($P[t]+" "+_1),binaryOfStrings:xo(qP[t]),nonBinary:{General_Category:xo(_1),Script:xo(QP[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(ZP,"buildUnicodeData");for(py=0,ew=[9,10,11,12,13,14];py<ew.length;py+=1)v1=ew[py],ZP(v1);var v1,py,ew,V=Fe.prototype,_i=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=H1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");_i.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},"reset");_i.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");_i.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var s=o.charCodeAt(e);if(!(i||this.switchU)||s<=55295||s>=57344||e+1>=r)return s;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(s<<10)+l-56613888:s},"at");_i.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var s=o.charCodeAt(e),l;return!(i||this.switchU)||s<=55295||s>=57344||e+1>=r||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");_i.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");_i.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");_i.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");_i.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");_i.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,s=e;r<s.length;r+=1){var l=s[r],p=this.at(o,i);if(p===-1||p!==l)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");V.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,s=0;s<i.length;s++){var l=i.charAt(s);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(o=!0),l==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};V.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};V.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};V.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};V.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};V.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};V.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};V.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};V.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};V.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};V.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};V.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};V.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};V.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};V.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};V.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};V.regexp_eatSyntaxCharacter=function(t){var e=t.current();return J1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function J1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(J1,"isSyntaxCharacter");V.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!J1(i);)t.advance();return t.pos!==e};V.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};V.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};V.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};V.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=yo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=yo(t.lastIntValue);return!0}return!1};V.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),eN(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function eN(t){return Ni(t,!0)||t===36||t===95}n(eN,"isRegExpIdentifierStart");V.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),tN(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function tN(t){return ia(t,!0)||t===36||t===95||t===8204||t===8205}n(tN,"isRegExpIdentifierPart");V.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};V.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};V.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};V.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};V.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};V.regexp_eatZero=function(t){return t.current()===48&&!xy(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};V.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};V.regexp_eatControlLetter=function(t){var e=t.current();return G1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function G1(t){return t>=65&&t<=90||t>=97&&t<=122}n(G1,"isControlLetter");V.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(r-55296)*1024+(l-56320)+65536,!0}t.pos=s,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&iN(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function iN(t){return t>=0&&t<=1114111}n(iN,"isValidUnicode");V.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};V.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var z1=0,Ai=1,Vt=2;V.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(oN(e))return t.lastIntValue=-1,t.advance(),Ai;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Vt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return z1};function oN(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(oN,"isCharacterClassEscape");V.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Ai}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return z1};V.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){n_(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};V.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ai;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Vt;t.raise("Invalid property name")};V.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";$1(e=t.current());)t.lastStringValue+=yo(e),t.advance();return t.lastStringValue!==""};function $1(t){return G1(t)||t===95}n($1,"isUnicodePropertyNameCharacter");V.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";nN(e=t.current());)t.lastStringValue+=yo(e),t.advance();return t.lastStringValue!==""};function nN(t){return $1(t)||xy(t)}n(nN,"isUnicodePropertyValueCharacter");V.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};V.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===Vt&&t.raise("Negated character class may contain strings"),!0}return!1};V.regexp_classContents=function(t){return t.current()===93?Ai:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ai)};V.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};V.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||X1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};V.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};V.regexp_classSetExpression=function(t){var e=Ai,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Vt&&(e=Vt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Vt&&(e=Ai);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===Vt&&(e=Vt)}};V.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};V.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ai:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};V.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Vt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};V.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};V.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Vt&&(e=Vt);return e};V.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ai:Vt};V.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&rN(i)||sN(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function rN(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(rN,"isClassSetReservedDoublePunctuatorCharacter");function sN(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(sN,"isClassSetSyntaxCharacter");V.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return aN(e)?(t.lastIntValue=e,t.advance(),!0):!1};function aN(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(aN,"isClassSetReservedPunctuator");V.regexp_eatClassControlLetter=function(t){var e=t.current();return xy(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};V.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};V.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;xy(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function xy(t){return t>=48&&t<=57}n(xy,"isDecimalDigit");V.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;K1(i=t.current());)t.lastIntValue=16*t.lastIntValue+q1(i),t.advance();return t.pos!==e};function K1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(K1,"isHexDigit");function q1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(q1,"hexToInt");V.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};V.regexp_eatOctalDigit=function(t){var e=t.current();return X1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function X1(t){return t>=48&&t<=55}n(X1,"isOctalDigit");V.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!K1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+q1(r),t.advance()}return!0};var dw=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new _y(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),oe=Fe.prototype;oe.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new dw(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};oe.getToken=function(){return this.next(),new dw(this)};typeof Symbol<"u"&&(oe[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===_.eof,value:e}}}});oe.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(_.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};oe.readToken=function(t){return Ni(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};oe.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};oe.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=y1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};oe.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!oa(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};oe.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&b1.test(String.fromCharCode(t)))++this.pos;else break e}}};oe.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};oe.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))};oe.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(_.assign,2):this.finishOp(_.slash,1)};oe.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?_.star:_.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=_.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(_.assign,i+1):this.finishOp(o,i)};oe.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(_.assign,3)}return this.finishOp(t===124?_.logicalOR:_.logicalAND,2)}return e===61?this.finishOp(_.assign,2):this.finishOp(t===124?_.bitwiseOR:_.bitwiseAND,1)};oe.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)};oe.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ot.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(_.incDec,2):e===61?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)};oe.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(_.assign,i+1):this.finishOp(_.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(_.relational,i))};oe.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(_.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(t===61?_.eq:_.prefix,1)};oe.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(_.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(_.assign,3)}return this.finishOp(_.coalesce,2)}}return this.finishOp(_.question,1)};oe.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ni(e,!0)||e===92))return this.finishToken(_.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+yo(e)+"'")};oe.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+yo(t)+"'")};oe.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};oe.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(Ot.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var s=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(s);var p=this.regexpState||(this.regexpState=new _i(this));p.reset(i,r,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(r,l)}catch(h){}return this.finishToken(_.regexp,{pattern:r,flags:l,value:f})};oe.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,s=this.pos,l=0,p=0,f=0,h=e==null?1/0:e;f<h;++f,++this.pos){var m=this.input.charCodeAt(this.pos),y=void 0;if(o&&m===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=m;continue}if(m>=97?y=m-97+10:m>=65?y=m-65+10:m>=48&&m<=57?y=m-48:y=1/0,y>=t)break;p=m,l=l*t+y}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:l};function uN(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(uN,"stringToNumber");function Q1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(Q1,"stringToBigInt");oe.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Q1(this.input.slice(e,this.pos)),++this.pos):Ni(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,i)};oe.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=Q1(this.input.slice(e,this.pos));return++this.pos,Ni(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ni(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=uN(this.input.slice(e,this.pos),i);return this.finishToken(_.num,s)};oe.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};oe.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(oa(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(_.string,e)};var Z1={};oe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Z1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};oe.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Z1;this.raise(t,e)};oe.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===_.template||this.type===_.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(_.dollarBraceL)):(++this.pos,this.finishToken(_.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(_.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(oa(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};oe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};oe.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return yo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return oa(e)?"":String.fromCharCode(e)}};oe.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};oe.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(ia(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Ni:ia)(l,o)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=yo(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};oe.readWord=function(){var t=this.readWord1(),e=_.name;return this.keywords.test(t)&&(e=nw[t]),this.finishToken(e,t)};var lN="8.10.0";Fe.acorn={Parser:Fe,version:lN,defaultOptions:iw,Position:i_,SourceLocation:_y,getLineInfo:T1,Node:gy,TokenType:le,tokTypes:_,keywordTypes:nw,TokContext:zt,tokContexts:Ie,isIdentifierChar:ia,isIdentifierStart:Ni,Token:dw,isNewLine:oa,lineBreak:Ot,lineBreakG:OP,nonASCIIwhitespace:b1};function eC(t,e){return Fe.parse(t,e)}n(eC,"parse");var cN=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},dN=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},yy,Fn=class{constructor(e){yy.set(this,void 0);let i=eC(e,{ecmaVersion:2020});cN(this,yy,i.body,"f"),this.visitor=new ta(dN(this,yy,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,r)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=console[s];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,r)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=Math[s];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,r)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=String[s];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(Fn,"Jinter");yy=new WeakMap;var Mi,$t,Oe,we,by,iC,fw,tC,oC,pw,wo=class{constructor(e){Mi.add(this),$t.set(this,void 0),Oe.set(this,void 0),we.set(this,void 0),by.set(this,5),I(this,Oe,e,"f")}init(e){return b(this,void 0,void 0,function*(){I(this,we,e,"f"),this.validateCredentials()?this.has_access_token_expired||d(this,Oe,"f").emit("auth",{credentials:d(this,we,"f"),status:"SUCCESS"}):(yield d(this,Mi,"m",iC).call(this))||(yield d(this,Mi,"m",fw).call(this))})}cacheCredentials(){var e;return b(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(d(this,we,"f")));yield(e=d(this,Oe,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return b(this,void 0,void 0,function*(){yield(e=d(this,Oe,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return b(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield d(this,Mi,"m",oC).call(this))})}revokeCredentials(){return b(this,void 0,void 0,function*(){if(!!d(this,we,"f"))return yield this.removeCache(),d(this,Oe,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(d(this,we,"f").access_token)}`,q.URLS.YT_BASE),{method:"post"})})}get credentials(){return d(this,we,"f")}get has_access_token_expired(){let e=d(this,we,"f")?new Date(d(this,we,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return d(this,we,"f")&&Reflect.has(d(this,we,"f"),"access_token")&&Reflect.has(d(this,we,"f"),"refresh_token")&&Reflect.has(d(this,we,"f"),"expires")||!1}};n(wo,"OAuth");$t=new WeakMap,Oe=new WeakMap,we=new WeakMap,by=new WeakMap,Mi=new WeakSet,iC=n(function(){var e;return b(this,void 0,void 0,function*(){let i=yield(e=d(this,Oe,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,r=JSON.parse(o.decode(i));return I(this,we,{access_token:r.access_token,refresh_token:r.refresh_token,client_id:r.client_id,client_secret:r.client_secret,expires:new Date(r.expires)},"f"),d(this,Oe,"f").emit("auth",{credentials:d(this,we,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),fw=n(function(){return b(this,void 0,void 0,function*(){I(this,$t,yield d(this,Mi,"m",pw).call(this),"f");let e={client_id:d(this,$t,"f").client_id,scope:q.OAUTH.SCOPE,device_id:D.shim.uuidv4(),device_model:q.OAUTH.MODEL_NAME},o=yield(yield d(this,Oe,"f").http.fetch_function(new URL("/o/oauth2/device/code",q.URLS.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();d(this,Oe,"f").emit("auth-pending",o),I(this,by,o.interval,"f"),d(this,Mi,"m",tC).call(this,o.device_code)})},"_OAuth_getUserCode"),tC=n(function(e){let i=setInterval(()=>b(this,void 0,void 0,function*(){var o,r;let s=Object.assign(Object.assign({},d(this,$t,"f")),{code:e,grant_type:q.OAUTH.GRANT_TYPE});try{let p=yield(yield d(this,Oe,"f").http.fetch_function(new URL("/o/oauth2/token",q.URLS.YT_BASE),{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(p.error){switch(p.error){case"access_denied":d(this,Oe,"f").emit("auth-error",new mi("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":d(this,Oe,"f").emit("auth-error",new mi("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),d(this,Mi,"m",fw).call(this);break;default:break}return}let f=new Date(new Date().getTime()+p.expires_in*1e3);I(this,we,{access_token:p.access_token,refresh_token:p.refresh_token,client_id:(o=d(this,$t,"f"))===null||o===void 0?void 0:o.client_id,client_secret:(r=d(this,$t,"f"))===null||r===void 0?void 0:r.client_secret,expires:f},"f"),d(this,Oe,"f").emit("auth",{credentials:d(this,we,"f"),status:"SUCCESS"}),clearInterval(i)}catch(l){return clearInterval(i),d(this,Oe,"f").emit("auth-error",new mi("Could not obtain user code.",{status:"FAILED",error:l}))}}),d(this,by,"f")*1e3)},"_OAuth_startPolling"),oC=n(function(){return b(this,void 0,void 0,function*(){if(!d(this,we,"f"))return;I(this,$t,yield d(this,Mi,"m",pw).call(this),"f");let e=Object.assign(Object.assign({},d(this,$t,"f")),{refresh_token:d(this,we,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield d(this,Oe,"f").http.fetch_function(new URL("/o/oauth2/token",q.URLS.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),r=new Date(new Date().getTime()+o.expires_in*1e3);I(this,we,{access_token:o.access_token,refresh_token:o.refresh_token||d(this,we,"f").refresh_token,client_id:d(this,$t,"f").client_id,client_secret:d(this,$t,"f").client_secret,expires:r},"f"),d(this,Oe,"f").emit("update-credentials",{credentials:d(this,we,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),pw=n(function(){var e,i,o;return b(this,void 0,void 0,function*(){if(((e=d(this,we,"f"))===null||e===void 0?void 0:e.client_id)&&((i=this.credentials)===null||i===void 0?void 0:i.client_secret))return Y.info(wo.TAG,`Using custom OAuth2 credentials.
`),{client_id:d(this,we,"f").client_id,client_secret:this.credentials.client_secret};let s=yield(yield d(this,Oe,"f").http.fetch_function(new URL("/tv",q.URLS.YT_BASE),{headers:q.OAUTH.HEADERS})).text(),l=(o=q.OAUTH.REGEX.AUTH_SCRIPT.exec(s))===null||o===void 0?void 0:o[1];if(!l)throw new mi("Could not obtain script url.",{status:"FAILED"});Y.info(wo.TAG,`Got YouTubeTV script URL (${l})`);let f=(yield(yield d(this,Oe,"f").http.fetch(l,{baseURL:q.URLS.YT_BASE})).text()).replace(/\n/g,"").match(q.OAUTH.REGEX.CLIENT_IDENTITY),h=f==null?void 0:f.groups;if(!h)throw new mi("Could not obtain client identity.",{status:"FAILED"});return Y.info(wo.TAG,`OAuth2 credentials retrieved.
`,h),h})},"_OAuth_getClientIdentity");wo.TAG="OAuth";var mw=wo;var a_,Yn,nC,rC,sC,wy=class{constructor(e){a_.add(this),Yn.set(this,void 0),I(this,Yn,e,"f")}get session(){return d(this,Yn,"f")}stats(e,i,o){return b(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))r.searchParams.set(l,o[l]);return yield d(this,Yn,"f").http.fetch(r)})}execute(e,i){var o,r;return b(this,void 0,void 0,function*(){let s;if(i&&!i.protobuf){if(s=Object.assign({},i),Reflect.has(s,"browseId")&&d(this,a_,"m",sC).call(this,s.browseId)&&!d(this,Yn,"f").logged_in)throw new v("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield d(this,Yn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,a_,"m",rC).call(this,f)&&((r=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let h=f.on_response_received_actions.firstOfType(to);h&&(f=yield h.endpoint.call(this,{parse:!0}))}return f}return d(this,a_,"m",nC).call(this,p)})}};n(wy,"Actions");Yn=new WeakMap,a_=new WeakSet,nC=n(function(e){return b(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),rC=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),sC=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var hw=wy;var sa,aa,u_,l_,Ee=class{constructor(e,i,o,r){sa.set(this,void 0),aa.set(this,void 0),u_.set(this,void 0),l_.set(this,void 0),I(this,sa,o,"f"),I(this,aa,i,"f"),I(this,u_,e,"f"),I(this,l_,r,"f")}static create(e,i=D.shim.fetch){return b(this,void 0,void 0,function*(){let o=new URL("/iframe_api",q.URLS.YT_BASE),r=yield i(o);if(r.status!==200)throw new Gt("Failed to request player id");let s=yield r.text(),l=Ue(s,"player\\/","\\/");if(Y.info(Ee.TAG,`Got player id (${l}). Checking for cached players..`),!l)throw new Gt("Failed to get player id");if(e){Y.info(Ee.TAG,"Found a cached player.");let T=yield Ee.fromCache(e,l);if(T)return T}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,q.URLS.YT_BASE);Y.info(Ee.TAG,`Could not find any cached player. Will download a new player from ${p}.`);let f=yield i(p,{headers:{"user-agent":No("desktop")}});if(!f.ok)throw new Gt(`Failed to get player data: ${f.status}`);let h=yield f.text(),m=this.extractSigTimestamp(h),y=this.extractSigSourceCode(h),x=this.extractNSigSourceCode(h);return Y.info(Ee.TAG,`Got signature timestamp (${m}) and algorithms needed to decipher signatures.`),yield Ee.fromSource(e,m,y,x,l)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new Gt("No valid URL to decipher");let s=new URLSearchParams(e),l=new URL(s.get("url")||e);if(i||o){let m=D.shim.eval(d(this,aa,"f"),{sig:s.get("s")});if(Y.info(Ee.TAG,`Transformed signature ${s.get("s")} to ${m}.`),typeof m!="string")throw new Gt("Failed to decipher signature");let y=s.get("sp");y?l.searchParams.set(y,m):l.searchParams.set("signature",m)}let p=l.searchParams.get("n");if(p){let m;if(r&&r.has(p))m=r.get(p);else{if(m=D.shim.eval(d(this,sa,"f"),{nsig:p}),Y.info(Ee.TAG,`Transformed nsig ${p} to ${m}.`),typeof m!="string")throw new Gt("Failed to decipher nsig");m.startsWith("enhanced_except_")?Y.warn(Ee.TAG,`Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):r&&r.set(p,m)}l.searchParams.set("n",m)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",q.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",q.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",q.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",q.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",q.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",q.CLIENTS.TV_EMBEDDED.VERSION);break}let h=l.toString();return Y.info(Ee.TAG,`Full deciphered URL: ${h}`),l.toString()}static fromCache(e,i){return b(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==Ee.LIBRARY_VERSION)return null;let l=r.getUint32(4,!0),p=r.getUint32(8,!0),f=o.slice(12,12+p),h=o.slice(12+p),m=new TextDecoder,y=m.decode(f),x=m.decode(h);return new Ee(l,y,x,i)})}static fromSource(e,i,o,r,s){return b(this,void 0,void 0,function*(){let l=new Ee(i,o,r,s);return yield l.cache(e),l})}cache(e){return b(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(d(this,aa,"f")),r=i.encode(d(this,sa,"f")),s=new ArrayBuffer(12+o.byteLength+r.byteLength),l=new DataView(s);l.setUint32(0,Ee.LIBRARY_VERSION,!0),l.setUint32(4,d(this,u_,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(s).set(o,12),new Uint8Array(s).set(r,12+o.byteLength),yield e.set(d(this,l_,"f"),new Uint8Array(s))})}static extractSigTimestamp(e){return parseInt(Ue(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let s=Ue(e,'function(a){a=a.split("")','return a.join("")}'),l=(r=(o=(i=s==null?void 0:s.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Ue(e,`var ${l}={`,"};");return(!p||!s)&&Y.warn(Ee.TAG,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Ue(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||Y.warn(Ee.TAG,"Failed to extract n-token decipher algorithm"),i}get url(){return new URL(`/s/player/${d(this,l_,"f")}/player_ias.vflset/en_US/base.js`,q.URLS.YT_BASE).toString()}get sts(){return d(this,u_,"f")}get nsig_sc(){return d(this,sa,"f")}get sig_sc(){return d(this,aa,"f")}static get LIBRARY_VERSION(){return 2}};n(Ee,"Player");sa=new WeakMap,aa=new WeakMap,u_=new WeakMap,l_=new WeakMap;Ee.TAG="Player";var _w=Ee;var ua,Ty,Iy,Un,ky,Sy,vw,aC,gw,xw;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(xw||(xw={}));var yt=class extends ca{constructor(e,i,o,r,s,l,p,f){super(),Ty.set(this,void 0),Iy.set(this,void 0),Un.set(this,void 0),ky.set(this,void 0),Sy.set(this,void 0),I(this,Un,e,"f"),I(this,ky,r,"f"),I(this,Iy,i,"f"),I(this,Ty,o,"f"),I(this,Sy,s,"f"),this.http=new Ky(this,l,p),this.actions=new hw(this),this.oauth=new mw(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return b(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:r,account_index:s}=yield yt.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new yt(i,o,r,s,e.retrieve_player===!1?void 0:yield _w.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,r="",s=!1,l=!1,p="desktop",f=xw.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,m=D.shim.fetch,y){return b(this,void 0,void 0,function*(){let x,T={lang:e,location:i,time_zone:h,device_category:p,client_name:f,enable_safety_mode:s,visitor_data:r,on_behalf_of_user:y};if(Y.info(yt.TAG,"Retrieving InnerTube session."),l)x=d(this,ua,"m",gw).call(this,T);else try{x=yield d(this,ua,"m",aC).call(this,T,m)}catch(k){Y.error(yt.TAG,"Failed to retrieve session data from server. Will try to generate it locally."),x=d(this,ua,"m",gw).call(this,T)}return Y.info(yt.TAG,`Got session data.
`,x),Object.assign(Object.assign({},x),{account_index:o})})}signIn(e){return b(this,void 0,void 0,function*(){return new Promise((i,o)=>b(this,void 0,void 0,function*(){let r=n(s=>o(s),"error_handler");this.once("auth",s=>{this.off("auth-error",r),s.status==="SUCCESS"&&(this.logged_in=!0,i()),o(s)}),this.once("auth-error",r);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(s){o(s)}}))})}signOut(){return b(this,void 0,void 0,function*(){if(!this.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return d(this,Iy,"f")}get api_version(){return d(this,Ty,"f")}get client_version(){return d(this,Un,"f").client.clientVersion}get client_name(){return d(this,Un,"f").client.clientName}get account_index(){return d(this,ky,"f")}get context(){return d(this,Un,"f")}get player(){return d(this,Sy,"f")}get lang(){return d(this,Un,"f").client.hl}};n(yt,"Session");ua=yt,Ty=new WeakMap,Iy=new WeakMap,Un=new WeakMap,ky=new WeakMap,Sy=new WeakMap,vw=n(function(e){let i=ab(e);return Y.info(yt.TAG,`Custom visitor data decoded successfully.
`,i),i.id},"_Session_getVisitorID"),aC=n(function(e,i=D.shim.fetch){return b(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",ut.YT_BASE),r=Nt(11);e.visitor_data&&(r=d(this,ua,"m",vw).call(this,e.visitor_data));let s=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":No("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!s.ok)throw new ys(`Failed to retrieve session data: ${s.status}`);let l=yield s.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],h=de.WEB.API_VERSION,[[m],y]=f,x={client:{hl:m[0],gl:e.location||m[2],remoteHost:m[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:m[13],clientName:e.client_name,clientVersion:m[16],osName:m[17],osVersion:m[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:m[79]||e.time_zone,browserName:m[86],browserVersion:m[87],originalUrl:ut.YT_BASE,deviceMake:m[11],deviceModel:m[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.on_behalf_of_user&&(x.user.onBehalfOfUser=e.on_behalf_of_user),{context:x,api_key:y,api_version:h}})},"_Session_retrieveSessionData"),gw=n(function(e){let i=Nt(11);e.visitor_data&&(i=d(this,ua,"m",vw).call(this,e.visitor_data));let o={client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:sb(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:de.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:ut.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.on_behalf_of_user&&(o.user.onBehalfOfUser=e.on_behalf_of_user),{context:o,api_key:de.WEB.API_KEY,api_version:de.WEB.API_VERSION}},"_Session_generateSessionData");yt.TAG="Session";var yw=yt;var bw={};L(bw,{Kids:()=>Ey,Music:()=>Ay,Studio:()=>My});var Qe,Cy=class{constructor(e){Qe.set(this,void 0),I(this,Qe,e,"f")}search(e){return b(this,void 0,void 0,function*(){let i=yield d(this,Qe,"f").actions.execute(xt.PATH,xt.build({client:"YTKIDS",query:e}));return new jx(d(this,Qe,"f").actions,i)})}getInfo(e){var i;return b(this,void 0,void 0,function*(){let o=nt.build({sts:(i=d(this,Qe,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),r=Ce.build({video_id:e,client:"YTKIDS"}),s=d(this,Qe,"f").actions.execute(nt.PATH,o),l=d(this,Qe,"f").actions.execute(Ce.PATH,r),p=yield Promise.all([s,l]),f=Nt(16);return new Hx(p,d(this,Qe,"f").actions,f)})}getChannel(e){return b(this,void 0,void 0,function*(){let i=yield d(this,Qe,"f").actions.execute(U.PATH,U.build({browse_id:e,client:"YTKIDS"}));return new Fx(d(this,Qe,"f").actions,i)})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield d(this,Qe,"f").actions.execute(U.PATH,U.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new Yx(d(this,Qe,"f").actions,e)})}blockChannel(e){var i,o;return b(this,void 0,void 0,function*(){if(!d(this,Qe,"f").logged_in)throw new v("You must be signed in to perform this operation.");let r=Dn.build({channel_id:e}),p={contents:(yield d(this,Qe,"f").actions.execute(Dn.PATH,r)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},h=(i=c.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(Yr);if(!h)throw new v("Could not find any kids profiles or supervised accounts.");let m=[];for(let y of h)!((o=y.block_button)===null||o===void 0)&&o.is_toggled||(y.setActions(d(this,Qe,"f").actions),m.push(yield y.blockChannel()));return m})}};n(Cy,"Kids");Qe=new WeakMap;var Ey=Cy;var Py,c_,pe,uC,lC,Ny=class{constructor(e){Py.add(this),c_.set(this,void 0),pe.set(this,void 0),I(this,c_,e,"f"),I(this,pe,e.actions,"f")}getInfo(e){if(e instanceof Nr)return d(this,Py,"m",lC).call(this,e);if(typeof e=="string")return d(this,Py,"m",uC).call(this,e);throw new v("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return b(this,void 0,void 0,function*(){ie({query:e});let o=yield d(this,pe,"f").execute(xt.PATH,xt.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?cb(i):void 0}));return new Lx(o,d(this,pe,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(U.PATH,U.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Mx(e,d(this,pe,"f"))})}getExplore(){return b(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Rx(e)})}getLibrary(){return b(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new Vx(e,d(this,pe,"f"))})}getArtist(e){return b(this,void 0,void 0,function*(){if(ie({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new v("Invalid artist id",e);let i=yield d(this,pe,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:e}));return new Nx(i,d(this,pe,"f"))})}getAlbum(e){return b(this,void 0,void 0,function*(){if(ie({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new v("Invalid album id",e);let i=yield d(this,pe,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:e}));return new Cx(i)})}getPlaylist(e){return b(this,void 0,void 0,function*(){ie({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield d(this,pe,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:e}));return new ds(i,d(this,pe,"f"))})}getUpNext(e,i=!0){var o,r,s;return b(this,void 0,void 0,function*(){ie({video_id:e});let p=(o=(yield d(this,pe,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(be),f=p==null?void 0:p.first();if(!f)throw new v("Could not find target tab.");let h=(r=f.content)===null||r===void 0?void 0:r.as(Ar);if(!h||!h.content)throw new v("Music queue was empty, the given id is probably invalid.",h);let m=h.content.as(ni);if(!m.playlist_id&&i){let y=m.contents.firstOfType(Bi);if(!y)throw new v("Automix item not found");let x=yield(s=y.playlist_video)===null||s===void 0?void 0:s.endpoint.call(d(this,pe,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!x||!x.contents_memo)throw new v("Could not fetch automix");return x.contents_memo.getType(ni).first()}return m})}getRelated(e){var i;return b(this,void 0,void 0,function*(){ie({video_id:e});let r=(i=(yield d(this,pe,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(be),s=r==null?void 0:r.matchCondition(f=>{var h,m;return((m=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!s)throw new v("Could not find target tab.");let l=yield s.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new v("Unexpected response",l);return l.contents.item().as(X).contents.as(Me,Jo)})}getLyrics(e){var i;return b(this,void 0,void 0,function*(){ie({video_id:e});let r=(i=(yield d(this,pe,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(be),s=r==null?void 0:r.matchCondition(f=>{var h,m;return((m=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!s)throw new v("Could not find target tab.");let l=yield s.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new v("Unexpected response",l);if(l.contents.item().type==="Message")throw new v(l.contents.item().as($e).text.toString(),e);return l.contents.item().as(X).contents.firstOfType(Jo)})}getRecap(){return b(this,void 0,void 0,function*(){let e=yield d(this,pe,"f").execute(U.PATH,U.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new Dx(e,d(this,pe,"f"))})}getSearchSuggestions(e){return b(this,void 0,void 0,function*(){let i=yield d(this,pe,"f").execute(Pn.PATH,Object.assign(Object.assign({},Pn.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(Cg):[]})}};n(Ny,"Music");c_=new WeakMap,pe=new WeakMap,Py=new WeakSet,uC=n(function(e){var i;return b(this,void 0,void 0,function*(){let o=nt.build({video_id:e,sts:(i=d(this,c_,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),r=Ce.build({video_id:e,client:"YTMUSIC"}),s=d(this,pe,"f").execute(nt.PATH,o),l=d(this,pe,"f").execute(Ce.PATH,r),p=yield Promise.all([s,l]),f=Nt(16);return new Qh(p,d(this,pe,"f"),f)})},"_Music_fetchInfoFromVideoId"),lC=n(function(e){var i;return b(this,void 0,void 0,function*(){if(!e)throw new v("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=d(this,c_,"f").player)===null||i===void 0?void 0:i.sts})}}),r=e.endpoint.call(d(this,pe,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=Nt(16),l=yield Promise.all([o,r]);return new Qh(l,d(this,pe,"f"),s)})},"_Music_fetchInfoFromListItem");var Ay=Ny;var d_,Kt,cC,dC,pC,Ry=class{constructor(e){d_.add(this),Kt.set(this,void 0),I(this,Kt,e,"f")}setThumbnail(e,i){return b(this,void 0,void 0,function*(){if(!d(this,Kt,"f").logged_in)throw new v("You must be signed in to perform this operation.");if(!e||!i)throw new Ln("One or more parameters are missing.");let o=_b(e,i);return yield d(this,Kt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return b(this,void 0,void 0,function*(){if(!d(this,Kt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=hb(e,i);return yield d(this,Kt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return b(this,void 0,void 0,function*(){if(!d(this,Kt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,d_,"m",cC).call(this),r=yield d(this,d_,"m",dC).call(this,o.upload_url,e);if(r.status!=="STATUS_SUCCESS")throw new v("Could not process video.");return yield d(this,d_,"m",pC).call(this,o,r,i)})}};n(Ry,"Studio");Kt=new WeakMap,d_=new WeakSet,cC=n(function(){return b(this,void 0,void 0,function*(){let e=`innertube_android:${D.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${D.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield d(this,Kt,"f").http.fetch("/upload/youtubei",{baseURL:q.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new v("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),dC=n(function(e,i){return b(this,void 0,void 0,function*(){let o=yield d(this,Kt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new v("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),pC=n(function(e,i,o){return b(this,void 0,void 0,function*(){return yield d(this,Kt,"f").actions.execute(On.PATH,On.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var My=Ry;var ww={};L(ww,{AccountManager:()=>Oy,InteractionManager:()=>Fy,PlaylistManager:()=>Ly});var bt,Vy=class{constructor(e){bt.set(this,void 0),I(this,bt,e,"f"),this.channel={editName:i=>{if(!d(this,bt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return d(this,bt,"f").execute(Pi.EditNameEndpoint.PATH,Pi.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!d(this,bt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return d(this,bt,"f").execute(Pi.EditDescriptionEndpoint.PATH,Pi.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return b(this,void 0,void 0,function*(){if(!d(this,bt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield d(this,bt,"f").execute(Tn.AccountListEndpoint.PATH,Tn.AccountListEndpoint.build());return new Qg(e)})}getTimeWatched(){return b(this,void 0,void 0,function*(){let e=yield d(this,bt,"f").execute(U.PATH,U.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new kx(e)})}getSettings(){return b(this,void 0,void 0,function*(){let e=yield d(this,bt,"f").execute(U.PATH,U.build({browse_id:"SPaccount_overview"}));return new Tx(d(this,bt,"f"),e)})}getAnalytics(){var e;return b(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield d(this,bt,"f").execute(U.PATH,U.build({browse_id:"FEanalytics_screen",params:ub((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new ex(o)})}};n(Vy,"AccountManager");bt=new WeakMap;var Oy=Vy;var Re,Dy=class{constructor(e){Re.set(this,void 0),I(this,Re,e,"f")}create(e,i){return b(this,void 0,void 0,function*(){if(ie({title:e,video_ids:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Re,"f").execute(An.PATH,An.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return b(this,void 0,void 0,function*(){if(ie({playlist_id:e}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let i=yield d(this,Re,"f").execute(Rn.PATH,Rn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return b(this,void 0,void 0,function*(){if(ie({playlist_id:e,video_ids:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Re,"f").execute(rt.PATH,rt.build({actions:i.map(r=>({action:"ACTION_ADD_VIDEO",added_video_id:r})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return b(this,void 0,void 0,function*(){if(ie({playlist_id:e,video_ids:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Re,"f").execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:`VL${e}`})),{parse:!0})),r=new Ii(d(this,Re,"f"),o,!0);if(!r.info.is_editable)throw new v("This playlist cannot be edited.",e);let s={playlist_id:e,actions:[]},l=n(f=>b(this,void 0,void 0,function*(){if(f.videos.filter(m=>i.includes(m.key("id").string())).forEach(m=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:m.key("set_video_id").string()})),s.actions.length<i.length){let m=yield f.getContinuation();return l(m)}}),"getSetVideoIds");if(yield l(r),!s.actions.length)throw new v("Given video ids were not found in this playlist.",i);let p=yield d(this,Re,"f").execute(rt.PATH,rt.build(s));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return b(this,void 0,void 0,function*(){if(ie({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let r=yield d(this,Re,"f").execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:`VL${e}`})),{parse:!0})),s=new Ii(d(this,Re,"f"),r,!0);if(!s.info.is_editable)throw new v("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,h=n(y=>b(this,void 0,void 0,function*(){let x=y.videos.find(k=>i===k.key("id").string()),T=y.videos.find(k=>o===k.key("id").string());if(p=p||(x==null?void 0:x.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!p||!f){let k=yield y.getContinuation();return h(k)}}),"getSetVideoIds");yield h(s),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let m=yield d(this,Re,"f").execute(rt.PATH,rt.build(l));return{playlist_id:e,action_result:m.data.actions}})}setName(e,i){return b(this,void 0,void 0,function*(){if(ie({playlist_id:e,name:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let r=yield d(this,Re,"f").execute(rt.PATH,rt.build(o));return{playlist_id:e,action_result:r.data.actions}})}setDescription(e,i){return b(this,void 0,void 0,function*(){if(ie({playlist_id:e,description:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let r=yield d(this,Re,"f").execute(rt.PATH,rt.build(o));return{playlist_id:e,action_result:r.data.actions}})}};n(Dy,"PlaylistManager");Re=new WeakMap;var Ly=Dy;var He,By=class{constructor(e){He.set(this,void 0),I(this,He,e,"f")}like(e){return b(this,void 0,void 0,function*(){if(ie({video_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Sn.PATH,Sn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return b(this,void 0,void 0,function*(){if(ie({video_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Cn.PATH,Cn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return b(this,void 0,void 0,function*(){if(ie({video_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(En.PATH,En.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return b(this,void 0,void 0,function*(){if(ie({channel_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Mn.PATH,Mn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return b(this,void 0,void 0,function*(){if(ie({channel_id:e}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(Vn.PATH,Vn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return b(this,void 0,void 0,function*(){if(ie({video_id:e,text:i}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,He,"f").execute(kn.PATH,kn.build({comment_text:i,create_comment_params:fb(e),client:"ANDROID"}))})}translate(e,i,o={}){return b(this,void 0,void 0,function*(){ie({text:e,target_language:i});let r=Lo(22,Object.assign({text:e,target_language:i},o)),s=yield d(this,He,"f").execute(In.PATH,In.build({client:"ANDROID",actions:[r]})),l=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:l.translatedContent.content,data:s.data}})}setNotificationPreferences(e,i){return b(this,void 0,void 0,function*(){if(ie({channel_id:e,type:i}),!d(this,He,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield d(this,He,"f").execute(Nn.PATH,Nn.build({client:"WEB",params:mb(e,o[i.toUpperCase()])}))})}};n(By,"InteractionManager");He=new WeakMap;var Fy=By;var Ze,la=class{constructor(e){Ze.set(this,void 0),I(this,Ze,e,"f")}static create(e={}){return b(this,void 0,void 0,function*(){return new la(yield yw.create(e))})}getInfo(e,i){var o,r,s,l,p;return b(this,void 0,void 0,function*(){ie({target:e});let f;if(e instanceof g)f=Ce.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(s=e.payload)===null||s===void 0?void 0:s.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ce.build({video_id:e});else throw new v("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new v("Video id cannot be empty",f);let h=nt.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,Ze,"f").player)===null||p===void 0?void 0:p.sts}),m=this.actions.execute(nt.PATH,h),y=this.actions.execute(Ce.PATH,f),x=yield Promise.all([m,y]),T=Nt(16);return new Hh(x,this.actions,T)})}getBasicInfo(e,i){var o;return b(this,void 0,void 0,function*(){ie({video_id:e});let r=yield this.actions.execute(nt.PATH,nt.build({video_id:e,client:i,sts:(o=d(this,Ze,"f").player)===null||o===void 0?void 0:o.sts})),s=Nt(16);return new Hh([r],this.actions,s)})}getShortsWatchItem(e,i){return b(this,void 0,void 0,function*(){ie({short_id:e});let o=this.actions.execute(Pt.WatchEndpoint.PATH,Pt.WatchEndpoint.build({short_id:e,client:i})),r=this.actions.execute(Pt.WatchSequenceEndpoint.PATH,Pt.WatchSequenceEndpoint.build({sequenceParams:gb(e)})),s=yield Promise.all([o,r]);return new ay(s,this.actions)})}search(e,i={}){return b(this,void 0,void 0,function*(){ie({query:e});let o=yield this.actions.execute(xt.PATH,xt.build({query:e,params:i?lb(i):void 0}));return new wx(this.actions,o)})}getSearchSuggestions(e){return b(this,void 0,void 0,function*(){ie({query:e});let i=new URL(`${ut.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",d(this,Ze,"f").context.client.hl),i.searchParams.set("gl",d(this,Ze,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let r=yield(yield d(this,Ze,"f").http.fetch(i)).text();return JSON.parse(r.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return b(this,void 0,void 0,function*(){ie({video_id:e});let o=yield this.actions.execute(Ce.PATH,Ce.build({continuation:pb(e,{sort_by:i||"TOP_COMMENTS"})}));return new nx(this.actions,o.data)})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,U.build({browse_id:"FEwhat_to_watch"}));return new Ht(this.actions,e)})}getGuide(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(vs.PATH);return new sx(e.data)})}getLibrary(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,U.build({browse_id:"FElibrary"}));return new fx(this.actions,e)})}getHistory(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,U.build({browse_id:"FEhistory"}));return new Xr(this.actions,e)})}getTrending(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:"FEtrending"})),{parse:!0}));return new tn(this.actions,e)})}getSubscriptionsFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new _e(this.actions,e)})}getChannelsFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:"FEchannels"})),{parse:!0}));return new _e(this.actions,e)})}getChannel(e){return b(this,void 0,void 0,function*(){ie({id:e});let i=yield this.actions.execute(U.PATH,U.build({browse_id:e}));return new Ve(this.actions,i)})}getNotifications(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(bn.PATH,bn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new bx(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,r;return b(this,void 0,void 0,function*(){let s=yield this.actions.execute(gs.GetUnseenCountEndpoint.PATH);return((e=s.data)===null||e===void 0?void 0:e.unseenCount)||((r=(o=(i=s.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||r===void 0?void 0:r.unseenCount)||0})}getPlaylist(e){return b(this,void 0,void 0,function*(){ie({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(U.PATH,U.build({browse_id:e}));return new Ii(this.actions,i)})}getHashtag(e){return b(this,void 0,void 0,function*(){ie({hashtag:e});let i=yield this.actions.execute(U.PATH,U.build({browse_id:"FEhashtag",params:vb(e)}));return new di(this.actions,i)})}getStreamingData(e,i={}){return b(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return b(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return b(this,void 0,void 0,function*(){return(yield this.actions.execute(wn.PATH,Object.assign(Object.assign({},wn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Ay(d(this,Ze,"f"))}get studio(){return new My(d(this,Ze,"f"))}get kids(){return new Ey(d(this,Ze,"f"))}get account(){return new Oy(d(this,Ze,"f").actions)}get playlist(){return new Ly(d(this,Ze,"f").actions)}get interact(){return new Fy(d(this,Ze,"f").actions)}get actions(){return d(this,Ze,"f").actions}get session(){return d(this,Ze,"f")}};n(la,"Innertube");Ze=new WeakMap;var Tw=la;var fC={};var mC=Tw;var hC="JsRuntime";function Iw(t,e){Y.info(hC,`Evaluating JavaScript.
`,t);let i=new Fn(t);for(let[r,s]of Object.entries(e))i.scope.set(r,s);let o=i.interpret();return Y.info(hC,"Done. Result:",o),o}n(Iw,"evaluate");var p_,kw,Yy,Uy,jy,Wy=class{constructor(e=!1,i){p_.add(this),kw.set(this,"Cache"),Yy.set(this,void 0),Uy.set(this,void 0),I(this,Yy,i||"","f"),I(this,Uy,e,"f")}get cache_dir(){return d(this,Uy,"f")?d(this,Yy,"f"):""}get(e){return b(this,void 0,void 0,function*(){let i=yield d(this,p_,"m",jy).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);s.onerror=r,s.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return b(this,void 0,void 0,function*(){let o=yield d(this,p_,"m",jy).call(this);if(!!o)return new Promise((r,s)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=s,l.onsuccess=()=>r()})})}remove(e){return b(this,void 0,void 0,function*(){let i=yield d(this,p_,"m",jy).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);s.onerror=r,s.onsuccess=()=>o()})})}};n(Wy,"Cache");kw=new WeakMap,Yy=new WeakMap,Uy=new WeakMap,p_=new WeakSet,jy=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(s){o("indexedDB request error"),console.error(s)},r.onupgradeneeded=function(){let s=this.result.createObjectStore("kv-store",{keyPath:"k"});s.transaction.oncomplete=function(){i(this.db)}}}):Y.warn(d(this,kw,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");D.load({runtime:"browser",server:!1,info:{version:cy.version,bugs_url:cy.bugs.url,repo_url:cy.homepage.split("#")[0]},Cache:Wy,sha1Hash:zb,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:Iw,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var gNe=mC;export{hw as Actions,Ro as AppendContinuationItemsAction,xw as ClientType,bw as Clients,q as Constants,Xo as Continuation,Ti as ContinuationCommand,Wb as Endpoints,ca as EventEmitter,Po as FormatUtils,Pb as Generator,no as GridContinuation,Ky as HTTPClient,Gy as Helpers,Tw as Innertube,eo as ItemSectionContinuation,ro as LiveChatContinuation,Y as Log,ww as Managers,Jb as Misc,Db as Mixins,oo as MusicPlaylistShelfContinuation,li as MusicShelfContinuation,to as NavigateAction,mw as OAuth,c as Parser,D as Platform,_w as Player,Wr as PlaylistPanelContinuation,kt as Proto,io as ReloadContinuationItemsCommand,dt as SectionListContinuation,yw as Session,jr as ShowMiniplayerCommand,fC as Types,gC as UniversalCache,Xy as Utils,Fb as YT,jb as YTKids,Ub as YTMusic,Wo as YTNodes,Hb as YTShorts,gNe as default};
//# sourceMappingURL=browser.min.js.map
